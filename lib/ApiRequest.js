(function(){define("lib/ApiRequestDefs",[],function(){var e;return e={login:{url:"/session/",method:"login",params:["username","password"]},logout:{url:"/session/",method:"logout",params:["usercode","session_id"]},syncRedis:{url:"/session/",method:"sync_redis",params:["usercode","session_id"]},updateCred:{url:"/session/",method:"set_credential",params:["usercode","session_id","access_key","secret_key","account_id"]},resetKey:{url:"/account/",method:"reset_key",params:["usercode","session_id","flag"]}},e.Parsers={login:function(e){return{usercode:e[0],email:e[1],user_hash:e[2],session_id:e[3],account_id:e[4],mod_repo:e[5],mod_tag:e[6],state:e[7],has_cred:e[8]}}},e.autoFill=function(e){switch(e){case"username":return $.cookie("username");case"usercode":return $.cookie("usercode");case"session_id":return $.cookie("session_id")}return null},e})}).call(this),function(){define("ApiRequest",["lib/ApiRequestDefs","MC"],function(e){var t,n,r,i,s,o,u,a,f;return u=[""],s=[],o={},a={jsonrpc:"2.0",id:"1",method:"",params:{}},f=function(e){throw e},r=function(e){return(!e||!e.result||e.result.length!==2)&&f({error:-1,msg:"Invalid JsonRpc Return Data"}),e.result[0]!==0&&f({error:e.result[0],msg:"Service Error",result:e.result[1]}),e.result[1]},n=function(e,t,n){!n&&e.status!==200&&f({error:-e.status,msg:"Network Error"}),f({error:-2,msg:t,result:n})},t=function(){this.ajax.abort()},i=function(i,f){var l,c,h,p,d,v,m,g;l=e[i],f=f||o;if(!l){void 0;return}a.method=l.method||"";if(l.params){a.params=p=[],g=l.params;for(v=0,m=g.length;v<m;v++)h=g[v],p.push(f[h]||e.autoFill(h))}else f?(u[0]=f,a.params=u):a.params=s;return c=$.ajax({url:MC.API_HOST+l.url,dataType:"json",type:"POST",data:JSON.stringify(a)}),d=Q(c).then(r,n),e.Parsers[i]&&(d=d.then(e.Parsers[i])),d.abort=t,d.ajax=c,d},i})}.call(this);