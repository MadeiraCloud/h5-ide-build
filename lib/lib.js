/*
#**********************************************************
#* Filename: MC.core.js
#* Creator: Angel
#* Description: The core of the whole system
#* Date: 20131115
# **********************************************************
# (c) Copyright 2013 Madeiracloud  All Rights Reserved
# **********************************************************
*/

/*!
	 * jQuery Cookie Plugin v1.3.1
	 * https://github.com/carhartl/jquery-cookie
	 *
	 * Copyright 2013 Klaus Hartl
	 * Released under the MIT license
	 */

/*
#**********************************************************
#* MC.canvas
#* Description: Canvas logic core
# **********************************************************
# (c) Copyright 2014 Madeiracloud  All Rights Reserved
# **********************************************************
*/

/*
#**********************************************************
#* Filename: MC.validate.js
#* Creator: Tim
#* Description: Validate helper of logic
#* Date: 20130813
# **********************************************************
# (c) Copyright 2013 Madeiracloud  All Rights Reserved
# **********************************************************
*/

define("ui/MC.template",["handlebars"],function(e){var t,n={tab:{},notification:{}};return t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<li id="tab-bar-'+a((o=t&&t.tab_id,typeof o===u?o.apply(t):o))+'" data-tab-type="'+a((o=t&&t.tab_type,typeof o===u?o.apply(t):o))+'">\n	<a href="#tab-content-'+a((o=t&&t.tab_id,typeof o===u?o.apply(t):o))+'" title="'+a((o=t&&t.tab_name,typeof o===u?o.apply(t):o))+'" data-tab-id="'+a((o=t&&t.tab_id,typeof o===u?o.apply(t):o))+'" class="truncate tab-bar-truncate">\n		<i class="icon-tabbar-label"></i>\n		'+a((o=t&&t.tab_name,typeof o===u?o.apply(t):o))+'\n	</a>\n	<a href="javascript:void(0)" class="close-restriction icon-close" title="'+a(n.i18n.call(t,"TOOL_TIT_CLOSE_TAB",{hash:{},data:i}))+'"></a>\n</li>\n\n',s},n.tab.item=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<li id="tab-bar-'+a((o=t&&t.target_id,typeof o===u?o.apply(t):o))+'">\n	<a href="#tab-content-'+a((o=t&&t.target_id,typeof o===u?o.apply(t):o))+'" data-toggle="tab" class="truncate tab-bar-truncate" title="'+a((o=t&&t.target_id,typeof o===u?o.apply(t):o))+'">\n		<i class="icon-dashboard-tabbar icon-tabbar-label"></i>\n		'+a((o=t&&t.target_id,typeof o===u?o.apply(t):o))+'\n	</a>\n	<a href="javascript:void(0)" class="icon-close close-tab" title="'+a(n.i18n.call(t,"TOOL_TIT_CLOSE_TAB",{hash:{},data:i}))+'"></a>\n</li>\n\n',s},n.tab.dashboard=e.template(t),t=function(e,t,n,r,i){function l(e,t){return'\n		<i class="notification_close">&times;</i>\n	'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="notification_item '+a((o=t&&t.type,typeof o===u?o.apply(t):o))+'_item">\n	<span>'+a((o=t&&t.template,typeof o===u?o.apply(t):o))+"</span>\n	",o=n["if"].call(t,t&&t.should_stay,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n\n",s},n.notification.item=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="",i;r+='\n			<div class="modal-text-wraper">\n				<div class="modal-center-align-helper">\n					',i=n["if"].call(e,e&&e.input,{hash:{},inverse:f.program(4,h,t),fn:f.program(2,c,t),data:t});if(i||i===0)r+=i;return r+="\n				</div>\n			</div>\n		",r}function c(e,t){var n="",r;return n+='\n						<div class="modal-control-group">\n							<label class="modal-text-major">'+a((r=e&&e.body,typeof r===u?r.apply(e):r))+'</label>\n							<input id="modal-input-value" class="input" type="text" value="'+a((r=e&&e.input,typeof r===u?r.apply(e):r))+'" />\n						</div>\n					',n}function h(e,t){var r="",i;r+='\n						<div class="modal-text-major">\n							',i=(i=e&&e.body,typeof i===u?i.apply(e):i);if(i||i===0)r+=i;r+="\n						</div>\n						",i=n["if"].call(e,e&&e.is_asg,{hash:{},inverse:f.noop,fn:f.program(5,p,t),data:t});if(i||i===0)r+=i;return r+="\n					",r}function p(e,t){var r="";return r+='\n							<div class="modal-text-minor">'+a(n.i18n.call(e,"POP_CONFIRM_STOP_ASG",{hash:{},data:t}))+"</div>\n						",r}function d(e,t){var r="",i;r+='\n			<div class="terminate-pro-app-confirm">\n				',i=n["if"].call(e,e&&e.is_stop,{hash:{},inverse:f.program(11,g,t),fn:f.program(8,v,t),data:t});if(i||i===0)r+=i;return r+='\n				<p class="confirm-area"><input class="input" id="confirm-app-name" data-confirm="'+a((i=e&&e.app_name,typeof i===u?i.apply(e):i))+'"/></p>\n			</div>\n		',r}function v(e,t){var r="",i;r+="\n					<p><b>"+a((i=e&&e.app_name,typeof i===u?i.apply(e):i))+a(n.i18n.call(e,"POP_CONFIRM_PROD_APP_WARNING_MSG",{hash:{},data:t}))+"</b>"+a(n.i18n.call(e,"POP_CONFIRM_STOP_PROD_APP_MSG",{hash:{},data:t}))+"\n						",i=n["if"].call(e,e&&e.is_asg,{hash:{},inverse:f.noop,fn:f.program(9,m,t),data:t});if(i||i===0)r+=i;return r+="\n					</p>\n					<p>"+a(n.i18n.call(e,"POP_CONFIRM_STOP_PROD_APP_INPUT_LBL",{hash:{},data:t}))+"</p>\n				",r}function m(e,t){var r="";return r+="\n							"+a(n.i18n.call(e,"POP_CONFIRM_STOP_ASG",{hash:{},data:t}))+"\n						",r}function g(e,t){var r="",i;return r+="\n					<p><b>"+a((i=e&&e.app_name,typeof i===u?i.apply(e):i))+" "+a(n.i18n.call(e,"POP_CONFIRM_PROD_APP_WARNING_MSG",{hash:{},data:t}))+"</b>"+a(n.i18n.call(e,"POP_CONFIRM_TERMINATE_PROD_APP_MSG",{hash:{},data:t}))+"</p>\n					<p>"+a(n.i18n.call(e,"POP_CONFIRM_TERMINATE_PROD_APP_INPUT_LBL",{hash:{},data:t}))+"</p>\n				",r}function y(e,t){return"disabled"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div style="width:420px">\n	<div class="modal-header">\n		<h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n	<div class="modal-body">\n		',o=n.unless.call(t,t&&t.is_production,{hash:{},inverse:f.program(7,d,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+='\n	</div>\n	<div class="modal-footer">\n		<button id="btn-confirm" class="btn btn-'+a((o=t&&t.color,typeof o===u?o.apply(t):o))+'" ',o=n["if"].call(t,t&&t.is_production,{hash:{},inverse:f.noop,fn:f.program(13,y,i),data:i});if(o||o===0)s+=o;return s+=">"+a((o=t&&t.confirm,typeof o===u?o.apply(t):o))+'</button>\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"TOOL_POP_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.modalApp=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<div style="width:700px">\n	<div class="modal-header">\n		<h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n	<div class="modal-body">\n		<textarea id="json-content"></textarea>\n	</div>\n	<div class="modal-footer">\n		<a id="btn-confirm" class="btn btn-'+a((o=t&&t.color,typeof o===u?o.apply(t):o))+'" href="data://text/plain;, ',o=(o=t&&t.filecontent,typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+='" download="'+a((o=t&&t.download,typeof o===u?o.apply(t):o))+'">'+a((o=t&&t.confirm,typeof o===u?o.apply(t):o))+'</a>\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"TOOL_POP_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.modalToolbar=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div id="modal-export-cf" style="width:468px">\n	<div class="modal-header"> <h3>'+o(n.i18n.call(t,"TOOL_POP_EXPORT_CF",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major"></div>\n			<div class="modal-text-minor">'+o(n.i18n.call(t,"TOOL_POP_EXPORT_CF_INFO",{hash:{},data:i}))+'</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<a id="tpl-download" class="btn btn-blue modal-close disabled" target="_blank">'+o(n.i18n.call(t,"TOOL_POP_BTN_EXPORT_CF",{hash:{},data:i}))+'</a>\n		<button class="btn modal-close btn-silver">'+o(n.i18n.call(t,"TOOL_POP_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.exportCloudFormation=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function";return s+='<div style="width:468px">\n	<div class="modal-header"> <h3>'+u(n.i18n.call(t,"TOOL_EXPORT_AS_JSON",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major"></div>\n			<div class="modal-text-minor">'+u(n.i18n.call(t,"TOOL_POP_BODY_EXPORT_AS_JSON",{hash:{},data:i}))+'</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<a class="btn btn-blue modal-close" href="'+u((o=t&&t.data,typeof o===a?o.apply(t):o))+'" target="_blank" download="'+u((o=t&&t.name,typeof o===a?o.apply(t):o))+'">'+u(n.i18n.call(t,"TOOL_POP_BTN_DOWNLOAD",{hash:{},data:i}))+'</a>\n		<button id="tpl-cancel" class="btn modal-close btn-silver">'+u(n.i18n.call(t,"TOOL_POP_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.exportJSON=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:468px">\n	<div class="modal-header"> <h3>'+o(n.i18n.call(t,"POP_IMPORT_JSON_TIT",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body" style="min-height:0px;">\n		<div id="modal-import-json-dropzone">'+o(n.i18n.call(t,"POP_IMPORT_DROP_LBL",{hash:{},data:i}))+'<label for="modal-import-json-file" class="select-file-link">'+o(n.i18n.call(t,"POP_IMPORT_SELECT_LBL",{hash:{},data:i}))+'</label><input type="file" id="modal-import-json-file"></div>\n		<div id="import-json-error"></div>\n	</div>\n</div>\n\n',s},n.importJSON=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header">\n		<h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n\n	<div class="modal-body">\n		<div class="loading-spinner"></div>\n	</div>\n\n	<div class="modal-footer">\n		<a id="btn-confirm" class="btn btn-'+a((o=t&&t.color,typeof o===u?o.apply(t):o))+'" >'+a((o=t&&t.confirm,typeof o===u?o.apply(t):o))+'</a>\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"TOOL_POP_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.exportPNG=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="modal-resource-instance-detail" style="width:420px">\n	<div class="modal-header">\n		<h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n\n	<div class="modal-body">\n		<dl class="dl-horizontal">\n			<dt>DnsName</dt>\n			<dd>'+a((o=t&&t.dnsName,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>Architecture</dt>\n			<dd>"+a((o=t&&t.architecture,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>EbsOptimized</dt>\n			<dd>"+a((o=t&&t.ebsOptimized,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>GroupSet</dt>\n			<dd>"+a((o=t&&t.groupSet,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>Hypervisor</dt>\n			<dd>"+a((o=t&&t.hypervisor,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>ImageId</dt>\n			<dd>"+a((o=t&&t.imageId,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>InstanceState</dt>\n			<dd>"+a((o=t&&t.instanceState,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>InstanceType</dt>\n			<dd>"+a((o=t&&t.instanceType,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>IpAddress</dt>\n			<dd>"+a((o=t&&t.ipAddress,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>KernelId</dt>\n			<dd>"+a((o=t&&t.kernelId,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>KeyName</dt>\n			<dd>"+a((o=t&&t.keyName,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>LaunchTime</dt>\n			<dd>"+a((o=t&&t.launchTime,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>Monitoring</dt>\n			<dd>"+a((o=t&&t.monitoring,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>NetworkInterfaceSet</dt>\n			<dd>"+a((o=t&&t.networkInterfaceSet,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>AvailabilityZone</dt>\n			<dd>"+a((o=t&&t.availabilityZone,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>PrivateDnsName</dt>\n			<dd>"+a((o=t&&t.privateDnsName,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>RootDeviceName</dt>\n			<dd>"+a((o=t&&t.rootDeviceName,typeof o===u?o.apply(t):o))+"</dd>\n			<dt>RootDeviceType</dt>\n			<dd>"+a((o=t&&t.rootDeviceType,typeof o===u?o.apply(t):o))+'</dd>\n		</dl>\n	</div>\n\n	<div class="modal-footer">\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"POP_BTN_CLOSE",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.modalResourceInstanceDetail=e.template(t),t=function(e,t,n,r,i){function l(e,t){return'\n<div class="modal-resource-detail" style="width:800px">\n'}function c(e,t){return'\n<div class="modal-resource-detail" style="width:420px">\n'}function h(e,t){var n="",r;n+="\n			",r=typeof e===u?e.apply(e):e;if(r||r===0)n+=r;return n+="\n		",n}function p(e,t){var r="",i;r+='\n		<br />\n		<br />\n		<table class="table table-light">\n			<thead>\n				<tr>\n					',i=n.each.call(e,(i=e&&e.detail_table,i==null||i===!1?i:i.th_set),{hash:{},inverse:f.noop,fn:f.program(8,d,t),data:t});if(i||i===0)r+=i;r+="\n				</tr>\n			</thead>\n			<tbody>\n				<tr>\n				",i=n.each.call(e,(i=e&&e.detail_table,i==null||i===!1?i:i.tr1_set),{hash:{},inverse:f.noop,fn:f.program(10,v,t),data:t});if(i||i===0)r+=i;r+="\n				</tr>\n\n				<tr>\n				",i=n.each.call(e,(i=e&&e.detail_table,i==null||i===!1?i:i.tr2_set),{hash:{},inverse:f.noop,fn:f.program(10,v,t),data:t});if(i||i===0)r+=i;return r+="\n				</tr>\n			</tbody>\n		</table>\n		",r}function d(e,t){var n="";return n+='\n					<th style="width:160px">'+a(typeof e===u?e.apply(e):e)+"</th>\n					",n}function v(e,t){var n="";return n+="\n					<td>"+a(typeof e===u?e.apply(e):e)+"</td>\n				",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n["if"].call(t,t&&t.detail_table,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+='\n	<div class="modal-header">\n		<h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n	<div class="modal-body">\n		<dl class="dl-horizontal">\n		',o=n.each.call(t,t&&t.sub_info,{hash:{},inverse:f.noop,fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;s+="\n		</dl>\n		",o=n["if"].call(t,t&&t.detail_table,{hash:{},inverse:f.noop,fn:f.program(7,p,i),data:i});if(o||o===0)s+=o;return s+='\n	</div>\n	<div class="modal-footer">\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"POP_BTN_CLOSE",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.modalRegionResourceDetail=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head">'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>Start Time:</dt>\n		<dd>'+a((o=t&&t["start-time"],typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Stop Time:</dt>\n		<dd>"+a((o=t&&t["end-time"],typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Estimated Cost:</dt>\n		<dd>"+a((o=t&&t.cost,typeof o===u?o.apply(t):o))+"</dd>\n	</dl>\n</div>\n\n",s},n.bubbleTest=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head alert">'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	'+a((o=t&&t.description,typeof o===u?o.apply(t):o))+"\n</div>\n\n",s},n.bubbleAlert=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head suggest">'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	'+a((o=t&&t.description,typeof o===u?o.apply(t):o))+"\n</div>\n\n",s},n.bubbleSuggest=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head"><i class="icon-'+a((o=t&&t.status,typeof o===u?o.apply(t):o))+' icon-label"></i>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>Start Time:</dt>\n		<dd>'+a((o=t&&t["start-time"],typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Stop Time:</dt>\n		<dd>"+a((o=t&&t["end-time"],typeof o===u?o.apply(t):o))+"</dd>\n		<!--dt>Estimated Cost:</dt>\n		<dd>"+a((o=t&&t.cost,typeof o===u?o.apply(t):o))+"</dd-->\n	</dl>\n</div>\n\n",s},n.bubbleAppInfo=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head"><i class="status-'+a((o=t&&t.status,typeof o===u?o.apply(t):o))+' icon-label"></i>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+"-("+a((o=t&&t.id,typeof o===u?o.apply(t):o))+')</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>Launch Time:</dt>\n		<dd>'+a((o=t&&t["launch-time"],typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Availability Zone:</dt>\n		<dd>"+a((o=t&&t.az,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Instance Type:</dt>\n		<dd>"+a((o=t&&t["instance-type"],typeof o===u?o.apply(t):o))+"</dd>\n	</dl>\n</div>\n\n",s},n.bubbleInstanceInfo=e.template(t),t=function(e,t,n,r,i){function l(e,t){var n="",r;n+="\n		",r=typeof e===u?e.apply(e):e;if(r||r===0)n+=r;return n+="\n	",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="bubble-head"><i class="status-'+a((o=t&&t.status,typeof o===u?o.apply(t):o))+' icon-label"></i>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n<dl class="dl-horizontal">\n	',o=n.each.call(t,t&&t.sub_info,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n</dl>\n</div>\n\n",s},n.bubbleRegionResourceInfo=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head"></i>'+a((o=t&&t.snapshotId,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>SnapshotId</dt>\n		<dd>'+a((o=t&&t.snapshotId,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>StartTime</dt>\n		<dd>"+a((o=t&&t.startTime,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Status</dt>\n		<dd>"+a((o=t&&t.status,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Size</dt>\n		<dd>"+a((o=t&&t.size,typeof o===u?o.apply(t):o))+"</dd>\n	</dl>\n</div>\n\n",s},n.bubbleSnapshotInfo=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head">'+a((o=t&&t.id,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>'+a(n.i18n.call(t,"DASH_BUB_NAME",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.name,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_DESCRIPTION",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.description,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_ARCHITECTURE",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.architecture,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_IMAGELOCATION",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.imageLocation,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_ISPUBLIC",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.isPublic,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_KERNELID",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.kernelId,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_ROOTDEVICENAME",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.rootDeviceName,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>"+a(n.i18n.call(t,"DASH_BUB_ROOTDEVICETYPE",{hash:{},data:i}))+"</dt>\n		<dd>"+a((o=t&&t.rootDeviceType,typeof o===u?o.apply(t):o))+"</dd>\n	</dl>\n</div>\n\n",s},n.bubbleAMIInfo=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="bubble-head"></i>'+a((o=t&&t.id,typeof o===u?o.apply(t):o))+'</div>\n<div class="bubble-content">\n	<dl class="dl-horizontal">\n		<dt>Name</dt>\n		<dd>'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Description</dt>\n		<dd>"+a((o=t&&t.description,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Architecture</dt>\n		<dd>"+a((o=t&&t.architecture,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Image Location</dt>\n		<dd>"+a((o=t&&t.imageLocation,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Public</dt>\n		<dd>"+a((o=t&&t.isPublic,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>KernelId</dt>\n		<dd>"+a((o=t&&t.kernelId,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Root Device Name</dt>\n		<dd>"+a((o=t&&t.rootDeviceName,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Root Device Type</dt>\n		<dd>"+a((o=t&&t.rootDeviceType,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Image Size</dt>\n		<dd>"+a((o=t&&t.imageSize,typeof o===u?o.apply(t):o))+"</dd>\n		<dt>Support Instance Type</dt>\n		<dd>"+a((o=t&&t.instance_type,typeof o===u?o.apply(t):o))+"</dd>\n	</dl>\n</div>\n\n",s},n.bubbleAMIMongoInfo=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:660px">\n	<div class="modal-header">\n		<h3>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CREATE_THIS_STACK_IN",{hash:{},data:i}))+':</h3>\n		<i class="modal-close">×</i>\n	</div>\n	<div class="modal-body">\n		<div id="createNewStack_wrap">\n			<ul class="clearfix">\n				<li>\n					<a class="new-stack-dialog" href="javascript:void(0)" data-supported-platform="ec2-classic">\n						<h4>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CLASSIC",{hash:{},data:i}))+"</h4>\n						<p>"+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CLASSIC_INTRO",{hash:{},data:i}))+'.</p>\n					</a>\n				</li>\n				<li>\n					<a class="new-stack-dialog" href="javascript:void(0)" data-supported-platform="ec2-vpc">\n						<h4>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_VPC",{hash:{},data:i}))+"</h4>\n						<p>"+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_VPC_INTRO",{hash:{},data:i}))+".</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n\n",s},n.createNewStackClassic=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:400px">\n	<div class="modal-header">\n		<h3>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CREATE_STACK_ERROR",{hash:{},data:i}))+'</h3>\n		<i class="modal-close">×</i>\n	</div>\n	<div class="modal-body">\n		<div id="createNewStack_wrap" class="load-account-attr-error">\n			<p>'+o(n.i18n.call(t,"DASH_POP_FALE_LOAD_RESOURCE_PLEASE_RETRY",{hash:{},data:i}))+'</p>\n			<button class="btn btn-blue" id="reload-account-attributes">'+o(n.i18n.call(t,"DASH_POP_BTN_RETRY",{hash:{},data:i}))+"</button>\n		</div>\n	</div>\n</div>\n\n",s},n.createNewStackErrorAndReload=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:660px">\n	<div class="modal-header">\n		<h3>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CREATE_THIS_STACK_IN",{hash:{},data:i}))+':</h3>\n		<i class="modal-close">×</i>\n	</div>\n	<div class="modal-body">\n		<div id="createNewStack_wrap">\n			<ul class="clearfix">\n				<li>\n					<a class="new-stack-dialog" href="javascript:void(0)" data-supported-platform="default-vpc">\n						<h4>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_DEFAULT_VPC",{hash:{},data:i}))+"</h4>\n						<p>"+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_DEFAULT_VPC_INTRO",{hash:{},data:i}))+'.</p>\n					</a>\n				</li>\n				<li>\n					<a class="new-stack-dialog" href="javascript:void(0)" data-supported-platform="custom-vpc">\n						<h4>'+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_CUSTOM_VPC",{hash:{},data:i}))+"</h4>\n						<p>"+o(n.i18n.call(t,"DASH_POP_CREATE_STACK_VPC_INTRO",{hash:{},data:i}))+".</p>\n					</a>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>\n\n",s},n.createNewStackVPC=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="",i;r+="\n\nIPSec Tunnel #"+a((i=e&&e.number,typeof i===u?i.apply(e):i))+"\n================================================================================\n#1: Internet Key Exchange Configuration\n\nConfigure the IKE SA as follows\n  - Authentication Method    : "+a((i=e&&e.ike_protocol_method,typeof i===u?i.apply(e):i))+"\n  - Pre-Shared Key           : "+a((i=e&&e.ike_pre_shared_key,typeof i===u?i.apply(e):i))+"\n  - Authentication Algorithm : "+a((i=e&&e.ike_authentication_protocol_algorithm,typeof i===u?i.apply(e):i))+"\n  - Encryption Algorithm     : "+a((i=e&&e.ike_encryption_protocol,typeof i===u?i.apply(e):i))+"\n  - Lifetime                 : "+a((i=e&&e.ike_lifetime,typeof i===u?i.apply(e):i))+" seconds\n  - Phase 1 Negotiation Mode : "+a((i=e&&e.ike_mode,typeof i===u?i.apply(e):i))+"\n  - Perfect Forward Secrecy  : "+a((i=e&&e.ike_perfect_forward_secrecy,typeof i===u?i.apply(e):i))+"\n\n#2: IPSec Configuration\n\nConfigure the IPSec SA as follows:\n  - Protocol                 : "+a((i=e&&e.ipsec_protocol,typeof i===u?i.apply(e):i))+"\n  - Authentication Algorithm : "+a((i=e&&e.ipsec_authentication_protocol,typeof i===u?i.apply(e):i))+"\n  - Encryption Algorithm     : "+a((i=e&&e.ipsec_encryption_protocol,typeof i===u?i.apply(e):i))+"\n  - Lifetime                 : "+a((i=e&&e.ipsec_lifetime,typeof i===u?i.apply(e):i))+" seconds\n  - Mode                     : "+a((i=e&&e.ipsec_mode,typeof i===u?i.apply(e):i))+"\n  - Perfect Forward Secrecy  : "+a((i=e&&e.ipsec_perfect_forward_secrecy,typeof i===u?i.apply(e):i))+"\n\nIPSec Dead Peer Detection (DPD) will be enabled on the AWS Endpoint. We\nrecommend configuring DPD on your endpoint as follows:\n  - DPD Interval             : "+a((i=e&&e.ipsec_interval,typeof i===u?i.apply(e):i))+"\n  - DPD Retries              : "+a((i=e&&e.ipsec_retries,typeof i===u?i.apply(e):i))+"\n\nIPSec ESP (Encapsulating Security Payload) inserts additional\nheaders to transmit packets. These headers require additional space,\nwhich reduces the amount of space available to transmit application data.\nTo limit the impact of this behavior, we recommend the following\nconfiguration on your Customer Gateway:\n  - TCP MSS Adjustment       : "+a((i=e&&e.tcp_mss_adjustment,typeof i===u?i.apply(e):i))+" bytes\n  - Clear Don't Fragment Bit : "+a((i=e&&e.clear_df_bit,typeof i===u?i.apply(e):i))+"\n  - Fragmentation            : "+a((i=e&&e.fragmentation_before_encryption,typeof i===u?i.apply(e):i))+"\n\n#3: Tunnel Interface Configuration\n\nYour Customer Gateway must be configured with a tunnel interface that is\nassociated with the IPSec tunnel. All traffic transmitted to the tunnel\ninterface is encrypted and transmitted to the Virtual Private Gateway.\n\nThe Customer Gateway and Virtual Private Gateway each have two addresses that relate\nto this IPSec tunnel. Each contains an outside address, upon which encrypted\ntraffic is exchanged. Each also contain an inside address associated with\nthe tunnel interface.\n\nThe Customer Gateway outside IP address was provided when the Customer Gateway\nwas created. Changing the IP address requires the creation of a new\nCustomer Gateway.\n\nThe Customer Gateway inside IP address should be configured on your tunnel\ninterface.\n\nOutside IP Addresses:\n  - Customer Gateway 		        : "+a((i=e&&e.customer_gateway_outside_address,typeof i===u?i.apply(e):i))+"\n  - Virtual Private Gateway	        : "+a((i=e&&e.vpn_gateway_outside_address,typeof i===u?i.apply(e):i))+"\n\nInside IP Addresses\n  - Customer Gateway         		: "+a((i=e&&e.customer_gateway_inside_address,typeof i===u?i.apply(e):i))+"\n  - Virtual Private Gateway             : "+a((i=e&&e.vpn_gateway_inside_address,typeof i===u?i.apply(e):i))+"\n\nConfigure your tunnel to fragment at the optimal size:\n  - Tunnel interface MTU     : 1436 bytes\n\n",i=n["if"].call(e,e&&e.isStaticRouting,{hash:{},inverse:f.program(4,h,t),fn:f.program(2,c,t),data:t});if(i||i===0)r+=i;return r+="\n",r}function c(e,t){var n="",r;return n+="\n#4: Static Routing Configuration:\n\nTo route traffic between your internal network and your VPC,\nyou will need a static route added to your router.\n\nStatic Route Configuration Options:\n\n  - Next hop                      : "+a((r=e&&e.next_hop,typeof r===u?r.apply(e):r))+"\n\nYou should add static routes towards your internal network on the VGW.\nThe VGW will then send traffic towards your internal network over\nhe tunnels.\n",n}function h(e,t){var n="",r;return n+="\n#4: Border Gateway Protocol (BGP) Configuration:\n\nThe Border Gateway Protocol (BGPv4) is used within the tunnel, between the inside\nIP addresses, to exchange routes from the VPC to your home network. Each\nBGP router has an Autonomous System Number (ASN). Your ASN was provided\nto AWS when the Customer Gateway was created.\n\nBGP Configuration Options:\n  - Customer Gateway ASN	          : "+a((r=e&&e.customer_gateway_bgp_asn,typeof r===u?r.apply(e):r))+"\n  - Virtual Private  Gateway ASN          : "+a((r=e&&e.vpn_gateway_bgp_asn,typeof r===u?r.apply(e):r))+"\n  - Neighbor IP Address     		  : "+a((r=e&&e.neighbor_ip_address,typeof r===u?r.apply(e):r))+"\n  - Neighbor Hold Time       : "+a((r=e&&e.customer_gateway_bgp_hold_time,typeof r===u?r.apply(e):r))+"\n\nConfigure BGP to announce routes to the Virtual Private Gateway. The gateway\nwill announce prefixes to your customer gateway based upon the prefix you\nassigned to the VPC at creation time.\n",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+="Amazon Web Services\nVirtual Private Cloud\n\nVPN Connection Configuration\n================================================================================\nAWS utilizes unique identifiers to manipulate the configuration of\na VPN Connection. Each VPN Connection is assigned a VPN Connection Identifier\nand is associated with two other identifiers, namely the\nCustomer Gateway Identifier and the Virtual Private Gateway Identifier.\n\nYour VPN Connection ID		         : "+a((o=t&&t.vpnConnectionId,typeof o===u?o.apply(t):o))+"\nYour Virtual Private Gateway ID          : "+a((o=t&&t.vpnGatewayId,typeof o===u?o.apply(t):o))+"\nYour Customer Gateway ID    		 : "+a((o=t&&t.customerGatewayId,typeof o===u?o.apply(t):o))+"\n\nA VPN Connection consists of a pair of IPSec tunnel security associations (SAs).\nIt is important that both tunnel security associations be configured.\n\n",o=n.each.call(t,t&&t.tunnel,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n\n\n\nAdditional Notes and Questions\n================================================================================\n\n  - Amazon Virtual Private Cloud Getting Started Guide:\n      http://docs.amazonwebservices.com/AmazonVPC/latest/GettingStartedGuide\n  - Amazon Virtual Private Cloud Network Administrator Guide:\n      http://docs.amazonwebservices.com/AmazonVPC/latest/NetworkAdminGuide\n  - XSL Version: 2009-07-15-1119716\n\n\n",s},n.configurationDownload=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div id="modal-run-stack">\n	<div class="modal-header">\n		<h3>Run Stack</h3>\n		<i class="modal-close">×</i>\n	</div>\n	<div class="modal-body">\n		<div class="modal-control-group clearfix" data-bind="true">\n			<label class="label" for="app-name">App Name</label>\n			<input id="app-name" class="input modal-input-value" type="text" value="'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'" data-ignore="true">\n		</div>\n		<div class="modal-control-group app-usage-group clearfix">\n			<label for="">App Usage</label>\n			<div id="app-usage-selectbox" class="selectbox">\n				<div class="selection"><i class="icon-app-type-testing"></i>Testing</div>\n				<ul class="dropdown" tabindex="-1">\n					<li class="selected item" data-value="testing"><i class="icon-app-type-testing"></i>Testing</li>\n					<li class="item" data-value="development"><i class="icon-app-type-development"></i>Development</li>\n					<li class="item" data-value="production"><i class="icon-app-type-production"></i>Production</li>\n					<li class="item" data-value="others"><i class="icon-app-type-others" data-value="testing"></i>Others</li>\n				<ul>\n			</div>\n		</div>\n		<div class="stack-validation">\n			<details open style="display:none;">\n				<summary>Stack Validation</summary>\n				<div id="stack-run-validation-container"></div>\n			</details>\n			<div class="nutshell" style="display: none;">:<label></label></div>\n			<div class="validating">\n				<div class="loading-spinner loading-spinner-small"></div>\n				<p>Validating your stack...</p>\n			</div>\n		</div>\n		<div class="estimate clearfix">\n			<span class="title">Estimated Cost</span>\n			<span class="price" id="label-total-fee"><b>$'+a((o=t&&t.total_fee,typeof o===u?o.apply(t):o))+'</b> / month</span>\n		</div>\n\n	</div>\n	<div class="modal-footer">\n\n		<button class="btn btn-blue" id="btn-confirm" disabled>Run Stack</button>\n		<button class="btn btn-silver modal-close" id="run-stack-cancel">Cancel</button>\n	</div>\n</div>\n\n',s},n.modalRunStack=e.template(t),t=function(e,t,n,r,i){function l(e,t,r){var i="",s;i+="\n",s=n["if"].call(e,r&&r.deletable,{hash:{},inverse:f.program(4,h,t),fn:f.program(2,c,t),data:t});if(s||s===0)i+=s;i+='\n<div class="rule-list-row">\n	<div class=\'rule-direction-icon tooltip icon-'+a((s=e&&e.direction,typeof s===u?s.apply(e):s))+"' data-tooltip='",s=n.ifCond.call(e,e&&e.direction,"inbound",{hash:{},inverse:f.program(8,d,t),fn:f.program(6,p,t),data:t});if(s||s===0)i+=s;i+="'></div>\n	<div class='rule-reference tooltip truncate' data-tooltip='",s=n.ifCond.call(e,e&&e.direction,"inbound",{hash:{},inverse:f.program(12,m,t),fn:f.program(10,v,t),data:t});if(s||s===0)i+=s;i+="'>",s=n["if"].call(e,e&&e.color,{hash:{},inverse:f.noop,fn:f.program(14,g,t),data:t});if(s||s===0)i+=s;i+=a((s=e&&e.relation,typeof s===u?s.apply(e):s))+'</div>\n</div>\n<div class="rule-list-row">\n	<div><span class="rule-protocol tooltip" data-tooltip=\''+a(n.i18n.call(e,"PROP_SG_TIP_PROTOCOL",{hash:{},data:t}))+"' >"+a((s=e&&e.protocol,typeof s===u?s.apply(e):s))+"</span></div>\n	<div class='rule-port tooltip' data-tooltip='"+a(n.i18n.call(e,"PROP_SG_TIP_PORT_CODE",{hash:{},data:t}))+"'>"+a((s=e&&e.port,typeof s===u?s.apply(e):s))+"</div>\n</div>\n",s=n["if"].call(e,r&&r.deletable,{hash:{},inverse:f.noop,fn:f.program(16,y,t),data:t});if(s||s===0)i+=s;return i+="\n</li>",i}function c(e,t){var n="",r;return n+='\n<li data-uid="'+a((r=e&&e.ruleSetId,typeof r===u?r.apply(e):r))+'" data-protocol="'+a((r=e&&e.protocol,typeof r===u?r.apply(e):r))+'" data-port="'+a((r=e&&e.port,typeof r===u?r.apply(e):r))+'" data-relation="'+a((r=e&&e.relation,typeof r===u?r.apply(e):r))+'" data-relationid="'+a((r=e&&e.relationId,typeof r===u?r.apply(e):r))+'" data-direction="'+a((r=e&&e.direction,typeof r===u?r.apply(e):r))+'" class="pos-r sg-create-rule-item">\n',n}function h(e,t){return'\n<li class="sg-create-rule-item">\n'}function p(e,t){return a(n.i18n.call(e,"PROP_SG_TIP_INBOUND",{hash:{},data:t}))}function d(e,t){return a(n.i18n.call(e,"PROP_SG_TIP_OUTBOUND",{hash:{},data:t}))}function v(e,t){return"Source"}function m(e,t){return"Destination"}function g(e,t){var n="",r;return n+='<span class="sg-color" style="background-color:'+a((r=e&&e.color,typeof r===u?r.apply(e):r))+'"></span>',n}function y(e,t){var r="";return r+='<a href="#" class="sg-rule-delete icon-remove tooltip" data-tooltip=\''+a(n.i18n.call(e,"PROP_SG_TIP_REMOVE_RULE",{hash:{},data:t}))+"'></a>",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,l,i,t),data:i});if(o||o===0)s+=o;return s+="\n\n",s},n.sgRuleList=e.template(t),t=function(e,t,n,r,i){function l(e,t){var n="",r;n+='\n<h3 class="sg-create-group truncate"><span class="sg-color sg-color-rule-header" style="background-color:'+a((r=e&&e.ownerColor,typeof r===u?r.apply(e):r))+'"></span>'+a((r=e&&e.ownerName,typeof r===u?r.apply(e):r))+'</h3>\n<ul class="sg-rule-list">',r=(r=e&&e.content,typeof r===u?r.apply(e):r);if(r||r===0)n+=r;return n+="</ul>\n",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n.each.call(t,t&&t.groups,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n\n",s},n.groupedSgRuleList=e.template(t),t=function(e,t,n,r,i){function l(e,t){var n="",r;n+='\n<h3 class="sg-create-group truncate"><span class="sg-color sg-color-rule-header" style="background-color:'+a((r=e&&e.ownerColor,typeof r===u?r.apply(e):r))+'"></span>'+a((r=e&&e.ownerName,typeof r===u?r.apply(e):r))+'</h3>\n<ul class="sg-rule-list">',r=(r=e&&e.content,typeof r===u?r.apply(e):r);if(r||r===0)n+=r;return n+="</ul>\n",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='Following rule(s) will be deleted from its(their) security group:</div>\n<article class="scroll-wrap delete-sgrule-dialog">\n<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n<div class="scroll-content">\n',o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n</article>\n\n",s},n.groupedSgRuleListDelConfirm=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<div style="width:420px">\n	<div class="modal-header"> <h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major">',o=(o=t&&t.content,typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+='</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<button id="canvas-op-confirm" class="btn modal-close btn-red">'+a(n.i18n.call(t,"CFM_BTN_DELETE",{hash:{},data:i}))+'</button>\n		<button class="btn modal-close btn-silver">'+a(n.i18n.call(t,"CFM_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.canvasOpConfirm=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="",i;r+='\n<li class="input-ip-item">\n  <div class="name tooltip" data-tooltip="',i=n["if"].call(e,e&&e.autoAssign,{hash:{},inverse:a.program(4,h,t),fn:a.program(2,c,t),data:t});if(i||i===0)r+=i;r+='">\n    <label class="input-ip-wrap" for="propertyIpListItem-'+u((i=t==null||t===!1?t:t.index,typeof i===f?i.apply(e):i))+'"><span class="input-ip-prefix">'+u((i=e&&e.prefix,typeof i===f?i.apply(e):i))+'</span>\n    <input type="text" class="input input-ip"  id="propertyIpListItem-'+u((i=t==null||t===!1?t:t.index,typeof i===f?i.apply(e):i))+'" value="'+u((i=e&&e.suffix,typeof i===f?i.apply(e):i))+'" ',i=n.unless.call(e,e&&e.editable,{hash:{},inverse:a.noop,fn:a.program(6,p,t),data:t});if(i||i===0)r+=i;r+=' data-ignore="true" data-ignore-regexp="^[0-9.x]*$" data-required="true">\n    </label>\n  </div>\n  <div class="input-ip-eip-btn tooltip toggle-eip',i=n["if"].call(e,e&&e.hasEip,{hash:{},inverse:a.noop,fn:a.program(8,d,t),data:t});if(i||i===0)r+=i;r+='" data-tooltip="',i=n["if"].call(e,e&&e.hasEip,{hash:{},inverse:a.program(12,m,t),fn:a.program(10,v,t),data:t});if(i||i===0)r+=i;r+='"></div>\n  ',i=n.unless.call(e,e&&e.unDeletable,{hash:{},inverse:a.noop,fn:a.program(14,g,t),data:t});if(i||i===0)r+=i;return r+="\n</li>\n",r}function c(e,t){return u(n.i18n.call(e,"PROP_INSTANCE_IP_MSG_2",{hash:{},data:t}))}function h(e,t){return u(n.i18n.call(e,"PROP_INSTANCE_IP_MSG_1",{hash:{},data:t}))}function p(e,t){return'disabled="disabled"'}function d(e,t){return" associated"}function v(e,t){return u(n.i18n.call(e,"PROP_INSTANCE_IP_MSG_4",{hash:{},data:t}))}function m(e,t){return u(n.i18n.call(e,"PROP_INSTANCE_IP_MSG_3",{hash:{},data:t}))}function g(e,t){return'<div class="icon-remove"></div>'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this,f="function";o=n.each.call(t,t,{hash:{},inverse:a.noop,fn:a.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n\n",s},n.propertyIpList=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="";return r+='\n				<div class="modal-text-minor" style="margin-top:10px;"><i class="icon-inbound"></i>'+u(n.i18n.call(e,"POP_SGRULE_LBL_INBOUND",{hash:{},data:t}))+"</div>\n			",r}function c(e,t){var r="";return r+='\n			<div class="radio-group-horizontal">\n				<div class="radio">\n					<input id="radio_inbound" type="radio" name="sg-direction" checked="checked" value="inbound" />\n					<label for="radio_inbound"></label>\n				</div>\n				<label for="radio_inbound" ><i class="icon-inbound icon-label"></i>'+u(n.i18n.call(e,"POP_SGRULE_LBL_INBOUND",{hash:{},data:t}))+'</label>\n			</div>\n\n			<div class="radio-group-horizontal">\n				<div class="radio">\n					<input id="radio_outbound" type="radio" name="sg-direction" value="outbound"/>\n					<label for="radio_outbound"></label>\n				</div>\n				<label for="radio_outbound"><i class="icon-outbound icon-label"></i>'+u(n.i18n.call(e,"POP_SGRULE_LBL_OUTBOUND",{hash:{},data:t}))+"</label>\n			</div>\n			",r}function h(e,t){var n="",r;return n+='\n					<li class="item truncate" data-id="sg" data-uid="'+u((r=e&&e.id,typeof r===a?r.apply(e):r))+'"><span class="sg-color" style="background-color:'+u((r=e&&e.color,typeof r===a?r.apply(e):r))+'"></span>'+u((r=e&&e.name,typeof r===a?r.apply(e):r))+"</li>\n					",n}function p(e,t){return"\n							"}function d(e,t){var r="";return r+='\n							<li class="item" data-id="custom">'+u(n.i18n.call(e,"POP_SGRULE_PROTOCOL_CUSTOM",{hash:{},data:t}))+'</li>\n							<li class="item" data-id="all">'+u(n.i18n.call(e,"POP_SGRULE_PROTOCOL_ALL",{hash:{},data:t}))+"</li>\n							",r}function v(e,t){return'\n					<div class="sg-protocol-option-input" id="sg-protocol-custom">\n						<input class="input" name="protocol-custom-ranged" placeholder="0-255" data-ignore="true" data-ignore-regexp="^[0-9]*$" data-required="true">\n					</div>\n					<div class="sg-protocol-option-input" id="sg-protocol-all">\n						Port Range:<span>0-65535</span>\n					</div>\n				'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function",f=this;s+='<div id="modal-sg-rule" data-bind="true">\n	<div class="modal-header">\n		<h3>'+u(n.i18n.call(t,"POP_SGRULE_TITLE_ADD",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i>\n	</div>\n\n	<div class="modal-body">\n		<div class="modal-control-group clearfix">\n			<label class="label-short">'+u(n.i18n.call(t,"POP_SGRULE_LBL_DIRECTION",{hash:{},data:i}))+'</label>\n\n			<div id="sg-modal-direction">\n			',o=n["if"].call(t,t&&t.isClassic,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+='\n			</div>\n		</div>\n\n		<div class="modal-control-group clearfix">\n			<label class="label-short" for="securitygroup-modal-description" id="rule-modal-ip-range">'+u(n.i18n.call(t,"POP_SGRULE_LBL_SOURCE",{hash:{},data:i}))+'</label>\n			<div class="selectbox" id="sg-add-model-source-select">\n				<div class="selection">IP...</div>\n				<ul class="dropdown">\n					<li class="item selected" data-id="custom">IP...</li>\n					',o=n.each.call(t,t&&t.sgList,{hash:{},inverse:f.noop,fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;s+='\n				</ul>\n			</div>\n			<input class="input" type="text" id="securitygroup-modal-description" data-ignore="true" data-ignore-regexp="^[0-9./]*$" data-required="true" placeholder=\''+u(n.i18n.call(t,"POP_SGRULE_PLACEHOLD_SOURCE",{hash:{},data:i}))+'\'>\n		</div>\n\n		<div class="modal-control-group clearfix">\n			<label class="label-short" >'+u(n.i18n.call(t,"POP_SGRULE_LBL_PROTOCOL",{hash:{},data:i}))+'</label>\n				<div class="modal-protocol-select">\n					<div class="selectbox" id="modal-protocol-select"  data-protocal-type="tcp">\n						<div class="selection">'+u(n.i18n.call(t,"POP_SGRULE_PROTOCOL_TCP",{hash:{},data:i}))+'</div>\n						<ul class="dropdown" tabindex="-1">\n							<li class="selected item" data-id="tcp">'+u(n.i18n.call(t,"POP_SGRULE_PROTOCOL_TCP",{hash:{},data:i}))+'</li>\n							<li class="item" data-id="udp">'+u(n.i18n.call(t,"POP_SGRULE_PROTOCOL_UDP",{hash:{},data:i}))+'</li>\n							<li class="item" data-id="icmp">'+u(n.i18n.call(t,"POP_SGRULE_PROTOCOL_ICMP",{hash:{},data:i}))+"</li>\n							",o=n["if"].call(t,t&&t.isClassic,{hash:{},inverse:f.program(9,d,i),fn:f.program(7,p,i),data:i});if(o||o===0)s+=o;s+='\n						</ul>\n					</div>\n				</div>\n			<div id="sg-protocol-select-result">\n				<div class="sg-protocol-option-input show" id="sg-protocol-tcp">\n					<input class="input" type="text" placeholder=\''+u(n.i18n.call(t,"POP_SGRULE_PLACEHOLD_PORT_RANGE",{hash:{},data:i}))+'\' data-ignore="true" data-ignore-regexp="^[0-9-]*$"  data-required="true"/>\n				</div>\n				<div class="sg-protocol-option-input" id="sg-protocol-udp">\n					<input class="input" type="text" placeholder=\''+u(n.i18n.call(t,"POP_SGRULE_PLACEHOLD_PORT_RANGE",{hash:{},data:i}))+'\' data-ignore="true" data-ignore-regexp="^[0-9-]*$" data-required="true"/>\n				</div>\n\n				<div class="sg-protocol-option-input" id="sg-protocol-icmp">\n					<div class="selectbox" id="protocol-icmp-main-select" data-protocal-main="0"  data-protocal-sub="-1">\n					<div class="selection">Echo Reply(0)</div>\n					<div class="dropdown scroll-wrap scrollbar-auto-hide context-wrap" style="height:300px;">\n						<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n						<ul tabindex="-1" class="scroll-content">\n							<li class="item selected" data-id="0">Echo Reply(0)</li>\n							<li class="item" data-id="3">Destination Unreachable(3) ...</li>\n							<li class="item" data-id="4">Source Quench(4)</li>\n							<li class="item" data-id="5">Redirect Message(5) ...</li>\n							<li class="item" data-id="6">Alternate Host Address(6)</li>\n							<li class="item" data-id="8">Echo Request(8)</li>\n							<li class="item" data-id="9">Router Advertisement(9)</li>\n							<li class="item" data-id="10">Router Solicitation(10)</li>\n							<li class="item" data-id="11">Time Exceeded(11) ...</li>\n							<li class="item" data-id="12">Parameter Problem: Bad IP header(12) ...</li>\n							<li class="item" data-id="13">Timestamp(13)</li>\n							<li class="item" data-id="14">Timestamp Reply(14)</li>\n							<li class="item" data-id="15">Information Request(15)</li>\n							<li class="item" data-id="16">Information Reply(16)</li>\n							<li class="item" data-id="17">Address Mask Request(17)</li>\n							<li class="item" data-id="18">Address Mask Reply(18)</li>\n							<li class="item" data-id="30">Traceroute(30)</li>\n							<li class="item" data-id="31">Datagram Conversion Error(31)</li>\n							<li class="item" data-id="32">Mobile Host Redirect(32)</li>\n							<li class="item" data-id="33">Where Are You(33)</li>\n							<li class="item" data-id="34">Here I Am(34)</li>\n							<li class="item" data-id="35">Mobile Registration Request(35)</li>\n							<li class="item" data-id="36">Mobile Registration Reply(36)</li>\n							<li class="item" data-id="37">Domain Name Request(37)</li>\n							<li class="item" data-id="38">Domain Name Reply(38)</li>\n							<li class="item" data-id="39">SKIP Algorithm Discovery Protocol(39)</li>\n							<li class="item" data-id="40">Photuris Security Failures(40)</li>\n							<li class="item" data-id="-1">All(-1)</li>\n						</ul>\n					</div>\n					</div>\n				</div>\n\n				<div class="selectbox protocol-icmp-sub-select" id="protocol-icmp-sub-select-3">\n					<div class="selection">All(-1)</div>\n					<div class="dropdown scroll-wrap scrollbar-auto-hide context-wrap" style="height:300px;">\n						<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n						<ul class="scroll-content" tabindex="-1">\n							<li class="item selected" data-id="-1">All(-1)</li>\n							<li class="item" data-id="0">destination network unreachable(0)</li>\n							<li class="item" data-id="1">destination host unreachable(1)</li>\n							<li class="item" data-id="2">destination protocol unreachable(2)</li>\n							<li class="item" data-id="3">destination port unreachable(3)</li>\n							<li class="item" data-id="4">fragmentation required and DF flag set(4)</li>\n							<li class="item" data-id="5">source route failed(5)</li>\n							<li class="item" data-id="6">destination network unknown(6)</li>\n							<li class="item" data-id="7">destination host unknown(7)</li>\n							<li class="item" data-id="8">source host isolated(8)</li>\n							<li class="item" data-id="9">network administratively prohibited(9)</li>\n							<li class="item" data-id="10">host administratively prohibited(10)</li>\n							<li class="item" data-id="11">network unreachable for TOS(11)</li>\n							<li class="item" data-id="12">host unreachable for TOS(12)</li>\n							<li class="item" data-id="13">communication administratively prohibited(13)</li>\n						</ul>\n					</div>\n				</div>\n\n				<div class="selectbox protocol-icmp-sub-select" id="protocol-icmp-sub-select-5">\n					<div class="selection">All(-1)</div>\n					<ul class="dropdown" tabindex="-1">\n						<li class="selected item" data-id="-1">All(-1)</li>\n						<li class="item" data-id="0">redirect datagram for the network(0)</li>\n						<li class="item" data-id="1">redirect datagram for the host(1)</li>\n						<li class="item" data-id="2">redirect datagram for the TOS & network(2)</li>\n						<li class="item" data-id="3">redirect datagram for the TOS & host(3)</li>\n					</ul>\n				</div>\n\n				<div class="selectbox protocol-icmp-sub-select" id="protocol-icmp-sub-select-11">\n					<div class="selection">All(-1)</div>\n					<ul class="dropdown" tabindex="-1">\n						<li class="item selected" data-id="-1">All(-1)</li>\n						<li class="item" data-id="0">TTL expired transit(0)</li>\n						<li class="item" data-id="1">fragmentation reasembly time exceeded(1)</li>\n					</ul>\n				</div>\n\n				<div class="selectbox protocol-icmp-sub-select" id="protocol-icmp-sub-select-12">\n					<div class="selection">All(-1)</div>\n					<ul class="dropdown" role="menu">\n						<li class="item selected" data-id="-1">All(-1)</li>\n						<li class="item" data-id="0">pointer indicates the error(0)</li>\n						<li class="item" data-id="1">missing a required option(1)</li>\n						<li class="item" data-id="2">bad length(2)</li>\n					</ul>\n				</div>\n\n				',o=n.unless.call(t,t&&t.isClassic,{hash:{},inverse:f.noop,fn:f.program(11,v,i),data:i});if(o||o===0)s+=o;return s+='\n			</div>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button class="btn btn-blue" id=\'sg-modal-save\'>'+u(n.i18n.call(t,"POP_SGRULE_BTN_SAVE",{hash:{},data:i}))+'</button>\n		<button class="btn btn-silver modal-close">'+u(n.i18n.call(t,"POP_SGRULE_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.modalSGRule=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header">\n		<h3 id=\'keypair-name\'>'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'</h3>\n		<i class="modal-close">&times;</i>\n	</div>\n	<div class="modal-body">\n		<section id=\'keypair-loading\' class="loading-spinner"></section>\n\n		<section id="keypair-body-linux" class="hide">\n			<div class="keypair-download clearfix modal-control-group">\n				<p class="modal-text-major left">Key Pair data is ready</p>\n				<a href="#" class="btn btn-blue right" id="keypair-kp-linux">Download</a>\n			</div>\n			<div id="keypair-remote" class="modal-control-group clearfix">\n				<label for="keypair-cmd">Remote Access</label>\n				<input class="input click-select" id="keypair-cmd" type="text" readonly="readonly">\n			</div>\n\n		</section>\n		<section id="keypair-body-win" class="hide">\n			<div class="modal-control-group">\n				<h4>Remote Access</h4>\n				<label for="keypair-private-key">Private Key</label>\n				<textarea id="keypair-private-key" class="click-select" readonly="readonly"></textarea>\n				<a href="#" id="keypair-rdp" class="btn btn-blue">Download RDP</a>\n				<a href="#" id="keypair-kp-win" class="btn btn-blue">Download Key Pair</a>\n			</div>\n\n			<div id="keypair-public" class="modal-control-group clearfix">\n				<label for="keypair-dns">Public DNS</label>\n				<input class="input click-select" type="text" readonly="readonly" id="keypair-dns">\n			</div>\n\n			<div class="modal-control-group clearfix">\n				<label style="width:100%;">Windows Login Password</label>\n				<div id="keypair-login">\n					<input type="password" readonly="readonly" id="keypair-pwd" class="input click-select">\n					<a href="#" class="btn btn-silver kp-copy-btn" id="keypair-show">Show password</a>\n				</div>\n				<div id="keypair-no-pwd"></div>\n			</div>\n\n		</section>\n	</div>\n\n	<div class="modal-footer">\n		<button class="btn modal-close btn-silver">Close</button>\n	</div>\n</div>\n\n',s},n.modalDownloadKP=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<article>\n	<div class="property-control-group">This resource is not available. It may have been deleted from other source or terminated in previous app editing.</div>\n</article>\n\n'},n.missingPropertyPanel=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<article>\n	<div class="property-control-group">'+a((o=t&&t.asgName,typeof o===u?o.apply(t):o))+" is deleted in stopped app. The auto scaling group will be created when the app is started.</div>\n</article>\n\n",s},n.missingAsgWhenStop=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="",i;r+='<li>\n			<a href="#" id="'+a((i=e&&e.id,typeof i===u?i.apply(e):i))+'" data-instance="'+a((i=e&&e.instance_id,typeof i===u?i.apply(e):i))+'" class="',i=n["if"].call(e,e&&e.snapshotId,{hash:{},inverse:f.program(4,h,t),fn:f.program(2,c,t),data:t});if(i||i===0)r+=i;return r+="_item "+a((i=e&&e.deleted,typeof i===u?i.apply(e):i))+'">\n				<span class="volume_name">'+a((i=e&&e.name,typeof i===u?i.apply(e):i))+'</span>\n				<span class="volume_size">'+a((i=e&&e.size,typeof i===u?i.apply(e):i))+"GB</span>\n			</a>\n		</li>",r}function c(e,t){return"snapshot"}function h(e,t){return"volume"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="bubble-head">Attached volume (<span id="instance_volume_number">'+a((o=t&&t.length,typeof o===u?o.apply(t):o))+'</span>)</div>\n<div id="instance_volume_wrap" class="scroll-wrap">\n	<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n	<ul id="instance_volume_list" class="clearfix bubble-content scroll-content">\n		',o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n\n",s},n.instanceVolume=e.template(t),t=function(e,t,n,r,i){function l(e,t,n){var r="",i;return r+='\n		<li>\n			<a href="#" class="asgList-item" id="'+a((i=e&&e.id,typeof i===u?i.apply(e):i))+'" data-id="'+a((i=e&&e.id,typeof i===u?i.apply(e):i))+'">\n				<i class="asgList-item-status tooltip status status-'+a((i=e&&e.state,typeof i===u?i.apply(e):i))+'" data-tooltip="'+a((i=e&&e.state,typeof i===u?i.apply(e):i))+'" ></i>\n				<span class="asgList-item-icon" style="background-image:url(\'./assets/images/'+a((i=e&&e.background,typeof i===u?i.apply(e):i))+'\')"></span>\n				<div class="asgList-item-volume" data-target-id='+a((i=e&&e.id,typeof i===u?i.apply(e):i))+'>\n					<span class="asgList-item-number">'+a((i=n&&n.volume,typeof i===u?i.apply(e):i))+'</span>\n				</div>\n				<span class="asgList-item-label">'+a((i=e&&e.id,typeof i===u?i.apply(e):i))+"</span>\n			</a>\n		</li>\n		",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div id="asgList-wrap">\n	<div id="asgList-header">\n		<span id="asgList-title">'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'</span>\n		<a id="asgList-close" href="javascript:void(0)" onclick="MC.canvas.asgList.close()">&times;</a>\n	</div>\n	<ul id="asgList" class="clearfix">\n		',o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,l,i,t),data:i});if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n\n",s},n.asgList=e.template(t),t=function(e,t,n,r,i){function l(e,t,n){var r="",i;return r+='\n		<li>\n			<a href="#" class=\'instanceList-item '+a((i=e&&e.deleted,typeof i===u?i.apply(e):i))+"' id=\""+a((i=e&&e.id,typeof i===u?i.apply(e):i))+"_"+a((i=t==null||t===!1?t:t.index,typeof i===u?i.apply(e):i))+'" data-id="'+a((i=e&&e.appId,typeof i===u?i.apply(e):i))+'">\n				<i class="instanceList-item-status tooltip status status-'+a((i=e&&e.state,typeof i===u?i.apply(e):i))+'" data-tooltip="'+a((i=e&&e.state,typeof i===u?i.apply(e):i))+'"></i>\n				<span class="instanceList-item-icon" style="background-image:url(\'./assets/images/'+a((i=n&&n.background,typeof i===u?i.apply(e):i))+'\')"></span>\n				<div class="instanceList-item-volume" data-target-id="'+a((i=e&&e.id,typeof i===u?i.apply(e):i))+"_"+a((i=t==null||t===!1?t:t.index,typeof i===u?i.apply(e):i))+'">\n					<span class="instanceList-item-number">'+a((i=n&&n.volume,typeof i===u?i.apply(e):i))+'</span>\n				</div>\n				<span class="instanceList-item-label">'+a((i=e&&e.name,typeof i===u?i.apply(e):i))+"-"+a((i=t==null||t===!1?t:t.index,typeof i===u?i.apply(e):i))+"</span>\n			</a>\n		</li>\n		",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div id="instanceList-wrap" data-id="'+a((o=(o=t&&t[0],o==null||o===!1?o:o.id),typeof o===u?o.apply(t):o))+'">\n	<div id="instanceList-header">\n		<span id="instanceList-title">'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'</span>\n		<a id="instanceList-close" href="javascript:void(0)" onclick="MC.canvas.instanceList.close()">&times;</a>\n	</div>\n	<ul id="instanceList" class="clearfix">\n		',o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,l,i,t),data:i});if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n\n",s},n.instanceList=e.template(t),t=function(e,t,n,r,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o="",u,a="function",f=this.escapeExpression;return o+='<li>\n	<a href="#" class="instanceList-item" id="'+f((u=t&&t.id,typeof u===a?u.apply(t):u))+"_"+f((u=i==null||i===!1?i:i.index,typeof u===a?u.apply(t):u))+'" data-id="'+f((u=t&&t.appId,typeof u===a?u.apply(t):u))+'">\n		<i class="instanceList-item-status tooltip status status-'+f((u=t&&t.status,typeof u===a?u.apply(t):u))+'"></i>\n		<span class="instanceList-item-icon" style="background-image:url(\'./assets/images/ide/ami/'+f((u=s&&s.background,typeof u===a?u.apply(t):u))+'.png\')"></span>\n		<div class="instanceList-item-volume" data-target-id="'+f((u=t&&t.id,typeof u===a?u.apply(t):u))+"_"+f((u=i==null||i===!1?i:i.index,typeof u===a?u.apply(t):u))+'">\n			<span class="instanceList-item-number">'+f((u=t&&t.volume,typeof u===a?u.apply(t):u))+'</span>\n		</div>\n		<span class="instanceList-item-label">'+f((u=t&&t.name,typeof u===a?u.apply(t):u))+"</span>\n	</a>\n</li>\n\n",o},n.instanceListItem=e.template(t),t=function(e,t,n,r,i){function l(e,t,r){var i="",s;i+='\n		<li>\n			<a href="#" class="eniList-item '+a((s=e&&e.deleted,typeof s===u?s.apply(e):s))+'" id="'+a((s=e&&e.id,typeof s===u?s.apply(e):s))+"_"+a((s=t==null||t===!1?t:t.index,typeof s===u?s.apply(e):s))+'" data-id="'+a((s=e&&e.appId,typeof s===u?s.apply(e):s))+'">\n				<i class="eniList-item-eip-status',s=n["if"].call(e,r&&r.eip,{hash:{},inverse:f.noop,fn:f.program(2,c,t),data:t});if(s||s===0)i+=s;return i+='"></i>\n				<span class="eniList-item-label">'+a((s=e&&e.appId,typeof s===u?s.apply(e):s))+"</span>\n			</a>\n		</li>\n		",i}function c(e,t){return" on"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div id="eniList-wrap">\n	<div id="eniList-header">\n		<span id="eniList-title">'+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'</span>\n		<a id="eniList-close" href="javascript:void(0)" onclick="MC.canvas.eniList.close()">&times;</a>\n	</div>\n	<ul id="eniList" class="clearfix">\n		',o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,l,i,t),data:i});if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n\n",s},n.eniList=e.template(t),t=function(e,t,n,r,i,s){function c(e,t){return" on"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o="",u,a="function",f=this.escapeExpression,l=this;o+='<li>\n	<a href="#" class="eniList-item" id="'+f((u=t&&t.id,typeof u===a?u.apply(t):u))+"_"+f((u=i==null||i===!1?i:i.index,typeof u===a?u.apply(t):u))+'" data-id="'+f((u=t&&t.id,typeof u===a?u.apply(t):u))+'">\n		<i class="eniList-item-eip-status',u=n["if"].call(t,s&&s.eip,{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(u||u===0)o+=u;return o+='"></i>\n		<span class="eniList-item-label">'+f((u=t&&t.name,typeof u===a?u.apply(t):u))+"</span>\n	</a>\n</li>\n\n",o},n.eniListItem=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header"> <h3>Set up CIDR Block</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major">'+a((o=t&&t.main_content,typeof o===u?o.apply(t):o))+'</div>\n			<div class="modal-text-minor">'+a((o=t&&t.desc_content,typeof o===u?o.apply(t):o))+'</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<a id="cidr-remove" class="link-red left link-modal-danger">'+a((o=t&&t.remove_content,typeof o===u?o.apply(t):o))+'</a>\n		<button id="cidr-return" class="btn modal-close btn-blue">OK</button>\n	</div>\n</div>\n\n',s},n.setupCIDRConfirm=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="modal-header"> <h3>Attach Network Interface to Instance</h3><i class="modal-close">&times;</i> </div>\n<div class="modal-body">\n	<div class="modal-center-align-helper">\n		<p>'+a((o=t&&t.host,typeof o===u?o.apply(t):o))+" has been automatically assigned Public IP.</p>\n		<p>If you want to attach the external network interface to "+a((o=t&&t.host,typeof o===u?o.apply(t):o))+", the Public IP must be removed.</p>\n		<p>Do you still want to attach "+a((o=t&&t.eni,typeof o===u?o.apply(t):o))+" to "+a((o=t&&t.host,typeof o===u?o.apply(t):o))+" and remove the Public IP?</p>\n	</div>\n</div>\n\n",s},n.modalAttachingEni=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<div style="width:420px">\n	',o=(o=t&&t.confirm,typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+='\n	<div class="modal-footer">\n		<button class="btn modal-close btn-blue" id="canvas-op-confirm" style="width:200px;">'+a((o=t&&t.action,typeof o===u?o.apply(t):o))+'</button>\n		<button class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.modalCanvasConfirm=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header"> <h3>Stack Name Already in Use</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body" style="min-height:120px;">\n		<div class="modal-text-wraper">\n			<div class="modal-center-align-helper">\n				<div class="modal-text-major">Stack name <span class="resource-name-label">'+a((o=t&&t.stack_name,typeof o===u?o.apply(t):o))+'</span> is already used by another stack. Please use a different name.</div>\n				<div class="modal-control-group modal-control-group-bg-blue" data-bind="true">\n					<label for="new-stack-name">Stack Name</label>\n					<input id="new-stack-name" class="input modal-input-value" type="text" value="'+a((o=t&&t.stack_name,typeof o===u?o.apply(t):o))+'" data-ignore="true">\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="rename-confirm" class="btn btn-blue">Save</button>\n	</div>\n</div>\n\n',s},n.modalReinputStackName=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header"><h3 class="truncate" style="width: 380px;">Confirm to close '+a((o=t&&t.tab_name,typeof o===u?o.apply(t):o))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major">'+a((o=t&&t.tab_name,typeof o===u?o.apply(t):o))+' has unsaved changes.</div>\n			<div class="modal-text-major">Do you confirm to close it?</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<button id="close-tab-confirm" class="btn btn-red" data-tab-id="'+a((o=t&&t.tab_id,typeof o===u?o.apply(t):o))+'">Close Tab</button>\n		<button class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.closeTabRestriction=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div style="width:420px">\n	<div class="modal-header"><h3 class="truncate" style="width: 380px;">Changes not applied</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper"> <div class="modal-center-align-helper">\n			<div class="modal-text-major">This app has been changed.</div>\n			<div class="modal-text-major">Do you conﬁrm to discard the changes?</div>\n		</div> </div>\n	</div>\n	<div class="modal-footer">\n		<button id="return-app-confirm" class="btn btn-red">Discard</button>\n		<button class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n'},n.cancelAppEdit2App=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header"> <h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper">\n			 <div class="modal-center-align-helper">\n				<div class="modal-text-major">'+a((o=t&&t.main_content,typeof o===u?o.apply(t):o))+'</div>\n				<div class="modal-text-minor">'+a((o=t&&t.desc_content,typeof o===u?o.apply(t):o))+'</div>\n			</div>\n		 </div>\n	</div>\n	<div class="modal-footer">\n		<button id="modal-confirm-delete" class="btn btn-red">Delete</button>\n		<button id="modal-cancel" class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.modalDeleteSGOrACL=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div id="loading-modal-wrap">\n	<div class="loading-modal" id="modal-box">\n		<div class="loading-spinner loading-spinner-mid"></div>\n		<div>Refreshing resources...</div>\n	</div>\n</div>\n\n'},n.loadingTransparent=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div style="width:420px">\n	<div class="modal-header"> <h3>'+a((o=t&&t.title,typeof o===u?o.apply(t):o))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper">\n			 <div class="modal-center-align-helper">\n				<div class="modal-text-major">'+a((o=t&&t.main_content,typeof o===u?o.apply(t):o))+'</div>\n				<div class="modal-text-minor">'+a((o=t&&t.desc_content,typeof o===u?o.apply(t):o))+'</div>\n			</div>\n		 </div>\n	</div>\n	<div class="modal-footer">\n		<button id="modal-confirm-delete" class="btn btn-red">Delete</button>\n		<button id="modal-cancel" class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.modalForceDeleteApp=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div>\n	<div class="info">Last saved: <span class="stack-save-time">-<span></div>\n	<ul class="statusbar-btn-list">\n		<li class="statusbar-btn btn-state">\n			<span class="state-success"><i class="status status-green icon-label"></i><b>0</b></span>\n			<span class="state-failed"><i class="status status-red icon-label"></i><b>0</b></span>\n		</li>\n		<li class="statusbar-btn btn-ta-valid">Validate</li>\n	</ul>\n</div>\n\n'},n.statusbar=e.template(t),t=function(e,t,n,r,i){function l(e,t){var n="",r;return n+="\n				<li>"+a((r=e&&e.name,typeof r===u?r.apply(e):r))+"( "+a((r=e&&e.instance_id,typeof r===u?r.apply(e):r))+" )</li>\n				",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div style="width:420px">\n	<div class="modal-header"><h3 class="truncate" style="width: 380px;">Need to Restart Instance</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body" style="height:150px;">\n		<div class="modal-text-wraper">\n			<div class="modal-text-major">To update the properties you have changed, following instances need to restart:</div>\n			<ul class="clearfix">\n				',o=n.each.call(t,t&&t.instance_list,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+='\n			</ul>\n			<div id="instance-type" class="modal-text-major"></div>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="confirm-update-app" class="btn btn-blue" style="width:160px;">Continue to Update</button>\n		<button class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.restartInstance=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="";return r+='\n		<h3 class="modal-text-major">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_MAJOR_TEXT_RUNNING",{hash:{},data:t}))+"</h3>\n	",r}function c(e,t){var r="";return r+='\n		<h3 class="modal-text-major">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_MAJOR_TEXT_STOPPED",{hash:{},data:t}))+'</h3>\n		<p class="modal-text-minor" style="margin-top:10px;">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_MINOR_TEXT_STOPPED",{hash:{},data:t}))+"</p>\n	",r}function h(e,t){var r="",i;r+='\n		<table class="table-head-fix table app-update-summary-table-header" data-target="app-update-summary-table">\n			<thead> <tr class="header-row">\n				<th class="sortable active" width="30%">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_TABLE_TYPE",{hash:{},data:t}))+'</th>\n				<th class="sortable" width="30%">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_TABLE_NAME",{hash:{},data:t}))+'</th>\n				<th class="sortable" width="40%">'+u(n.i18n.call(e,"POP_CONFIRM_UPDATE_TABLE_CHANGE",{hash:{},data:t}))+'</th> </tr>\n			</thead>\n		</table>\n		<div class="scroll-wrap" style="max-height:256px;">\n			<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n			<table class="table scroll-content" id="app-update-summary-table">\n				<tbody>\n				',i=n.each.call(e,e&&e.result,{hash:{},inverse:f.noop,fn:f.program(6,p,t),data:t});if(i||i===0)r+=i;return r+="\n				</tbody>\n			</table>\n		</div>\n	",r}function p(e,t){var r="",i;r+=' <tr>\n					<td width="30%">'+u((i=e&&e.type,typeof i===a?i.apply(e):i))+'</td>\n					<td width="30%">'+u((i=e&&e.name,typeof i===a?i.apply(e):i))+'</td>\n					<td width="40%">\n						',i=n.each.call(e,e&&e.changes,{hash:{},inverse:f.program(9,v,t),fn:f.program(7,d,t),data:t});if(i||i===0)r+=i;r+="\n						",i=n["if"].call(e,e&&e.extra,{hash:{},inverse:f.noop,fn:f.program(11,m,t),data:t});if(i||i===0)r+=i;r+="\n						",i=n["if"].call(e,e&&e.info,{hash:{},inverse:f.noop,fn:f.program(13,g,t),data:t});if(i||i===0)r+=i;return r+="</td>\n				</tr> ",r}function d(e,t){var n="",r;return n+='\n						<span class="au-summary-label au-summary-'+u((r=e&&e.name,typeof r===a?r.apply(e):r))+'">'+u((r=e&&e.info,typeof r===a?r.apply(e):r))+"</span>\n						",n}function v(e,t){var n="",r;return n+='\n						<span class="au-summary-label au-summary-'+u((r=e&&e.change,typeof r===a?r.apply(e):r))+'">'+u((r=e&&e.change,typeof r===a?r.apply(e):r))+"</span>\n						",n}function m(e,t){var n="",r;return n+='<p class="au-summary-extra">'+u((r=e&&e.extra,typeof r===a?r.apply(e):r))+"</p>",n}function g(e,t){var n="",r;return n+='<span class="tooltip icon-warning" data-tooltip="'+u((r=e&&e.info,typeof r===a?r.apply(e):r))+'"></span>',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function",f=this;s+='<div id="app-apply-update" style="width:460px">\n	<div class="modal-header"><h3 class="truncate" style="width: 380px;">'+u(n.i18n.call(t,"POP_CONFIRM_UPDATE_TIT",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n	',o=n["if"].call(t,t&&t.isRunning,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+="\n	",o=n["if"].call(t,(o=t&&t.result,o==null||o===!1?o:o.length),{hash:{},inverse:f.noop,fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;return s+='\n		<div class="stack-validation">\n			<details open style="display:none;">\n				<summary>'+u(n.i18n.call(t,"POP_CONFIRM_UPDATE_VALIDATION",{hash:{},data:i}))+'</summary>\n				<div id="stack-run-validation-container"></div>\n			</details>\n			<div class="nutshell" style="display: none;">:<label></label></div>\n			<div class="validating">\n				<div class="loading-spinner loading-spinner-small"></div>\n				<p>'+u(n.i18n.call(t,"POP_CONFIRM_UPDATE_VALIDATING",{hash:{},data:i}))+'</p>\n			</div>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="confirm-update-app" class="btn btn-blue" style="width:160px;" disabled>'+u(n.i18n.call(t,"POP_CONFIRM_UPDATE_CONFIRM_BTN",{hash:{},data:i}))+'</button>\n		<button class="btn modal-close btn-silver">'+u(n.i18n.call(t,"POP_CONFIRM_UPDATE_CANCEL_BTN",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.updateApp=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="overlay-content-wrap">\n	<div class="overlay-text">Oops! There has been some issue loading the tab.</div>\n	<button class="btn btn-blue" id="btn-fail-reload">Reload</button>\n</div>\n\n'},n.openTabFail=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="overlay-content-wrap">\n	<div class="overlay-text">Starting app...</div>\n	<div class="loading-spinner"></div>\n</div>\n\n'},n.appStarting=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="overlay-content-wrap">\n	<div class="overlay-text">Stopping app...</div>\n	<div class="loading-spinner"></div>\n</div>\n\n'},n.appStopping=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="overlay-content-wrap">\n	<div class="overlay-text">Terminating app...</div>\n	<div class="loading-spinner"></div>\n</div>\n\n'},n.appTerminating=e.template(t),t=function(e,t,n,r,i){function l(e,t){var n="",r;return n+='\n	<div class="progress">\n		<div class="bar" id="progress_bar" style="width: '+a((r=e&&e.rate,typeof r===u?r.apply(e):r))+'%;"></div>\n	</div>\n	<p class="process-info">\n		<span><b class="num" id="progress_num">'+a((r=e&&e.dones,typeof r===u?r.apply(e):r))+'</b> of</span>\n		<span><b class="total" id="progress_total">'+a((r=e&&e.steps,typeof r===u?r.apply(e):r))+"</b> tasks</span>\n	</p>\n	",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="overlay-content-wrap">\n	<div class="overlay-text">Updating app...</div>\n	<div class="loading-spinner"></div>\n	',o=n["if"].call(t,t&&t.is_show,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n\n",s},n.appUpdating=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="overlay-content-wrap">\n	<div class="overlay-text">App has updated successfully.</div>\n	<button class="btn btn-blue" id="btn-updated-success">Done</button>\n</div>\n\n'},n.appUpdatedSuccess=e.template(t),t=function(e,t,n,r,i){function l(e,t){var r="",i;r+='\n	<div class="error-info-block">\n		<div class="result-sub-title">'+u(n.i18n.call(e,"PROC_RLT_FAILED_SUB_TITLE",{hash:{},data:t}))+'</div>\n		<div class="result-error-info">\n			<p class="title">'+u(n.i18n.call(e,"PROC_ERR_INFO",{hash:{},data:t}))+'</p>\n			<p class="detail">',i=(i=e&&e.detail,typeof i===a?i.apply(e):i);if(i||i===0)r+=i;r+="</p>\n		</div>\n		",i=n["if"].call(e,e&&e.update_detail,{hash:{},inverse:f.noop,fn:f.program(2,c,t),data:t});if(i||i===0)r+=i;return r+="\n	</div>\n	",r}function c(e,t){return'\n		<div class="result-error-notice">The state of your app has been rolled back, except for the already deleted resources.</div>\n		'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function",f=this;s+='<div class="overlay-content-wrap app-change-fail">\n	<div class="overlay-text">Oops! The app failed to '+u((o=t&&t.state,typeof o===a?o.apply(t):o))+".</div>\n	",o=n["if"].call(t,t&&t.is_show,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+='\n	<button class="btn btn-silver" id="btn-changedfail">Done</button>\n</div>\n\n',s},n.appChangedfail=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div id="node-action-wrap">\n	<div id="node-action-state">\n		<div id="node-action-state-btn">\n			<i id="node-state-icon"></i>\n			<span id="node-state-number">'+a((o=t&&t.state_num,typeof o===u?o.apply(t):o))+'</span>\n		</div>\n		<div class="node-action-tooltip">Edit State</div>\n	</div>\n</div>\n\n',s},n.nodeAction=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div id="modal-instance-sys-log" style="width: 900px;">\n	<div class="modal-header"><h3>System Log: '+a((o=t&&t.instance_id,typeof o===u?o.apply(t):o))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<section class="instance-sys-log-loading loading-spinner"></section>\n		<div class="instance-sys-log-content font-mono">'+a((o=t&&t.log_content,typeof o===u?o.apply(t):o))+'</div>\n		<div class="instance-sys-log-info modal-text-minor">System log is not ready yet. Please try in a short while.</div>\n	</div>\n	<div class="modal-footer">\n		<button id="modal-instance-sys-log-cancel" class="btn modal-close btn-silver">Close</button>\n	</div>\n</div>\n\n',s},n.modalInstanceSysLog=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+="Are you sure you want to delete "+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'?</div>\n<div class="modal-text-minor">Once deleted, the states of '+a((o=t&&t.name,typeof o===u?o.apply(t):o))+"'s configuration will be lost.</div>\n\n",s},n.NodeStateRemoveConfirmation=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+="Are you sure you want to delete "+a((o=t&&t.name,typeof o===u?o.apply(t):o))+'?</div>\n<div class="modal-text-minor">The security group '+a((o=t&&t.sg,typeof o===u?o.apply(t):o))+" will also be deleted. Other load balancer using this security group will be affected.</div>\n\n",s},n.ElbRemoveConfirmation=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div style="width:420px">\n	<div class="modal-header"><h3>Conﬁrm to Enable VisualOps</h3><i class="modal-close">&times;</i></div>\n	<div class="modal-body">\n		<div class="modal-text-wraper">\n			<div class="modal-center-align-helper">\n				<div class="modal-text-major">Enable VisualOps will override your custom User Data. Are you sure to continue?</div>\n			</div>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="modal-stack-agent-enable-confirm" style="width:145px;" class="btn modal-confirm btn-blue">Enable VisualOps</button>\n		<button id="modal-stack-agent-enable-cancel" class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n'},n.modalStackAgentEnable=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:640px" id="modal-key-short">\n	<div class="modal-header"><h3>'+o(n.i18n.call(t,"KEY_MOD_TIT",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i></div>\n	<div class="modal-body scroll-wrap">\n		<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>\n		<div class="scroll-content" style="height: 560px">\n			<section class="key-stack-app">\n				<h3 class="title">'+o(n.i18n.call(t,"KEY_TIT_STACK_APP_OP",{hash:{},data:i}))+'</h3>\n				<ul class="keys">\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_PROP_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_PROP_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_STAT_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_STAT_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_DUPL_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_DUPL_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_DUPL_ACTION",{hash:{},data:i}))+'\n						</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_DEL_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_DEL_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_DEL_ACTION",{hash:{},data:i}))+'\n						</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_SAVE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_SAVE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_SAVE_ACTION",{hash:{},data:i}))+'\n						</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_SCRL_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_SCRL_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_SCRL_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n				</ul>\n			</section>\n			<section class="key-state">\n				<h3 class="title">'+o(n.i18n.call(t,"KEY_TIT_STATE_GEN",{hash:{},data:i}))+'</h3>\n				<ul class="keys">\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_FOCUS_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_FOCUS_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_SELECT_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_SELECT_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_EXPAND_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_EXPAND_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_COLLAPSE_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_COLLAPSE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_NEXT_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_NEXT_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key font-mono">'+o(n.i18n.call(t,"KEY_PREV_KEY",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_PREV_ACTION",{hash:{},data:i}))+'\n						</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_INFO_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_INFO_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_INFO_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_LOG_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_LOG_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_LOG_ACTION",{hash:{},data:i}))+'\n						</div>\n					</li>\n				</ul>\n			</section>\n			<section class="key-state-edit">\n				<h3 class="title">'+o(n.i18n.call(t,"KEY_TIT_STATE_EDIT",{hash:{},data:i}))+'</h3>\n				<ul class="keys">\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_SELECT_ALL_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_SELECT_ALL_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_SELECT_ALL_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_DESELECT_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_DESELECT_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_DESELECT_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_CREATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_CREATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_CREATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_DEL_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_DEL_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_DEL_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_MOVE_FOCUS_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_MOVE_FOCUS_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_MOVE_FOCUS_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_COPY_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_COPY_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_COPY_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_PASTE_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_PASTE_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_PASTE_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_UNDO_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_UNDO_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_UNDO_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n					<li class="key-item">\n						<div class="key mac font-mono">'+o(n.i18n.call(t,"KEY_REDO_STATE_KEY_MAC",{hash:{},data:i}))+'</div>\n						<div class="key pc font-mono">'+o(n.i18n.call(t,"KEY_REDO_STATE_KEY_PC",{hash:{},data:i}))+'</div>\n						<div class="action">'+o(n.i18n.call(t,"KEY_REDO_STATE_ACTION",{hash:{},data:i}))+'</div>\n					</li>\n				</ul>\n			</section>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button class="btn modal-close btn-silver">'+o(n.i18n.call(t,"KEY_MODAL_BTN_CLOSE",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.shortkey=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function";return s+='<div style="width:343px" id="modal-ssl-cert-setting">\n	<div class="modal-header"><h3>Server Certiﬁcate</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body" style="min-height:120px;">\n		<div class="modal-ssl-cert-item clearfix">\n			<label class="left">'+u(n.i18n.call(t,"PROP_ELB_LBL_LISTENER_NAME",{hash:{},data:i}))+'</label>\n			<input class="input" value="'+u((o=(o=t&&t.sslCert,o==null||o===!1?o:o.name),typeof o===a?o.apply(t):o))+'" type="text" data-required="true" data-ignore="true" id="elb-ssl-cert-name-input"/>\n		</div>\n		<div class="modal-ssl-cert-item clearfix">\n			<label class="left">'+u(n.i18n.call(t,"PROP_ELB_LBL_LISTENER_PRIVATE_KEY",{hash:{},data:i}))+'</label>\n			<textarea class="input elb-ssl-cert-input tooltip" data-tooltip="'+u(n.i18n.call(t,"POP_TIP_PEM_ENCODED",{hash:{},data:i}))+'" data-required="true" data-ignore="true" id="elb-ssl-cert-privatekey-input">'+u((o=(o=t&&t.sslCert,o==null||o===!1?o:o.key),typeof o===a?o.apply(t):o))+'</textarea>\n		</div>\n		<div class="modal-ssl-cert-item clearfix">\n			<label class="left"  >'+u(n.i18n.call(t,"PROP_ELB_LBL_LISTENER_PUBLIC_KEY",{hash:{},data:i}))+'</label>\n			<textarea class="input elb-ssl-cert-input tooltip" data-tooltip="'+u(n.i18n.call(t,"POP_TIP_PEM_ENCODED",{hash:{},data:i}))+'" data-required="true" data-ignore="true" id="elb-ssl-cert-publickey-input">'+u((o=(o=t&&t.sslCert,o==null||o===!1?o:o.body),typeof o===a?o.apply(t):o))+'</textarea>\n		</div>\n		<div class="modal-ssl-cert-item clearfix">\n			<label class="left"  >'+u(n.i18n.call(t,"PROP_ELB_LBL_LISTENER_CERTIFICATE_CHAIN",{hash:{},data:i}))+'</label>\n			<textarea class="input elb-ssl-cert-input tooltip" data-tooltip="'+u(n.i18n.call(t,"POP_TIP_PEM_ENCODED",{hash:{},data:i}))+'" id="elb-ssl-cert-chain-input">'+u((o=(o=t&&t.sslCert,o==null||o===!1?o:o.chain),typeof o===a?o.apply(t):o))+'</textarea>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="elb-ssl-cert-confirm" class="btn btn-blue">Save</button>\n		<button id="elb-ssl-cert-cancel" class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>\n\n',s},n.modalSSLCertSetting=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div style="width:623px" id="experimental-modal">\n	<div class="modal-header">\n		<h3>'+o(n.i18n.call(t,"INVITE_MOD_TIT",{hash:{},data:i}))+'</h3>\n		<i class="modal-close">×</i>\n	</div>\n	<div class="modal-body">\n		<h3 class="modal-body-header">'+o(n.i18n.call(t,"INVITE_MOD_INTRO",{hash:{},data:i}))+'</h3>\n		<div class="modal-body-content">\n			<div class="modal-text-minor">'+o(n.i18n.call(t,"INVITE_MOD_INTRO_MORE",{hash:{},data:i}))+'</div>\n			<h4 class="request-invite-header">'+o(n.i18n.call(t,"INVITE_MOD_REQUEST_TIT",{hash:{},data:i}))+'</h4>\n			<div class="request-invite-content">'+o(n.i18n.call(t,"INVITE_MOD_REQUEST_CONTENT",{hash:{},data:i}))+'</div>\n			<textarea id="experimental-message" class="input" style="width:95%;height:120px;" placeholder=\''+o(n.i18n.call(t,"INVITE_MOD_REQUEST_PLACEHOLDER",{hash:{},data:i}))+'\' data-required="true"></textarea>\n		</div>\n	</div>\n	<div class="modal-footer">\n		<button id="experimental-visops-confirm" class="btn btn-blue">'+o(n.i18n.call(t,"INVITE_MOD_BTN_REQUEST",{hash:{},data:i}))+'</button>\n		<button id="experimental-visops-cancel" class="btn modal-close btn-silver">'+o(n.i18n.call(t,"INVITE_MOD_BTN_CANCEL",{hash:{},data:i}))+"</button>\n	</div>\n</div>\n\n",s},n.experimentalVisops=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<h3 class="modal-body-header">'+o(n.i18n.call(t,"INVITE_MOD_THANK_LBL",{hash:{},data:i}))+'</h3>\n<div class="modal-text-major tac">'+o(n.i18n.call(t,"INVITE_MOD_THANK_MORE",{hash:{},data:i}))+"</div>\n\n",s},n.experimentalVisopsTrail=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="bubble-head">A NAT instance must meet following requirements:</div>\n<div class="bubble-content">\n	<ul class="bubble-NAT-req-list">\n		<li>Should have a route targeting the instance itself with destination to 0.0.0.0/0.</li>\n		<li>Should belong to a subnet which routes traffic with destination 0.0.0.0/0 to Internet Gateway.</li>\n		<li>Should disable Source/Destination Checking in "Network Interface Details".</li>\n		<li>Should have public IP or Elastic IP.</li>\n		<li>Should have outbound rule to the outside.</li>\n		<li>Should have inbound rule from within the VPC.</li>\n	</ul>\n</div>\n\n'},n.bubbleNATreq=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+=o(n.nl2br.call(t,t&&t.content,{hash:{},data:i}))+"\n\n",s},n.covertNl2br=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+=o(n.breaklines.call(t,t&&t.content,{hash:{},data:i}))+"\n\n",s},n.convertBreaklines=e.template(t),t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div id="system-notice">\n	<span>\n		<b>Notice: </b>We will drop the support for <em>EC2 Classic</em> and <em>Default VPC</em> soon, and focus on VPC, which is recommended for everyone.\n		<a href="http://blog.visualops.io/2014/02/18/vpc-always-forget-about-the-rest/" class="notice-btn" target="_blank">Learn more</a>\n	</span>\n	<a class="notice-close" href="javascript:void(0)" id="system-notice-close">x</a>\n</div>\n\n'},n.systemNotice=e.template(t),t=function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function";return s+='<div style="width:420px">\n	<div class="modal-header"> <h3>'+u(n.i18n.call(t,"PROP_ELB_CERT_REMOVE_CONFIRM_TITLE",{hash:{},data:i}))+'</h3><i class="modal-close">&times;</i> </div>\n	<div class="modal-body">\n		<div class="modal-text-wraper">\n			 <div class="modal-center-align-helper">\n				<div class="modal-text-major">'+u(n.i18n.call(t,"PROP_ELB_CERT_REMOVE_CONFIRM_MAIN",{hash:{},data:i}))+u((o=t&&t.cert_name,typeof o===a?o.apply(t):o))+'?</div>\n				<div class="modal-text-minor">'+u(n.i18n.call(t,"PROP_ELB_CERT_REMOVE_CONFIRM_SUB",{hash:{},data:i}))+'</div>\n			</div>\n		 </div>\n	</div>\n	<div class="modal-footer">\n		<button id="modal-confirm-elb-cert-delete" class="btn btn-red">Delete</button>\n		<button id="modal-cancel" class="btn modal-close btn-silver">Cancel</button>\n	</div>\n</div>',s},n.modalDeleteELBCert=e.template(t),n}),function(){define("lib/handlebarhelpers",["handlebars","i18n!nls/lang.js"],function(e,t){return e.registerHelper("i18n",function(n){var r;return r=t.ide[n],r=r||"undefined",new e.SafeString(r)}),e.registerHelper("tolower",function(t){return new e.SafeString(t.toLowerCase())}),e.registerHelper("emptyStr",function(t){return t===""||t===void 0||t===null?"-":new e.SafeString(t)}),e.registerHelper("UTC",function(t){return new e.SafeString((new Date(t)).toUTCString())}),e.registerHelper("breaklines",function(t){return t=e.Utils.escapeExpression(t),t=t.replace(/(\r\n|\n|\r)/gm,"<br>"),new e.SafeString(t)}),e.registerHelper("nl2br",function(t){var n;return n=(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2"),new e.SafeString(n)}),e.registerHelper("ifCond",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),e.registerHelper("timeStr",function(t){var n;return n=new Date(t),isNaN(Date.parse(t))||!n.toLocaleDateString||!n.toTimeString?t?new e.SafeString(t):"-":(n=new Date(t),n.toLocaleDateString()+" "+n.toTimeString())}),e.registerHelper("plusone",function(e){return e=parseInt(e,10),isNaN(e)?e:""+(e+1)}),null})}.call(this),define("MC",["ui/MC.template","lib/handlebarhelpers","jquery","sprintf"],function(e){var t=function(e){var t={set:function(t,n){e[t]=typeof n=="object"?JSON.stringify(n):n},get:function(t){var r=e[t];return n.isJSON(r)?JSON.parse(r):r||""},remove:function(t){return e.removeItem(t),!0},clear:function(){e.clear()}};return t},n={DOMAIN:window.MC_DOMAIN,API_HOST:window.MC_PROTO+"://api."+window.MC_DOMAIN,IMG_URL:"./assets/images/",_extractIDRegex:/^\s*?@?{?([-A-Z0-9a-z]+)}?/,data:{},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)}).toUpperCase()},isJSON:function(e){var t=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,r=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,i=/(?:^|:|,)(?:\s*\[)+/g;return typeof e=="string"&&e.trim()!==""?t.test(e.replace(n,"@").replace(r,"]").replace(i,"")):!1},api_queue:{},api:function(e){$.ajax({url:n.API_HOST+e.url,dataType:"json",type:"POST",data:JSON.stringify({jsonrpc:"2.0",id:n.guid(),method:e.method||"",params:e.data||{}}),success:function(t){e.success(t.result[1],t.result[0])},error:function(t,n,r){e.error(n,-1)}})},browserDetect:function(){var e=/(webkit|firefox|opera|msie|ipad|iphone|android)/ig,t=navigator.userAgent.toLowerCase(),r=$(document.body),i,s;return e.exec(t),i=RegExp.$1,r.addClass(i),i==="webkit"&&/version\/([0-9])\.([0-9\.]*) safari/ig.exec(t)!==null&&(r.addClass("safari"),i="safari",s=/version\/([0-9])\.([0-9\.]*) safari/ig.exec(t)[1]),i==="webkit"&&/chrome\/([0-9]{1,2})/ig.exec(t)!==null&&(r.addClass("chrome"),i="chrome",s=/chrome\/([0-9]{1,2})/ig.exec(t)[1]),i==="opera"&&/version\/([0-9]{1,2})/ig.exec(t)!==null&&(r.addClass("opera"),i="opera",s=/version\/([0-9]{1,2})/ig.exec(t)[1]),i==="firefox"&&/firefox\/([0-9]{1,2})/ig.exec(t)&&(s=/firefox\/([0-9]{1,2})/ig.exec(t)[1]),i==="msie"&&/msie ([0-9]{1,2})/ig.exec(t)&&(s=/msie ([0-9]{1,2})/ig.exec(t)[1]),navigator.platform.toLowerCase().indexOf("mac")>=0&&r.addClass("mac"),s*=1,n.browser=i,n.browserVersion=s,{browser:i,version:s}},isSupport:function(){var e=n.browserDetect(),t=e.browser,r=e.version;return t==="chrome"&&r>=10||t==="safari"&&r>=6||t==="msie"&&r>=10||t==="firefox"&&r>=4||t==="opera"&&r>=10||/trident\/7\.0/ig.test(navigator.userAgent.toLowerCase())?!0:!1},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},truncate:function(e,t){return e.length>t?e.substring(0,t-3)+"...":e},leftPadString:function(e,t,n){return e.length>=t?e:(new Array(t-e.length+1)).join(n)+e},rightPadString:function(e,t,n){return e.length>=t?e:e+(new Array(t-e.length+1)).join(n)},extractID:function(e){if(!e)return"";var t=n._extractIDRegex.exec(e);return t?t[1]:e},titleNotification:function(e){var t=/\([0-9]*\)/ig;return e>0?document.title=document.title.match(t)?document.title.replace(t,"("+e+")"):"("+e+") "+document.title:document.title=document.title.replace(t,""),!0},numberFormat:function(e){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var t=isFinite(+e)?+e:0,n=0,r=",",i=".",s="",o=function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n};return s=(n?o(t,n):""+Math.round(t)).split("."),s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(s[1]||"").length<n&&(s[1]=s[1]||"",s[1]+=[n-s[1].length+1].join("0")),s.join(i)},dateFormat:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},r;/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(r in n)(new RegExp("("+r+")")).test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length===1?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},intervalDate:function(e){var t=new Date,e=e*1e3,r=(t.getTime()-e)/1e3,i=Math.floor(r/86400),s=Math.floor(r/3600),o=Math.floor(r/60);return i>30?n.dateFormat(new Date(e),"dd/MM yyyy"):i>0?i+" days ago":s>0?s+" hours ago":o>0?o+" minutes ago":"just now"},timestamp:function(e,t,n){if($.type(e)==="date"&&$.type(t)==="date"){var r=1;switch(n){case"s":r=1e3;break;case"m":r=6e4;break;case"h":r=36e5;break;case"d":r=864e5;break;default:r=1e3}return parseInt((t.getTime()-e.getTime())/parseInt(r))}console.error("variable is type date",e,t,n)},rand:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},base64Encode:function(e){return window.btoa(unescape(encodeURIComponent(e)))},base64Decode:function(e){return decodeURIComponent(escape(window.atob(e)))},camelCase:function(e){return e.replace(/-([a-z])/ig,function(e,t){return(t+"").toUpperCase()})},storage:t(localStorage),session:t(sessionStorage),cacheForDev:function(e,t,n){return!1}};return window.MC=n,jQuery.extend({xml2json:function r(e){var t={},n,i,s,o,u,a;for(u in e.childNodes){s=e.childNodes[u];if(s.nodeType===1){o=s.hasChildNodes()?r(s):s.nodevalue,o=o==null?null:o,s.nodeName!=="item"&&s.nodeName!=="member"||!o.value?s.nextElementSibling&&s.nextElementSibling.nodeName===s.nodeName||s.nodeName==="item"||s.nodeName==="member"?($.type(t[s.nodeName])==="undefined"&&(t[s.nodeName]=[]),$.isEmptyObject(o)||t[s.nodeName].push(o)):s.previousElementSibling&&s.previousElementSibling.nodeName===s.nodeName?$.isEmptyObject(o)||t[s.nodeName].push(o):t[s.nodeName]=o:o.key?($.type(t)!=="object"&&(t={}),$.isEmptyObject(o)||(t[o.key]=o.value)):($.type(t)!=="array"&&(t=[]),$.isEmptyObject(o)||t.push(o.value));if(s.attributes.length>0){t[s.nodeName]["@attributes"]={};for(a in s.attributes)n=s.attributes.item(a),t[s.nodeName]["@attributes"][n.nodeName]=n.nodeValue}if(s.childElementCount===0&&s.textContent!=null&&s.textContent!==""){i=s.textContent.trim();switch(i.toLowerCase()){case"true":i=!0;break;case"false":i=!1}t[s.nodeName]instanceof Array?t[s.nodeName].push(i):t[s.nodeName]=i}}}return t}}),function(e){function t(e){return e}function n(e){return decodeURIComponent(e.replace(i," "))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s.json?JSON.parse(e):e}catch(t){}}var i=/\+/g,s=e.cookie=function(i,o,u){if(void 0!==o){u=e.extend({},s.defaults,u);if("number"==typeof u.expires){var a=u.expires,f=u.expires=new Date;f.setDate(f.getDate()+a)}return o=s.json?JSON.stringify(o):String(o),document.cookie=[s.raw?i:encodeURIComponent(i),"=",s.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}o=s.raw?t:n,u=document.cookie.split("; ");for(var a=i?void 0:{},f=0,l=u.length;f<l;f++){var c=u[f].split("="),h=o(c.shift()),c=o(c.join("="));if(i&&i===h){a=r(c);break}i||(a[h]=r(c))}return a};s.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}(jQuery),$(document).ready(n.browserDetect),n.template=e,n}),function(){define("constant",["MC","i18n!nls/lang.js"],function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k;return s={"AWS.EC2.AvailabilityZone":"ZoneName","AWS.EC2.Instance":"InstanceId","AWS.EC2.KeyPair":"KeyFingerprint","AWS.EC2.SecurityGroup":"GroupId","AWS.EC2.EIP":"PublicIp","AWS.EC2.AMI":"ImageId","AWS.EC2.EBS.Volume":"VolumeId","AWS.ELB":"LoadBalancerName","AWS.VPC.VPC":"VpcId","AWS.VPC.Subnet":"SubnetId","AWS.VPC.InternetGateway":"InternetGatewayId","AWS.VPC.RouteTable":"RouteTableId","AWS.VPC.VPNGateway":"VpnGatewayId","AWS.VPC.CustomerGateway":"CustomerGatewayId","AWS.VPC.NetworkInterface":"NetworkInterfaceId","AWS.VPC.DhcpOptions":"DhcpOptionsId","AWS.VPC.VPNConnection":"VpnConnectionId","AWS.VPC.NetworkAcl":"NetworkAclId","AWS.IAM.ServerCertificate":"","AWS.AutoScaling.Group":"AutoScalingGroupARN","AWS.AutoScaling.LaunchConfiguration":"LaunchConfigurationARN","AWS.AutoScaling.NotificationConfiguration":"","AWS.AutoScaling.ScalingPolicy":"PolicyARN","AWS.AutoScaling.ScheduledActions":"ScheduledActionARN","AWS.CloudWatch.CloudWatch":"AlarmArn","AWS.SNS.Subscription":"","AWS.SNS.Topic":""},u={AWS_EC2_AvailabilityZone:"AWS.EC2.AvailabilityZone",AWS_EC2_Instance:"AWS.EC2.Instance",AWS_EC2_KeyPair:"AWS.EC2.KeyPair",AWS_EC2_SecurityGroup:"AWS.EC2.SecurityGroup",AWS_EC2_EIP:"AWS.EC2.EIP",AWS_EC2_AMI:"AWS.EC2.AMI",AWS_EBS_Volume:"AWS.EC2.EBS.Volume",AWS_EBS_Snapshot:"AWS.EC2.EBS.Snapshot",AWS_ELB:"AWS.ELB",AWS_VPC_VPC:"AWS.VPC.VPC",AWS_VPC_Subnet:"AWS.VPC.Subnet",AWS_VPC_InternetGateway:"AWS.VPC.InternetGateway",AWS_VPC_RouteTable:"AWS.VPC.RouteTable",AWS_VPC_VPNGateway:"AWS.VPC.VPNGateway",AWS_VPC_CustomerGateway:"AWS.VPC.CustomerGateway",AWS_VPC_NetworkInterface:"AWS.VPC.NetworkInterface",AWS_VPC_DhcpOptions:"AWS.VPC.DhcpOptions",AWS_VPC_VPNConnection:"AWS.VPC.VPNConnection",AWS_VPC_NetworkAcl:"AWS.VPC.NetworkAcl",AWS_IAM_ServerCertificate:"AWS.IAM.ServerCertificate",AWS_AutoScaling_Group:"AWS.AutoScaling.Group",AWS_AutoScaling_LaunchConfiguration:"AWS.AutoScaling.LaunchConfiguration",AWS_AutoScaling_NotificationConfiguration:"AWS.AutoScaling.NotificationConfiguration",AWS_AutoScaling_ScalingPolicy:"AWS.AutoScaling.ScalingPolicy",AWS_AutoScaling_ScheduledActions:"AWS.AutoScaling.ScheduledActions",AWS_CloudWatch_CloudWatch:"AWS.CloudWatch.CloudWatch",AWS_SNS_Subscription:"AWS.SNS.Subscription",AWS_SNS_Topic:"AWS.SNS.Topic"},x={AZ:"AWS.EC2.AvailabilityZone",INSTANCE:"AWS.EC2.Instance",KP:"AWS.EC2.KeyPair",SG:"AWS.EC2.SecurityGroup",EIP:"AWS.EC2.EIP",AMI:"AWS.EC2.AMI",VOL:"AWS.EC2.EBS.Volume",SNAP:"AWS.EC2.EBS.Snapshot",ELB:"AWS.ELB",VPC:"AWS.VPC.VPC",SUBNET:"AWS.VPC.Subnet",IGW:"AWS.VPC.InternetGateway",RT:"AWS.VPC.RouteTable",VGW:"AWS.VPC.VPNGateway",CGW:"AWS.VPC.CustomerGateway",ENI:"AWS.VPC.NetworkInterface",DHCP:"AWS.VPC.DhcpOptions",VPN:"AWS.VPC.VPNConnection",ACL:"AWS.VPC.NetworkAcl",IAM:"AWS.IAM.ServerCertificate",ASG:"AWS.AutoScaling.Group",LC:"AWS.AutoScaling.LaunchConfiguration",NC:"AWS.AutoScaling.NotificationConfiguration",SP:"AWS.AutoScaling.ScalingPolicy",SA:"AWS.AutoScaling.ScheduledActions",CW:"AWS.CloudWatch.CloudWatch",SUBSCRIPTION:"AWS.SNS.Subscription",TOPIC:"AWS.SNS.Topic"},o={AWS_EC2_AvailabilityZone:"az",AWS_EC2_Instance:"instance",AWS_EC2_KeyPair:"kp",AWS_EC2_SecurityGroup:"sg",AWS_EC2_EIP:"eip",AWS_EC2_AMI:"ami",AWS_EBS_Volume:"vol",AWS_EBS_Snapshot:"snap",AWS_ELB:"elb",AWS_VPC_VPC:"vpc",AWS_VPC_Subnet:"subnet",AWS_VPC_InternetGateway:"igw",AWS_VPC_RouteTable:"rtb",AWS_VPC_VPNGateway:"vgw",AWS_VPC_CustomerGateway:"cgw",AWS_VPC_NetworkInterface:"eni",AWS_VPC_DhcpOptions:"dhcp",AWS_VPC_VPNConnection:"vpn",AWS_VPC_NetworkAcl:"acl",AWS_IAM_ServerCertificate:"iam",AWS_AutoScaling_Group:"asg",AWS_AutoScaling_LaunchConfiguration:"asl_lc",AWS_AutoScaling_NotificationConfiguration:"asl_nc",AWS_AutoScaling_ScalingPolicy:"asl_sp",AWS_AutoScaling_ScheduledActions:"asl_sa",AWS_CloudWatch_CloudWatch:"clw",AWS_SNS_Subscription:"sns_sub",AWS_SNS_Topic:"sns_top"},r={INSTANCE_SG:"instance_sg",INSTANCE_ATTACH:"instance_attach",ELB_SG_IN:"elb_sg_in",ELB_SG_OUT:"elb_sg_out",ELB_ATTACH:"elb_attach",SUBNET_ATTACH:"subnet_attach",SUBNET_ACL:"subnet_acl",RTB_SRC:"rtb_src",RTB_TGT_LEFT:"rtb_tgt_left",RTB_TGT_RIGHT:"rtb_tgt_right",IGW_TGT:"igw_tgt",VGW_TGT:"vgw_tgt",VGW_VPN:"vgw_vpn",CGW_VPN:"cgw_vpn",ENI_ATTACH:"eni_attach",ENI_SG:"eni_sg"},d={WINDOWS:"windows",AMAZON:"amazon",REDHAT:"redhat",CENTOS:"centos",FEDORA:"fedora",DEBIAN:"debian",UBUNTU:"ubuntu",GENTOO:"gentoo",SUSE:"suse",OPENSUSE:"opensuse",LINUX_OTHER:"linux-other"},l={"t1.micro":["T1 Micro","ECU Up to 2","Core 1","Memory 613MB"],"m1.small":["M1 Small","ECU 1","Core 1","Memory 1.7GB"],"m1.medium":["M1 Medium","ECU 2","Core 1","Memory 3.7GB"],"m1.large":["M1 Large","ECU 4","Core 2","Memory 7.5GB"],"m1.xlarge":["M1 Extra Large","ECU 8","Core 4","Memory 15GB"],"m3.xlarge":["M3 Extra Large","ECU 13","Core 4","Memory 15GB"],"m3.2xlarge":["M3 Double Extra Large","ECU 26","Core 8","Memory 30GB"],"m2.xlarge":["M2 High-Memory Extra Large","ECU 6.5","Core 2","Memory 17.1GB"],"m2.2xlarge":["M2 High-Memory Double Extra Large","ECU 13","Core 4","Memory 34.2GB"],"m2.4xlarge":["M2 High-Memory Quadruple Extra Large","ECU 26","Core 8","Memory 68.4GB"],"c1.medium":["C1 High-CPU Medium","ECU 5","Core 2","Memory 1.7GB"],"c1.xlarge":["C1 High-CPU Extra Large","ECU 20","Core 8","Memory 7GB"],"hi1.4xlarge":["High I/O Quadruple Extra Large","ECU 35","Core 16","Memory 60.5GB"],"hs1.8xlarge":["High Storage Eight Extra Large","ECU 35","Core 16","Memory 117GB"]},f={pending:0,running:16,shuttingdown:32,terminated:48,stopping:64,stopped:80},h={MESSAGE_E_SESSION:"This session has expired, please log in again",MESSAGE_E_EXTERNAL:"Sorry, there seems to be a problem with AWS",MESSAGE_E_ERROR:"Sorry, we're experiencing techincal difficulty",MESSAGE_E_UNKNOWN:"Something is wrong. Please contact support@visualops.io",MESSAGE_E_PARAM:"Parameter error!"},w=["us-east-1","us-west-1","us-west-2","eu-west-1","ap-southeast-1","ap-southeast-2","ap-northeast-1","sa-east-1"],S={},E={},S["us-east-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_us-east-1"],E["us-east-1"]=t.ide["IDE_LBL_REGION_NAME_us-east-1"],S["us-west-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_us-west-1"],E["us-west-1"]=t.ide["IDE_LBL_REGION_NAME_us-west-1"],S["us-west-2"]=t.ide["IDE_LBL_REGION_NAME_SHORT_us-west-2"],E["us-west-2"]=t.ide["IDE_LBL_REGION_NAME_us-west-2"],S["eu-west-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_eu-west-1"],E["eu-west-1"]=t.ide["IDE_LBL_REGION_NAME_eu-west-1"],S["ap-southeast-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_ap-southeast-1"],E["ap-southeast-1"]=t.ide["IDE_LBL_REGION_NAME_ap-southeast-1"],S["ap-southeast-2"]=t.ide["IDE_LBL_REGION_NAME_SHORT_ap-southeast-2"],E["ap-southeast-2"]=t.ide["IDE_LBL_REGION_NAME_ap-southeast-2"],S["ap-northeast-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_ap-northeast-1"],E["ap-northeast-1"]=t.ide["IDE_LBL_REGION_NAME_ap-northeast-1"],S["sa-east-1"]=t.ide["IDE_LBL_REGION_NAME_SHORT_sa-east-1"],E["sa-east-1"]=t.ide["IDE_LBL_REGION_NAME_sa-east-1"],T={E_OK:0,E_NONE:1,E_INVALID:2,E_FULL:3,E_EXIST:4,E_EXTERNAL:5,E_FAILED:6,E_BUSY:7,E_NORSC:8,E_NOPERM:9,E_NOSTOP:10,E_NOSTART:11,E_ERROR:12,E_LEFTOVER:13,E_TIMEOUT:14,E_UNKNOWN:15,E_CONN:16,E_EXPIRED:17,E_PARAM:18,E_SESSION:19,E_END:20,E_BLOCKED_USER:21},n={APP_STATE_RUNNING:"Running",APP_STATE_STOPPED:"Stopped",APP_STATE_REBOOTING:"Rebooting",APP_STATE_CLONING:"Cloning",APP_STATE_SAVETOSTACK:"Saving",APP_STATE_TERMINATING:"Terminating",APP_STATE_UPDATING:"Updating",APP_STATE_SHUTTING_DOWN:"Shutting down",APP_STATE_STOPPING:"Stopping",APP_STATE_STARTING:"Starting",APP_STATE_TERMINATED:"Terminated",APP_STATE_INITIALIZING:"Initializing"},N=[],N["us-east-1"]=["cloudfront","cloudsearch-us-east-1","cloudwatch-us-east-1","dynamodb-us-east-1","ec2-us-east-1","elb-us-east-1","emr-us-east-1","elastictranscoder-us-east-1","elasticache-us-east-1","fps","glacier-us-east-1","mturk-requestor","mturk-worker","redshift-us-east-1","rds-us-east-1","route53","ses-us-east-1","sns-us-east-1","sqs-us-east-1","s3-us-standard","swf-us-east-1","simpledb-us-east-1","vpc-us-east-1","cloudformation-us-east-1","cloudhsm-us-east-1","datapipeline-us-east-1","directconnect-us-east-1","elasticbeanstalk-us-east-1","import-export","management-console","opsworks-us-east-1","storagegateway-us-east-1"],N["us-west-1"]=["cloudfront","cloudsearch-us-west-1","cloudwatch-us-west-1","dynamodb-us-west-1","ec2-us-west-1","elb-us-west-1","emr-us-west-1","elastictranscoder-us-west-1","elasticache-us-west-1","fps","glacier-us-west-1","mturk-requestor","mturk-worker","rds-us-west-1","route53","sns-us-west-1","sqs-us-west-1","s3-us-west-1","s3-us-standard","swf-us-west-1","simpledb-us-west-1","vpc-us-west-1","cloudformation-us-west-1","directconnect-us-west-1","elasticbeanstalk-us-west-1","import-export","management-console","storagegateway-us-west-1"],N["us-west-2"]=["cloudfront","cloudsearch-us-west-2","cloudwatch-us-west-2","dynamodb-us-west-2","ec2-us-west-2","elb-us-west-2","emr-us-west-2","elastictranscoder-us-west-2","elasticache-us-west-2","fps","glacier-us-west-2","mturk-requestor","mturk-worker","redshift-us-west-2","rds-us-west-2","route53","sns-us-west-2","sqs-us-west-2","s3-us-west-2","s3-us-standard","swf-us-west-2","simpledb-us-west-2","vpc-us-west-2","cloudformation-us-west-2","directconnect-us-east-1","elasticbeanstalk-us-west-2","import-export","management-console","storagegateway-us-west-2"],N["sa-east-1"]=["cloudfront","cloudwatch-sa-east-1","dynamodb-sa-east-1","ec2-sa-east-1","elb-sa-east-1","emr-sa-east-1","elasticache-sa-east-1","rds-sa-east-1","route53","sns-sa-east-1","sqs-sa-east-1","s3-sa-east-1","swf-sa-east-1","simpledb-sa-east-1","vpc-sa-east-1","cloudformation-sa-east-1","directconnect-sa-east-1","elasticbeanstalk-sa-east-1","management-console","storagegateway-sa-east-1"],N["eu-west-1"]=["cloudfront","cloudsearch-eu-west-1","cloudwatch-eu-west-1","dynamodb-eu-west-1","ec2-eu-west-1","elb-eu-west-1","emr-eu-west-1","elastictranscoder-eu-west-1","elasticache-eu-west-1","glacier-eu-west-1","mturk-worker","redshift-eu-west-1","rds-eu-west-1","route53","sns-eu-west-1","sqs-eu-west-1","s3-eu-west-1","swf-eu-west-1","simpledb-eu-west-1","vpc-eu-west-1","cloudformation-eu-west-1","cloudhsm-eu-west-1","directconnect-eu-west-1","elasticbeanstalk-eu-west-1","import-export","management-console","storagegateway-eu-west-1"],N["ap-southeast-1"]=["cloudfront","cloudsearch-ap-southeast-1","cloudwatch-ap-southeast-1","dynamodb-ap-southeast-1","ec2-ap-southeast-1","elb-ap-southeast-1","emr-ap-southeast-1","elastictranscoder-ap-southeast-1","elasticache-ap-southeast-1","mturk-worker","rds-ap-southeast-1","route53","sns-ap-southeast-1","sqs-ap-southeast-1","s3-ap-southeast-1","swf-ap-southeast-1","simpledb-ap-southeast-1","vpc-ap-southeast-1","cloudformation-ap-southeast-1","directconnect-ap-southeast-1","elasticbeanstalk-ap-southeast-1","import-export","management-console","storagegateway-ap-southeast-1"],N["ap-southeast-2"]=["cloudfront","cloudwatch-ap-southeast-2","dynamodb-ap-southeast-2","ec2-ap-southeast-2","elb-ap-southeast-2","emr-ap-southeast-2","mturk-worker","rds-ap-southeast-2","route53","sns-ap-southeast-2","sqs-ap-southeast-2","s3-ap-southeast-2","swf-ap-southeast-2","simpledb-ap-southeast-2","vpc-ap-southeast-2","cloudformation-ap-southeast-2","directconnect-ap-southeast-2","elasticbeanstalk-ap-southeast-2","import-export","management-console","storagegateway-ap-southeast-2"],N["ap-northeast-1"]=["cloudfront","cloudwatch-ap-northeast-1","dynamodb-ap-northeast-1","ec2-ap-northeast-1","elb-ap-northeast-1","emr-ap-northeast-1","elastictranscoder-ap-northeast-1","elasticache-ap-northeast-1","glacier-ap-northeast-1","mturk-worker","redshift-ap-northeast-1","rds-ap-northeast-1","route53","sns-ap-northeast-1","sqs-ap-northeast-1","s3-ap-northeast-1","swf-ap-northeast-1","simpledb-ap-northeast-1","vpc-ap-northeast-1","cloudformation-ap-northeast-1","directconnect-ap-northeast-1","elasticbeanstalk-ap-northeast-1","import-export","management-console","storagegateway-ap-northeast-1"],p={OPS_STATE_PENDING:"Pending",OPS_STATE_INPROCESS:"InProcess",OPS_STATE_DONE:"Done",OPS_STATE_ROLLBACK:"Rollback",OPS_STATE_FAILED:"Failed"},i={AZ:"AWS.EC2.AvailabilityZone",AMI:"AWS.EC2.AMI",VOLUME:"AWS.EC2.EBS.Volume",SNAPSHOT:"AWS.EC2.EBS.Snapshot",EIP:"AWS.EC2.EIP",INSTANCE:"AWS.EC2.Instance",KP:"AWS.EC2.KeyPair",SG:"AWS.EC2.SecurityGroup",ELB:"AWS.ELB",ACL:"AWS.VPC.NetworkAcl",CGW:"AWS.VPC.CustomerGateway",DHCP:"AWS.VPC.DhcpOptions",ENI:"AWS.VPC.NetworkInterface",IGW:"AWS.VPC.InternetGateway",RT:"AWS.VPC.RouteTable",SUBNET:"AWS.VPC.Subnet",VPC:"AWS.VPC.VPC",VPN:"AWS.VPC.VPNConnection",VGW:"AWS.VPC.VPNGateway",ASG:"AWS.AutoScaling.Group",ASL_ACT:"AWS.AutoScaling.Activities",ASL_INS:"AWS.AutoScaling.Instance",ASL_LC:"AWS.AutoScaling.LaunchConfiguration",ASL_NC:"AWS.AutoScaling.NotificationConfiguration",ASL_SP:"AWS.AutoScaling.ScalingPolicy",ASL_SA:"AWS.AutoScaling.ScheduledActions",CLW:"AWS.CloudWatch.CloudWatch",SNS_SUB:"AWS.SNS.Subscription",SNS_TOPIC:"AWS.SNS.Topic"},y=5,g=30,m="\n screen mode id:i:2\n use multimon:i:0\n desktopwidth:i:1024\n desktopheight:i:768\n session bpp:i:32\n winposstr:s:0,3,0,0,1024,768\n compression:i:1\n keyboardhook:i:2\n audiocapturemode:i:0\n videoplaybackmode:i:1\n connection type:i:2\n displayconnectionbar:i:1\n disable wallpaper:i:1\n allow font smoothing:i:0\n allow desktop composition:i:0\n disable full window drag:i:1\n disable menu anims:i:1\n disable themes:i:0\n disable cursor setting:i:0\n bitmapcachepersistenable:i:1\n full address:s:%s\n audiomode:i:0\n redirectprinters:i:1\n redirectcomports:i:0\n redirectsmartcards:i:1\n redirectclipboard:i:1\n redirectposdevices:i:0\n redirectdirectx:i:1\n autoreconnection enabled:i:1\n authentication level:i:2\n prompt for credentials:i:0\n negotiate security layer:i:1\n remoteapplicationmode:i:0\n alternate shell:s:\n shell working directory:s:\n gatewayhostname:s:\n gatewayusagemethod:i:4\n gatewaycredentialssource:i:4\n gatewayprofileusagemethod:i:0\n promptcredentialonce:i:1\n use redirection server name:i:0\n",a=["vpc-with-private-subnet-and-vpn","vpc-with-public-and-private-subnets-and-vpn","vpc-with-public-subnet-only","vpc-with-public-and-private-subnets"],C={ERROR:"ERROR",WARNING:"WARNING",NOTICE:"NOTICE"},c=["centos","redhat","rhel","ubuntu","debian","fedora","gentoo","opensuse","suse","sles","amazon","amaz","linux-other"],k=["windows","win"],v={"linux-other":"linux",redhat:"rhel",suse:"sles",windows:"mswin"},b={stateEditorReference:/@\{([A-Z0-9]{8}-([A-Z0-9]{4}-){3}[A-Z0-9]{12})\.\w+\}/g,stateEditorOriginReference:/@\{(([\w-]+)\.(([\w-]+(\[\d+\])?)|state.[\w-]+))\}/g,uid:/[A-Z0-9]{8}-([A-Z0-9]{4}-){3}[A-Z0-9]{12}/g},{AWS_RESOURCE_KEY:s,INSTANCE_TYPE:l,INSTANCE_STATES:f,AWS_RESOURCE_TYPE:u,AWS_RESOURCE_SHORT_TYPE:o,AWS_PORT_NAME:r,OS_TYPE:d,REGION_KEYS:w,REGION_SHORT_LABEL:S,REGION_LABEL:E,RETURN_CODE:T,LINUX:c,WINDOWS:k,MESSAGE_E:h,APP_STATE:n,OPS_STATE:p,RECENT_NUM:y,RECENT_DAYS:g,AWS_RESOURCE:i,SERVICE_REGION:N,RDP_TMPL:m,DEMO_STACK_NAME_LIST:a,TA:C,OS_TYPE_MAPPING:v,REGEXP:b,RESTYPE:x}})}.call(this),define("MC.canvas",["MC","canvon"],function(e){e.canvas={getState:function(){var e="",t=Tabbar.current;if(t==="new"||t==="stack")e="stack";else if(t==="app"||t==="appedit"||t==="appview")e=t;return e},display:function(e,t,n){var r=$("#"+e+"_"+t);if(n===null||n===undefined){switch(r.attr("display")){case"none":n=!1;break;default:n=!0}return n}n===!0?(r.attr("display","inline"),r.attr("style",""),Canvon(r).addClass("tooltip")):(r.attr("display","none"),r.attr("style","opacity:0"),Canvon(r).removeClass("tooltip"))},canvasName:function(e){return e.length>17?e.substring(0,14)+"...":e},update:function(t,n,r,i){var s=$("#"+t+"_"+r),i;switch(n){case"text":r.indexOf("name")!==-1&&(i=e.canvas.canvasName(i)),s.length===0&&(s=$("#"+t).find("."+r)),s.text(i);break;case"image":s[0].setAttributeNS("http://www.w3.org/1999/xlink","href",i);break;case"eip":s.attr("data-eip-state",i);break;case"id":s.attr("id",i);break;case"color":s.attr("style","fill:"+i);break;case"tooltip":Canvon("#"+t+"_"+r).addClass("tooltip").data("tooltip",i).attr("data-tooltip",i)}return!0},resize:function(t,n){var r=$canvas.size(),i=$canvas.scale(),s=t==="width"?0:1,o=[],u=[],a=[],f=[],l,c,h,p,d,v;return n==="expand"&&(r[s]+=60,$("#svg_resizer_"+t+"_shrink").show()),n==="shrink"&&($.each($canvas.node(),function(e,t){l=t.position(),c=t.size(),a.push(l[0]+c[0]),f.push(l[1]+c[1])}),$.each($canvas.group(),function(e,t){l=t.position(),c=t.size(),a.push(l[0]+c[0]),f.push(l[1]+c[1])}),d=Math.max.apply(Math,a),v=Math.max.apply(Math,f),p=t==="width"?d:v,r[s]-60<=p?(r[s]=20+p,$("#svg_resizer_"+t+"_shrink").hide()):(r[s]-=60,r[s]===20+p&&$("#svg_resizer_"+t+"_shrink").hide())),$("#svg_canvas")[0].setAttribute("viewBox","0 0 "+e.canvas.GRID_WIDTH*r[0]+" "+e.canvas.GRID_HEIGHT*r[1]),$("#svg_canvas").attr({width:r[0]*e.canvas.GRID_WIDTH/i,height:r[1]*e.canvas.GRID_HEIGHT/i}),$("#canvas_container, #canvas_body").css({width:r[0]*e.canvas.GRID_WIDTH/i,height:r[1]*e.canvas.GRID_HEIGHT/i}),$canvas.size(r[0],r[1]),!0},zoomIn:function(){var t=$canvas.size(),n=$("#canvas_body"),r="",i=$canvas.scale();return i>1&&($canvas.scale((i*10-2)/10),i=$canvas.scale(),$("#svg_canvas")[0].setAttribute("viewBox","0 0 "+e.canvas.GRID_WIDTH*t[0]+" "+e.canvas.GRID_HEIGHT*t[1]),r=n.attr("class").replace(/zoomlevel_[^\s]+\s?/g,"")+"zoomlevel_"+(""+i).replace(".","_"),n.attr("class",r),$("#canvas_container, #canvas_body").css({width:t[0]*e.canvas.GRID_WIDTH/i,height:t[1]*e.canvas.GRID_HEIGHT/i}),$("#svg_canvas").attr({width:t[0]*e.canvas.GRID_WIDTH/i,height:t[1]*e.canvas.GRID_HEIGHT/i})),i===1&&$("#canvas_body").hasClass("canvas_zoomed")&&$("#canvas_body").removeClass("canvas_zoomed"),e.canvas.event.clearSelected(),!0},zoomOut:function(){var t=$canvas.size(),n=$("#canvas_body"),r="",i=$canvas.scale();return i<1.6&&($canvas.scale((i*10+2)/10),i=$canvas.scale(),$("#svg_canvas")[0].setAttribute("viewBox","0 0 "+e.canvas.GRID_WIDTH*t[0]+" "+e.canvas.GRID_HEIGHT*t[1]),r=$.trim(n.attr("class").replace(/zoomlevel_[^\s]+\s?/g,""))+" zoomlevel_"+(""+i).replace(".","_"),n.attr("class",r),$("#canvas_container, #canvas_body").css({width:t[0]*e.canvas.GRID_WIDTH/i,height:t[1]*e.canvas.GRID_HEIGHT/i}),$("#svg_canvas").attr({width:t[0]*e.canvas.GRID_WIDTH/i,height:t[1]*e.canvas.GRID_HEIGHT/i})),$("#canvas_body").addClass("canvas_zoomed"),e.canvas.event.clearSelected(),!0},_addPad:function(t,n){switch(t.angle){case 0:t.x+=e.canvas.PORT_PADDING,t.y-=n;break;case 90:t.x-=n,t.y-=e.canvas.PORT_PADDING;break;case 180:t.x-=e.canvas.PORT_PADDING,t.y-=n;break;case 270:t.x-=n,t.y+=e.canvas.PORT_PADDING}},_getPath:function(t,n,r){var i=0,s=0,o=e.canvas.CORNER_RADIUS,u=2*e.canvas.CORNER_RADIUS,a,f;return t.x===n.x?(s=n.y-t.y,Math.abs(s)<=u?a={x:n.x,y:(t.y+n.y)/2}:(i=s?s<0?-1:1:0,a={x:n.x,y:n.y-o*i}),s=n.x-r.x,Math.abs(s)<=u?f={x:(n.x+r.x)/2,y:n.y}:(i=s?s<0?-1:1:0,f={x:n.x-o*i,y:n.y})):(s=n.x-t.x,Math.abs(s)<=u?a={x:(t.x+n.x)/2,y:n.y}:(i=s?s<0?-1:1:0,a={x:n.x-o*i,y:n.y}),s=n.y-r.y,Math.abs(s)<=u?f={x:n.x,y:(n.y+r.y)/2}:(i=s?s<0?-1:1:0,f={x:n.x,y:n.y-o*i}))," L "+a.x+" "+a.y+" Q "+n.x+" "+n.y+" "+f.x+" "+f.y},_bezier_q_corner:function(e){var t="";if(e.length>=6){var n=e[0],r=e[1],i=e[e.length-2],s=e[e.length-1],o,u,a;o={x:(r.x+i.x)/2,y:(r.y+i.y)/2},u=e[2],a=e[e.length-3],t="M "+n.x+" "+n.y+" Q "+a.x+" "+a.y+" "+i.x+" "+i.y+" L "+s.x+" "+s.y}else $.each(e,function(n,r){if(n===0)t="M "+r.x+" "+r.y;else if(n===e.length-1)t+=" "+r.x+" "+r.y;else{prev_p=e[n-1],next_p=e[n+1];if(!(prev_p.x===r.x&&next_p.x===r.x||prev_p.y===r.y&&next_p.y===r.y)){var i=e[e.length-3],s=e[e.length-2],o=e[e.length-1];return t+=" Q "+i.x+" "+i.y+" "+s.x+" "+s.y+" L "+o.x+" "+o.y,!1}t+=" L "+r.x+" "+r.y}last_p=r});return t},_bezier_qt_corner:function(t){var n="";if(t.length>=4){var r=t[0],i=t[1],s=t[t.length-2],o=t[t.length-1],u,a,f;u={x:(i.x+s.x)/2,y:(i.y+s.y)/2},a=t[2],f=t[t.length-3],n="M "+r.x+" "+r.y+" L "+i.x+" "+i.y+" C "+a.x+" "+a.y+" "+f.x+" "+f.y+" "+s.x+" "+s.y+" L "+o.x+" "+o.y}else $.each(t,function(r,i){r===0?n="M "+i.x+" "+i.y:r===t.length-1?n+=" L "+i.x+" "+i.y:(prev_p=t[r-1],next_p=t[r+1],prev_p.x===i.x&&next_p.x===i.x||prev_p.y===i.y&&next_p.y===i.y?n+=" L "+i.x+" "+i.y:n+=e.canvas._getPath(prev_p,i,next_p)),last_p=i});return n},_round_corner:function(t){var n="",r={},i={},s={};return $.each(t,function(o,u){o===0?n="M "+u.x+" "+u.y:o===t.length-1?n+=" L "+u.x+" "+u.y:(i=t[o-1],s=t[o+1],i.x===u.x&&s.x===u.x||i.y===u.y&&s.y===u.y?n+=" L "+u.x+" "+u.y:n+=e.canvas._getPath(i,u,s)),r=u}),n},_adjustMidY:function(e,t,n,r){switch(e){case"rtb-src-top":case"rtb-src-bottom":t=n.y;break;case"rtb-tgt":case"elb-assoc":case"elb-sg-in":case"elb-sg-out":t=n.y+40*r}return t},_adjustMidX:function(e,t,n,r){switch(e){case"rtb-tgt-left":case"rtb-tgt-right":case"elb-assoc":case"elb-sg-in":case"elb-sg-out":n.angle===0?t=n.x+4:n.angle===180&&(t=n.x-4);break;case"rtb-src":t=n.x+40*r}return t},route:function(t,n,r,i,s,o,u){var a={},f={},l,c,h=!1,p=!1,d=!1,v=!1,m=!1,g=!1,y=!1,b=!1;$.extend(!0,a,n),$.extend(!0,f,r),Math.sqrt(Math.pow(r.y-n.y,2)+Math.pow(r.x-n.x,2))>e.canvas.PORT_PADDING*2&&(e.canvas._addPad(a,0),e.canvas._addPad(f,0)),e.canvas._addPad(a,0),e.canvas._addPad(f,0);if(a.y<f.y){var w={};$.extend(!0,w,a),$.extend(!0,a,f),f=w;var E={};$.extend(!0,E,n),$.extend(!0,n,r),r=E;var S=i;i=s,s=S;var x=o;o=u,u=x}a.x>=f.x?(h=a.connectionAngle===0||a.connectionAngle===90,p=f.connectionAngle===0||f.connectionAngle===90,d=a.connectionAngle===180||a.connectionAngle===270,v=f.connectionAngle===180||f.connectionAngle===270):(m=a.connectionAngle===0||a.connectionAngle===270,g=f.connectionAngle===0||f.connectionAngle===270,y=a.connectionAngle===90||a.connectionAngle===180,b=f.connectionAngle===90||f.connectionAngle===180),t.push({x:n.x,y:n.y}),t.push({x:a.x,y:a.y});if(h&&p||y&&b)t.push({x:a.x,y:f.y});else if(d&&v||m&&g)t.push({x:f.x,y:a.y});else if(h&&v||y&&g)c=(a.y+f.y)/2,s!=="AWS.VPC.RouteTable"&&s!=="AWS.ELB"||s===i?(i==="AWS.VPC.RouteTable"||s==="AWS.ELB")&&s!==i&&Math.abs(a.y-c)>5&&(c=e.canvas._adjustMidY(o,c,a,-1)):Math.abs(c-f.y)>5&&(c=e.canvas._adjustMidY(u,c,f,1)),t.push({x:a.x,y:c}),t.push({x:f.x,y:c});else if(d&&p||m&&b)l=(a.x+f.x)/2,s!=="AWS.VPC.RouteTable"&&s!=="AWS.ELB"||s===i?i==="AWS.VPC.RouteTable"&&s!==i?Math.abs(l-f.x)>5&&(s==="AWS.VPC.InternetGateway"||s==="AWS.VPC.VPNGateway"?l=e.canvas._adjustMidX(o,l,f,-1):l=e.canvas._adjustMidX(o,l,a,-1)):i==="AWS.ELB"&&s!==i&&Math.abs(l-f.x)>5&&(s==="AWS.EC2.Instance"||s==="AWS.VPC.Subnet"||s==="AWS.AutoScaling.Group"||s==="AWS.AutoScaling.LaunchConfiguration"?l=e.canvas._adjustMidX(o,l,f,-1):l=e.canvas._adjustMidX(o,l,a,-1)):Math.abs(a.x-l)>5&&(l=e.canvas._adjustMidX(u,l,a,1)),t.push({x:l,y:a.y}),t.push({x:l,y:f.y});return t.push({x:f.x,y:f.y}),t.push({x:r.x,y:r.y}),t},updateResizer:function(t,n,r){var i=10,s=0;n*=e.canvas.GRID_WIDTH,r*=e.canvas.GRID_HEIGHT,$(t).find(".resizer-wrap").empty().append(Canvon.rectangle(0,s,i,i).attr({"class":"group-resizer resizer-topleft","data-direction":"topleft"}),Canvon.rectangle(i,s,n-2*i,i).attr({"class":"group-resizer resizer-top","data-direction":"top"}),Canvon.rectangle(n-i,s,i,i).attr({"class":"group-resizer resizer-topright","data-direction":"topright"}),Canvon.rectangle(0,s+i,i,r-2*i).attr({"class":"group-resizer resizer-left","data-direction":"left"}),Canvon.rectangle(n-i,s+i,i,r-2*i).attr({"class":"group-resizer resizer-right","data-direction":"right"}),Canvon.rectangle(0,r+s-i,i,i).attr({"class":"group-resizer resizer-bottomleft","data-direction":"bottomleft"}),Canvon.rectangle(i,r+s-i,n-2*i,i).attr({"class":"group-resizer resizer-bottom","data-direction":"bottom"}),Canvon.rectangle(n-i,r+s-i,i,i).attr({"class":"group-resizer resizer-bottomright","data-direction":"bottomright"}))},route2:function(t,n){var r=[],i={},s={},o=!1,u=!1,a=!1,f=!1,l=!1,c=!1,h=!1,p=!1;$.extend(!0,i,t),$.extend(!0,s,n),Math.sqrt(Math.pow(s.y-i.y,2)+Math.pow(s.x-i.x,2))>e.canvas.PORT_PADDING*2&&(e.canvas._addPad(t,0),e.canvas._addPad(n,0)),e.canvas._addPad(t,0),e.canvas._addPad(n,0);if(t.y<n.y){var d=t;t=n,n=d;var v=i;i=s,s=v}t.x>=n.x?(o=t.angle===0||t.angle===90,u=n.angle===0||n.angle===90,a=t.angle===180||t.angle===270,f=n.angle===180||n.angle===270):(l=t.angle===0||t.angle===270,c=n.angle===0||n.angle===270,h=t.angle===90||t.angle===180,p=n.angle===90||n.angle===180),r.push(i),r.push(t);if(o&&u||h&&p)r.push({x:t.x,y:n.y});else if(a&&f||l&&c)r.push({x:n.x,y:t.y});else if(o&&f||h&&c)mid_y=Math.round((t.y+n.y)/2),n.type!=="AWS.VPC.RouteTable"&&n.type!=="AWS.ELB"||n.type===t.type?(t.type==="AWS.VPC.RouteTable"||n.type==="AWS.ELB")&&n.type!==t.type&&Math.abs(t.y-mid_y)>5&&(mid_y=e.canvas._adjustMidY(t.name,mid_y,t,-1)):Math.abs(mid_y-n.y)>5&&(mid_y=e.canvas._adjustMidY(n.name,mid_y,n,1)),r.push({x:t.x,y:mid_y}),r.push({x:n.x,y:mid_y});else if(a&&u||l&&p)mid_x=Math.round((t.x+n.x)/2),n.type!=="AWS.VPC.RouteTable"&&n.type!=="AWS.ELB"||n.type===t.type?t.type==="AWS.VPC.RouteTable"&&n.type!==t.type?Math.abs(mid_x-n.x)>5&&(n.type==="AWS.VPC.InternetGateway"||n.type==="AWS.VPC.VPNGateway"?mid_x=e.canvas._adjustMidX(t.name,mid_x,n,-1):mid_x=e.canvas._adjustMidX(t.name,mid_x,t,-1)):t.type==="AWS.ELB"&&n.type!==t.type&&Math.abs(mid_x-n.x)>5&&(n.type==="AWS.EC2.Instance"||n.type==="AWS.VPC.Subnet"||n.type==="AWS.AutoScaling.Group"||n.type==="AWS.AutoScaling.LaunchConfiguration"?mid_x=e.canvas._adjustMidX(t.name,mid_x,n,-1):mid_x=e.canvas._adjustMidX(t.name,mid_x,t,-1)):Math.abs(t.x-mid_x)>5&&(mid_x=e.canvas._adjustMidX(n.name,mid_x,t,1)),r.push({x:mid_x,y:t.y}),r.push({x:mid_x,y:n.y});return r.push(n),r.push(s),r},genPath:function(t,n,r,i,s,o,u){var a=0,f=0,l=[],c=Math.round((r.left-s.left+r.width/2)*o),h=Math.round((r.top-s.top+r.height/2)*o),p=Math.round((i.left-s.left+i.width/2)*o),d=Math.round((i.top-s.top+i.height/2)*o),v={x:c,y:h,connectionAngle:t.getAttribute("data-angle")*1};end0={x:p,y:d,connectionAngle:n.getAttribute("data-angle")*1},path,from_type==="AWS.VPC.RouteTable"&&from_target_port==="rtb-src"&&(a+=1),to_type==="AWS.VPC.RouteTable"&&to_target_port==="rtb-src"&&(f+=1),e.canvas._addPad(v,1),e.canvas._addPad(end0,1);if(v.x===end0.x||v.y===end0.y)path="M "+v.x+" "+v.y+" L "+end0.x+" "+end0.y;else{e.canvas.route(l,v,end0,from_type,to_type,from_target_port,to_target_port);if(l.length>0)if(u.type==="sg")switch(e.canvas_property.LINE_STYLE){case 0:path="M "+l[0].x+" "+l[0].y+" L "+l[1].x+" "+l[1].y+" L "+l[l.length-2].x+" "+l[l.length-2].y+" L "+l[l.length-1].x+" "+l[l.length-1].y;break;case 1:path=e.canvas._round_corner(l);break;case 2:path=e.canvas._bezier_q_corner(l);break;case 3:path=e.canvas._bezier_qt_corner(l)}else path=e.canvas._round_corner(l)}return path},connect:function(t,n,r,i,s){var o=$canvas.offset(),u=document.getElementById(t),a=document.getElementById(r),f=$canvas(t),l=$canvas(r),c=f.nodeType,h=l.nodeType,p=f.type,d=l.type,v=e.canvas.CONNECTION_OPTION[p][d],m=$canvas.scale(),g,y,b,w,E,S,x,T,N;return v?($.type(v)==="array"&&$.each(v,function(e,t){t.from===n&&t.to===i&&(v=t)}),v.direction?(g=v.direction,g.from&&g.to?(u[0].getBoundingClientRect().left>a[0].getBoundingClientRect().left?(y=document.getElementById(t+"_port-"+n+"-left"),b=document.getElementById(r+"_port-"+i+"-right")):(y=document.getElementById(t+"_port-"+n+"-right"),b=document.getElementById(r+"_port-"+i+"-left")),w=y.getBoundingClientRect(),E=b.getBoundingClientRect()):(g.from&&(b=document.getElementById(r+"_port-"+i),E=b.getBoundingClientRect(),g.from==="vertical"&&(S=E.top>u[0].getBoundingClientRect().top?"bottom":"top"),g.from==="horizontal"&&(S=E.left>u[0].getBoundingClientRect().left?"right":"left"),y=document.getElementById(t+"_port-"+n+"-"+S),w=y.getBoundingClientRect()),g.to&&(y=document.getElementById(t+"_port-"+n),w=y.getBoundingClientRect(),g.to==="vertical"&&(S=w.top>a[0].getBoundingClientRect().top?"bottom":"top"),g.to==="horizontal"&&(S=w.left>a[0].getBoundingClientRect().left?"right":"left"),b=document.getElementById(r+"_port-"+i+"-"+S),E=b.getBoundingClientRect()))):(y=document.getElementById(t+"_port-"+n),w=y.getBoundingClientRect(),b=document.getElementById(r+"_port-"+i),E=b.getBoundingClientRect()),T=e.canvas.genPath(y,b,w,E,o,m,v),N=document.getElementById(s),N!==null?$(N).children().attr("d",T):(e.paper.start(),e.paper.path(T),e.paper.path(T).attr("class","fill-line"),v.dash_line===!0&&e.paper.path(T).attr("class","dash-line"),N=e.paper.save(),document.getElementById("line_layer").appendChild(N),N.setAttributeNS("http://www.w3.org/1999/xlink","class","line line-"+v.type),N.setAttributeNS("http://www.w3.org/1999/xlink","data-type","line"),N.id=s,N=null),!0):!1},select:function(e){var t=$canvas(e),n=t.$element(),r=t.nodeType,i;return Canvon(n).addClass("selected"),r==="line"&&(clone=n.clone(),n.remove(),$("#line_layer").append(clone)),r==="node"&&(clone=n.clone(),n.remove(),$("#node_layer").append(clone),$.each(t.connection(),function(t,n){Canvon("#"+n.line+", #"+e+"_port-"+n.port).addClass("view-show")}),Canvon(clone.find(".port")).addClass("view-show")),$canvas.selected_node().length=0,$canvas.selected_node().push(e),!0},move:function(t,n,r){var i=$canvas(t.id),s=i.type,o=i.nodeType,u=[],a,f,l,c,h,p,d;o==="node"&&(i.position(n,r),i.reConnect());if(o==="group"){a=e.canvas.groupChild(t),f=i.position(),h=i.size(),l=n-f[0],c=r-f[1],i.position(n,r),i.reConnect(),$.each(a,function(e,t){p=$canvas(t.id),d=p.position(),p.position(d[0]+l,d[1]+c),(p.type==="AWS.VPC.Subnet"||p.type==="AWS.AutoScaling.Group"||p.nodeType==="node")&&$.each(p.connection(),function(e,t){u.push(t.line)})}),$.each(u,function(e,t){$canvas(t).reConnect()}),(s==="AWS.VPC.Subnet"||s==="AWS.AutoScaling.Group")&&i.reConnect();if(s==="AWS.VPC.VPC"){var v=n,m=r,g=h[0],y=h[1],b,w,E,S;b=$(".AWS-VPC-InternetGateway"),E=$(".AWS-VPC-VPNGateway"),b[0]&&(w=$canvas(b.attr("id")),w.position(v-4,w.position()[1]+c),w.reConnect()),E[0]&&(S=$canvas(E.attr("id")),S.position(v+g-4,S.position()[1]+c),S.reConnect())}}},position:function(e,t,n){t=t>0?t:0,n=n>0?n:0;var r=e.transform.baseVal,i;return r.numberOfItems===1?r.getItem(0).setTranslate(t*10,n*10):(i=e.ownerSVGElement.createSVGTransform(),i.setTranslate(t*10,n*10),r.appendItem(i)),!0},groupSize:function(e,t,n){var r=e.getElementsByClassName("group")[0];return r.width.baseVal.value=t*10,r.height.baseVal.value=n*10,r.x.baseVal.value=0,r.y.baseVal.value=0,!0},remove:function(e){return $(e).remove(),!0},pixelToGrid:function(t,n){var r=$canvas.scale();return{x:Math.ceil(t*r/e.canvas.GRID_WIDTH),y:Math.ceil(n*r/e.canvas.GRID_HEIGHT)}},matchPoint:function(t,n){var r=e.canvas.pixelToGrid(t,n),i,s,o;return $.each($canvas.node(),function(e,t){i=t.position(),o=t.size();if(i&&i[0]<=r.x&&i[0]+o[0]>=r.x&&i[1]<=r.y&&i[1]+o[1]>=r.y)return s=document.getElementById(t.id),!1}),s},isMatchPlace:function(t,n,r,i,s,o,u){var a=[document.getElementById("asg_layer").childNodes,document.getElementById("subnet_layer").childNodes,document.getElementById("az_layer").childNodes,document.getElementById("vpc_layer").childNodes],f=[{x:i,y:s},{x:i+o,y:s},{x:i,y:s+u},{x:i+o,y:s+u}],l=$canvas.size(),c=e.canvas.MATCH_PLACEMENT[$canvas.platform()][n],h=[],p=[],d={},v=!1,m,g,y,b,w,E,S=f.length,x,T;t!==null&&(h.push(t),r==="group"&&(b=e.canvas.groupChild(document.getElementById(t)),$.each(b,function(e,t){$canvas(t.id).nodeType==="group"&&h.push(t.id)})));while(S--){x=a.length;while(x--)if(a[x]){m={},T=a[x].length;while(T--)id=a[x][T].id,group_item=$canvas(id),w=group_item.position(),E=group_item.size(),$.inArray(id,h)===-1&&f[S].x>w[0]&&f[S].x<w[0]+E[0]&&f[S].y>w[1]&&f[S].y<w[1]+E[1]&&(m.is_matched=$.inArray(group_item.type,c)>-1,m.target=id,g=id);$.isEmptyObject(m)||(p[S]=m)}}return v=p[0]&&p[1]&&p[2]&&p[3]&&p[0].is_matched&&p[1].is_matched&&p[2].is_matched&&p[3].is_matched&&p[0].target===p[1].target&&p[0].target===p[2].target&&p[0].target===p[3].target&&i+o<l[0]-3&&s+u<l[1]-3,!v&&$.inArray("Canvas",c)>-1&&!p[0]&&!p[1]&&!p[2]&&!p[3]&&i+o<l[0]-3&&s+u<l[1]-3&&(v=!0,g="Canvas"),{is_matched:v,target:v?g:null}},isBlank:function(e,t,n,r,i,s,o){var u=!0,a,f,l,c;return n==="group"&&(a=r+s,f=i+o,$.each($canvas.group(),function(n,s){l=s.position(),c=s.size(),s.id!==e&&s.type===t&&l[0]<a&&l[0]+c[0]>r&&l[1]<f&&l[1]+c[1]>i&&(u=!1)})),u},parentGroup:function(t,n,r,i,s,o){var u=e.canvas.MATCH_PLACEMENT[$canvas.platform()][n],a=null,f,l,c,h=null;return $.each($canvas.group(),function(e,n){f=$canvas(n.id),l=f.position(),c=f.size();if(t!==n.id&&$.inArray(f.type,u)>-1&&l[0]<=r&&l[0]+c[0]>=r&&l[1]<=i&&l[1]+c[1]>=i){var s=document.getElementById(n.id);if(!a)a=s;else if(c[0]<h[0]||c[1]<h[1])a=s;h=c}}),a},areaChild:function(t,n,r,i,s,o){var u=e.canvas.GROUP_WEIGHT[n],a=[],f,l;return $.each($canvas.node(),function(e,n){f=n.position(),l=n.size(),t!==n.id&&n.type!=="AWS.VPC.InternetGateway"&&n.type!=="AWS.VPC.VPNGateway"&&(f[0]>r&&f[0]<s||f[0]+l[0]>r&&f[0]+l[0]<s)&&(f[1]>i&&f[1]<o||f[1]+l[1]>i&&f[1]+l[1]<o)&&a.push(document.getElementById(n.id))}),$.each($canvas.group(),function(e,c){f=c.position(),l=c.size(),t!==c.id&&($.inArray(c.type,u)>-1||c.type===n)&&r<=f[0]+l[0]&&s>=f[0]&&i<=f[1]+l[1]&&o>=f[1]&&a.push(document.getElementById(c.id))}),a},groupChild:function(t){var n=$canvas(t.id),r=n.position(),i=n.size();return e.canvas.areaChild(n.id,n.type,r[0],r[1],r[0]+i[0],r[1]+i[1])}},e.canvas.layout={init:function(){e.paper=Canvon("#svg_canvas");var t=$canvas.size(),n={width:t[0]*e.canvas.GRID_WIDTH,height:t[1]*e.canvas.GRID_HEIGHT};return $("#svg_canvas").attr(n),$("#canvas_container").css(n),!0}},e.canvas.volume={bubble:function(t,n,r){if(!$("#volume-bubble-box")[0]){var i=$("#"+t),s=$("#canvas_container"),o=$canvas.offset(),u=t.replace(/_[0-9]*$/ig,""),a,f,l,c,h,p;s.append('<div id="volume-bubble-box"><div class="arrow"></div><div id="volume-bubble-content"></div></div>'),p=$("#volume-bubble-box"),volume_list=r?$canvas($("#"+r+"-wrap").data("target-id")).listVolume(n):$canvas(t).volume(),$.each(volume_list,function(e,n){n.instance_id=t}),$("#volume-bubble-content").html(e.template.instanceVolume(volume_list)),r?(l=i.offset(),c=i.width(),h=i.height()):(l=i[0].getBoundingClientRect(),c=l.width,h=l.height),a=p.width(),f=p.height(),p.addClass("bubble-left").data("target-id",t).css({left:l.left+c+15-o.left,top:l.top-o.top-(f-h)/2}).show(),i.prop("namespaceURI")==="http://www.w3.org/2000/svg"&&e.canvas.update(t,"image","volume_status",e.canvas.IMAGE.INSTANCE_VOLUME_ATTACHED_ACTIVE)}},show:function(){var t=$(this),n=$("#volume-bubble-box"),r=t.data("target-id"),i=r.replace(/_[0-9]*$/ig,""),s=t.hasClass("instanceList-item-volume")?"instanceList":t.hasClass("asgList-item-volume")?"asgList":null,o=s?$canvas($("#"+s+"-wrap").data("target-id")).listVolume(t.parent().data("id")):$canvas(r).volume(),u=o.length,a;if(!n[0]){if(e.canvas.getState()==="app"||e.canvas.getState()==="appview")return s?(e.canvas.volume.bubble(r,t.parent().data("id"),s),!1):$canvas(r).list().length===0?(e.canvas.volume.bubble(r),!1):($canvas(i).select(),!1);if(e.canvas.getState()==="appedit"&&$canvas(r).type==="AWS.AutoScaling.LaunchConfiguration")return $canvas(i).select(),!1;u>0?e.canvas.volume.bubble(r):$("#"+r).prop("namespaceURI")==="http://www.w3.org/2000/svg"&&e.canvas.update(r,"image","volume_status",e.canvas.IMAGE.INSTANCE_VOLUME_NOT_ATTACHED)}else{a=n.data("target-id"),e.canvas.volume.close();if(i!==a&&e.canvas.getState()==="app")return s?(e.canvas.volume.bubble(r,t.parent().data("id"),s),!1):$canvas(r).list().length===0?(e.canvas.volume.bubble(r),!1):($canvas(i).select(),!1)}return!1},select:function(t){return e.canvas.event.clearSelected(),$("#instance_volume_list").find(".selected").removeClass("selected"),$("#"+t).addClass("selected"),$(document).on("keyup",e.canvas.volume.remove),!1},close:function(t){var n=$("#volume-bubble-box"),r;if(t){r=$(t.target);if(r.attr("class")==="instance-volume"||r.is(".snapshot_item")||r.parent().is(".snapshot_item")||r.is(".volume_item")||r.parent().is(".volume_item"))return!1}n[0]&&(target_id=n.data("target-id"),n.remove(),$("#"+target_id).prop("namespaceURI")==="http://www.w3.org/2000/svg"&&e.canvas.update(target_id,"image","volume_status",e.canvas.IMAGE.INSTANCE_VOLUME_NOT_ATTACHED),$(document).off("keyup",e.canvas.volume.remove).off("click",":not(.instance-volume, #volume-bubble-box)",e.canvas.volume.close))},remove:function(t){if((t.which===46||t.which===8)&&t.ctrlKey===!1&&t.metaKey===!1&&t.target.tagName.toLowerCase()!=="input"&&e.canvas.getState()!=="app"){var n=$("#volume-bubble-box"),r=n.data("target-id"),i=$("#"+r),s=i[0].getBoundingClientRect(),o=$("#instance_volume_list").find(".selected").attr("id");return o&&$canvas(o).remove()&&($("#"+o).parent().remove(),n.css("top",s.top-$("#canvas_container").offset().top-(n.height()-s.height)/2),$("#instance_volume_number").text($canvas(r).volume().length),$canvas.trigger("CANVAS_NODE_SELECTED","")),$(document).off("keyup",e.canvas.volume.remove),!1}},mousedown:function(t){if(t.which===1){var n=$(this),r=n.offset(),i=$canvas.offset(),s=n.data("type"),o=e.canvas.getState(),u,a;return o==="app"||o==="appview"?($canvas(this.id,"AWS.EC2.EBS.Volume").select(),!1):($(document.body).append('<div id="drag_shadow"><div class="resource-icon resource-icon-volume"></div></div>').append('<div id="overlayer"></div>'),u=$("#drag_shadow"),u.addClass("AWS-EC2-EBS-Volume").css({top:t.pageY-50,left:t.pageX-50}),Canvon(".AWS-EC2-Instance, .AWS-AutoScaling-LaunchConfiguration").addClass("attachable"),$(document).on({mousemove:e.canvas.volume.mousemove,mouseup:e.canvas.volume.mouseup},{target:n,instance_id:n.data("instance"),canvas_offset:$canvas.offset(),canvas_body:$("#canvas_body"),shadow:u,originalPageX:t.pageX,originalPageY:t.pageY,action:"move"}),$canvas(this.id,"AWS.EC2.EBS.Volume").select(),!1)}},mousemove:function(t){var n=e.canvas.matchPoint(t.pageX-t.data.canvas_offset.left,t.pageY-t.data.canvas_offset.top),r=n?n.getAttribute("data-class"):null,i=t.data,s=["AWS.EC2.Instance","AWS.AutoScaling.LaunchConfiguration"];if(i.action==="add"||(t.pageX>i.originalPageX+2||t.pageX<i.originalPageX-2)&&(t.pageY>i.originalPageY+2||t.pageY<i.originalPageY-2))i.shadow.css({top:t.pageY-50,left:t.pageX-50}).show(),i.canvas_body.addClass("node-dragging"),n&&$.inArray(r,s)>-1?e.canvas.volume.bubble(n.id):e.canvas.volume.close();return!1},mouseup:function(t){var n=$(t.data.target),r=n.data("option")||{},i=$("#volume-bubble-box"),s,o,u,a,f,l,c,h,p;return Canvon(".AWS-EC2-Instance, .AWS-AutoScaling-LaunchConfiguration").removeClass("attachable"),i[0]?(h=i.data("target-id"),target_node=$("#"+h),target_offset=target_node[0].getBoundingClientRect(),t.data.action==="move"?(c=n.attr("id"),t.data.instance_id!==h&&(volume_item=$canvas(h).moveVolume(c),volume_item&&(f=volume_item.snapshotId?"snapshot_item":"volume_item",$("#instance_volume_list").append('<li><a href="javascript:void(0)" id="'+c+'" class="'+f+'"><span class="volume_name">'+volume_item.name+'</span><span class="volume_size">'+volume_item.size+"GB</span></a></li>"),$("#instance_volume_number").text($canvas(h).volume().length),$canvas(volume_item.id,"AWS.EC2.EBS.Volume").select()))):(volume_item=$canvas(h).addVolume(n.data("option")),volume_item&&(f=volume_item.snapshotId?"snapshot_item":"volume_item",$("#instance_volume_list").append('<li><a href="javascript:void(0)" id="'+volume_item.id+'" data-instance="'+h+'" class="'+f+'"><span class="volume_name">'+volume_item.name+'</span><span class="volume_size">'+volume_item.size+"GB</span></a></li>"),$("#instance_volume_number").text($canvas(h).volume().length),$canvas(volume_item.id,"AWS.EC2.EBS.Volume").select())),i.css("top",target_offset.top-$("#canvas_container").offset().top-(i.height()-target_offset.height)/2)):$canvas.trigger("CANVAS_PLACE_NOT_MATCH",{type:"AWS.EC2.EBS.Volume"}),t.data.shadow.remove(),t.data.canvas_body.removeClass("node-dragging"),$("#overlayer").remove(),$(document).off({mousemove:e.canvas.volume.mousemove,mouseup:e.canvas.volume.mouseup}),!1}},e.canvas.asgList={show:function(t){t.stopImmediatePropagation();if(t.which===1){e.canvas.event.clearList();var n=this.parentNode,r=n.id,i=Canvon(n).offset(),s=$canvas.offset();return $("#canvas_container").append(e.template.asgList($canvas(r).list())),$("#asgList-wrap").data("target-id",n.id).on("click",".asgList-item",e.canvas.asgList.select).css({top:i.top-s.top-30,left:i.left-s.left-20}),e.canvas.asgList.select.call($("#asgList-wrap .asgList-item").first()),!0}},close:function(){return $("#asgList-wrap").remove(),e.canvas.volume.close(),!1},select:function(e){var t=$(this);return $("#asgList-wrap .selected").removeClass("selected"),t.addClass("selected"),$canvas($("#asgList-wrap").data("target-id")).select(t.data("id")),!1},selectById:function(t,n){e.canvas.event.clearList();var r=Canvon("#"+t).offset(),i=$canvas.offset();$("#canvas_container").append(e.template.asgList($canvas(t).list())),$("#asgList-wrap").data("target-id",t).on("click",".asgList-item",e.canvas.asgList.select).css({top:r.top-i.top-30,left:r.left-i.left-20}),e.canvas.asgList.select.call($("#"+n))}},e.canvas.instanceList={show:function(t){t.stopImmediatePropagation();if(t.which===1){e.canvas.event.clearList();var n=this.parentNode,r=n.id,i=Canvon("#"+r).offset(),s=$canvas.offset(),o=$canvas(r).list();if(o.length===0)return $canvas(r).select(),!1;$("#canvas_container").append(e.template.instanceList(o)),$("#instanceList-wrap").data("target-id",n.id).on("click",".instanceList-item",e.canvas.instanceList.select).css({top:i.top-s.top-30,left:i.left-s.left-20}),e.canvas.instanceList.select.call($("#instanceList-wrap .instanceList-item").first())}return!1},close:function(){return $("#instanceList-wrap").remove(),e.canvas.volume.close(),!1},select:function(t){var n=$(this),r=$("#volume-bubble-box");return r[0]&&r.data("target-id")!==this.id&&e.canvas.volume.close(),$("#instanceList-wrap .selected").removeClass("selected"),n.addClass("selected"),$canvas($("#instanceList-wrap").data("target-id")).select(n.data("id")),!1},selectById:function(t,n){e.canvas.event.clearList();var r=Canvon("#"+t).offset(),i=$canvas.offset(),s=$canvas(t).list();$("#canvas_container").append(e.template.instanceList(s)),$("#instanceList-wrap").data("target-id",t).on("click",".instanceList-item",e.canvas.instanceList.select).css({top:r.top-i.top-30,left:r.left-i.left-20}),e.canvas.instanceList.select.call($("#"+n))}},e.canvas.eniList={show:function(t){t.stopImmediatePropagation();if(t.which===1){e.canvas.event.clearList();var n=this.parentNode,r=n.id,i=Canvon("#"+r).offset(),s=$canvas.offset(),o=$canvas(r).list();return o.length===0?($canvas(r).select(),!1):($("#canvas_container").append(e.template.eniList(o)),$("#eniList-wrap").data("target-id",n.id).on("click",".eniList-item",e.canvas.eniList.select).css({top:i.top-s.top-30,left:i.left-s.left-20}),e.canvas.eniList.select.call($("#eniList-wrap .eniList-item").first()),!1)}},close:function(){return $("#eniList-wrap").remove(),!1},select:function(e){var t=$(this);return $("#eniList-wrap .selected").removeClass("selected"),t.addClass("selected"),$canvas($("#eniList-wrap").data("target-id")).select(t.data("id")),!1},selectById:function(t,n){e.canvas.event.clearList();var r=Canvon("#"+t).offset(),i=$canvas.offset(),s=$canvas(t).list();return $("#canvas_container").append(e.template.eniList(s)),$("#eniList-wrap").data("target-id",t).on("click",".eniList-item",e.canvas.eniList.select).css({top:r.top-i.top-30,left:r.left-i.left-20}),e.canvas.eniList.select.call($("#"+n)),!1}},e.canvas.nodeAction={show:function(t){var n=e.canvas.getState(),r=$canvas(t).type;if((n==="stack"||n==="app"||n==="appedit")&&(r==="AWS.EC2.Instance"||r==="AWS.AutoScaling.LaunchConfiguration")){var i=Design.instance().component(t),s=i.getStateData(),o=0;s&&_.isArray(s)&&(o=s.length);if(n==="app"&&!o)return;$("#canvas_container").append(e.template.nodeAction({state_num:o})),e.canvas.nodeAction.updateNumber(o),e.canvas.nodeAction.position(t)}},updateNumber:function(e){return $("#node-state-number").text(e),!1},position:function(e){var t=$("#"+e),n=t[0].getBoundingClientRect(),r=$("#svg_canvas").offset();return $("#node-action-wrap").css({left:n.left-r.left+n.width+5,top:n.top-r.top}).attr("data-id",e),!0},popup:function(e){return e.stopImmediatePropagation(),e.which===1&&$canvas.trigger("STATE_ICON_CLICKED",$(this).data("id")),!1},remove:function(e){var t=$("#node-action-wrap");return t.data("id")===e&&t.remove(),!0}},e.canvas.event={},e.canvas.event.dblclick=function(t){return e.canvas.event.dblclick.timer?(t.call(this,event),!0):(e.canvas.event.dblclick.timer=setTimeout(function(){e.canvas.event.dblclick.timer=null},500),!1)},e.canvas.event.dblclick.timer=null,e.canvas.event.dragable={mousedown:function(t){if(t.which===1&&(t.ctrlKey||t.metaKey))return t.stopImmediatePropagation(),e.canvas.event.ctrlMove.mousedown.call(this,t),!1;if(t.which===1){if(e.canvas.event.dblclick(function(){$canvas.trigger("SHOW_PROPERTY_PANEL")}))return!1;var n=$(this),r=$canvas(this.id),i=r.offset(),s=r.type,o=r.nodeType,u=$("#svg_canvas"),a=$canvas.offset(),f=$("#canvas_body"),l=$canvas.platform(),c=$(t.target),h,p,d;s==="AWS.AutoScaling.LaunchConfiguration"&&e.canvas.getState()==="app"&&(c.is(".instance-volume")?e.canvas.volume.show.call(t.target):(e.canvas.event.clearSelected(),$canvas(this.id).select()));if(c.is(".instance-volume"))return e.canvas.volume.show.call(t.target),!1;if(c.is(".eip-status")&&e.canvas.getState()!=="appview")return $canvas(this.id).toggleEip(),!1;s==="AWS.VPC.Subnet"&&n.find(".port").hide(),h=n.clone(),s==="AWS.EC2.Instance"&&h.append([Canvon.rectangle(75,75,25,25).attr({"class":"clone-icon",rx:2,ry:2}),Canvon.image(e.IMG_URL+"ide/icon-drag-to-copy.png",82,82,12,12).attr("class","clone-icon")]),u.append(h),p=e.canvas.MATCH_PLACEMENT[l][s],p&&$.each(p,function(e,t){t!=="AWS.AutoScaling.Group"&&t!=="Canvas"&&Canvon("."+t.replace(/\./ig,"-")).addClass("dropable-group")}),$(document.body).append('<div id="overlayer" class="grabbing"></div>'),h[0].transform.numberOfItems===0?d=h[0].transform.baseVal.appendItem(h[0].ownerSVGElement.createSVGTransform()):d=h[0].transform.baseVal.getItem(0),s==="AWS.VPC.InternetGateway"||s==="AWS.VPC.VPNGateway"?(Canvon(h).addClass("shadow"),$(document).on({mousemove:e.canvas.event.dragable.gatewaymove,mouseup:e.canvas.event.dragable.gatewayup},{target:n,canvas_body:f,target_type:s,node_type:o,vpc_data:$canvas($(".AWS-VPC-VPC").attr("id")),shadow:h,offsetX:t.pageX-i.left+a.left,offsetY:t.pageY-i.top+a.top,originalPageX:t.pageX,originalPageY:t.pageY,scale_ratio:$canvas.scale(),SVGtranslate:d})):$(document).on({"keydown.DRAGABLE_EVENT":s==="AWS.EC2.Instance"?e.canvas.event.dragable.keyClone:!1,"mousemove.DRAGABLE_EVENT":e.canvas.event.dragable.mousemove,"mouseup.DRAGABLE_EVENT":Canvon(t.target).hasClass("asg-resource-dragger")?e.canvas.event.dragable.asgExpandup:e.canvas.event.dragable.mouseup},{target:n,canvas_body:f,target_type:s,node_type:o,shadow:h,offsetX:t.pageX-i.left+a.left,offsetY:t.pageY-i.top+a.top,groupChild:o==="group"?e.canvas.groupChild(this):null,originalPageX:t.pageX,originalPageY:t.pageY,originalTarget:t.target,size:r.size(),grid_width:e.canvas.GRID_WIDTH,grid_height:e.canvas.GRID_HEIGHT,scale_ratio:$canvas.scale(),SVGtranslate:d}),e.canvas.volume.close(),e.canvas.event.clearSelected()}},keyClone:function(e){if(!e.altKey)return e.data.canvas_body.removeClass("cloning"),!1;if(!e.data.canvas_body.hasClass("cloning"))return e.data.canvas_body.addClass("cloning"),!1},mousemove:function(t){var n=t.data,r=n.target[0].id,i=n.target_type,s=n.node_type,o=n.size,u=n.grid_width,a=n.grid_height,f=n.scale_ratio,l={x:Math.round((t.pageX-n.offsetX)/(u/f)),y:Math.round((t.pageY-n.offsetY)/(a/f))},c=e.canvas.isMatchPlace(r,i,s,l.x,l.y,o[0],o[1]);return t.pageX!==n.originalPageX&&t.pageY!==n.originalPageY&&!Canvon(n.shadow).hasClass("shadow")&&(Canvon(n.shadow).addClass("shadow"),n.canvas_body.addClass("node-dragging")),t.altKey?n.canvas_body.addClass("cloning"):n.canvas_body.removeClass("cloning"),Canvon(".match-dropable-group").removeClass("match-dropable-group"),c.is_matched&&Canvon("#"+c.target).addClass("match-dropable-group"),n.SVGtranslate.setTranslate(l.x*u,l.y*a),!1},mouseup:function(t){var n=t.data,r=n.target,i=r.attr("id"),s=$canvas(i),o=n.target_type,u=n.node_type;o==="AWS.VPC.Subnet"&&n.target.find(".port").show();if(t.pageX===n.originalPageX&&t.pageY===n.originalPageY)e.canvas.getState()==="app"?e.canvas.instanceList.show.call(r[0],t):($canvas(i).select(),e.canvas.volume.close());else{var a=$("#svg_canvas"),f=$canvas.offset(),l=Canvon(n.shadow).offset(),c=$canvas.node(),h=$canvas.scale(),p,d,v,m,g;u==="node"&&(p=n.size,v=e.canvas.pixelToGrid(l.left-f.left,l.top-f.top),d=e.canvas.isMatchPlace(i,o,u,v.x,v.y,p[0],p[1]),g=e.canvas.parentGroup(i,o,v.x,v.y,v.x+p[0],v.y+p[1]),v.x>0&&v.y>0&&d.is_matched&&(n.canvas_body.hasClass("cloning")?s.clone(g?g.id:"canvas",v.x,v.y):s.changeParent(g?g.id:"canvas",function(){this.move(v.x,v.y),this.reConnect(),$canvas(i).select()})));if(u==="group"){var v=e.canvas.pixelToGrid(l.left-f.left,l.top-f.top),y=$canvas.group(),b=y[i],w=s.position(),E=s.size(),S=s.type,x=e.canvas.GROUP_PADDING,T=[],N=[],C={},k=!1,d,L,g,A,O,M,_,D,P,H,B,j,F,I;S==="AWS.VPC.VPC"?(v.y<=3&&(v.y=3),v.x<=5&&(v.x=5)):(v.y<=2&&(v.y=2),v.x<=2&&(v.x=2)),d=e.canvas.isMatchPlace(i,o,u,v.x-1,v.y-1,E[0]+2,E[1]+2),L=e.canvas.areaChild(i,o,v.x,v.y,v.x+E[0],v.y+E[1]),g=e.canvas.parentGroup(i,S,v.x,v.y,v.x+E[0],v.y+E[1]),$.each(L,function(e,t){T.push(t.id)}),$.each(n.groupChild,function(e,t){T.push(t.id)}),$.each(T,function(e,t){$.inArray(t,N)===-1&&N.push(t)}),g&&(parent_item=$canvas(g.id),A=y[g.id],O=parent_item.position(),M=parent_item.size(),O[0]+x>v.x&&(v.x=O[0]+x,k=!0),O[0]+M[0]-x<v.x+E[0]&&(v.x=O[0]+M[0]-x-E[0],k=!0),O[1]+x>v.y&&(v.y=O[1]+x,k=!0),O[1]+M[1]-x<v.y+E[1]&&(v.y=O[1]+M[1]-x-E[1],k=!0),k&&(P=e.canvas.areaChild(i,o,v.x,v.y,v.x+E[0],v.y+E[1]))),H=v.x-w[0],B=v.y-w[1],I=e.canvas.isBlank(i,S,"group",v.x,v.y,E[0],E[1])&&n.groupChild.length===N.length,k&&d.is_matched&&n.groupChild.length===P.length||!k&&d.is_matched&&I?s.changeParent(g?g.id:"canvas",function(){this.move(v.x,v.y),this.reConnect()}):I||$canvas.trigger("CANVAS_PLACE_OVERLAP"),$canvas(i).select()}}n.shadow.remove(),n.canvas_body.removeClass("node-dragging").removeClass("cloning"),$("#overlayer").remove(),Canvon(".dropable-group").removeClass("dropable-group"),Canvon(".match-dropable-group").removeClass("match-dropable-group"),$(document).off(".DRAGABLE_EVENT")},gatewaymove:function(t){var n=t.data,r=Math.round((t.pageY-n.offsetY)/(e.canvas.GRID_HEIGHT/n.scale_ratio)),i=n.vpc_data.position(),s=n.vpc_data.size(),o=n.target_type;return r>i[1]+s[1]-8&&(r=i[1]+s[1]-8),r<i[1]&&(r=i[1]),o==="AWS.VPC.InternetGateway"&&n.SVGtranslate.setTranslate((i[0]-4)*e.canvas.GRID_WIDTH,r*e.canvas.GRID_HEIGHT),o==="AWS.VPC.VPNGateway"&&n.SVGtranslate.setTranslate((i[0]+s[0]-4)*e.canvas.GRID_WIDTH,r*e.canvas.GRID_HEIGHT),!1},gatewayup:function(t){var n=t.data.target,r=n.attr("id"),i=$canvas(r),s=i.type,o=$canvas.offset(),u=Canvon(t.data.shadow).offset(),a=n.data("class"),f=$canvas.scale(),l=e.canvas.pixelToGrid(u.left-o.left,u.top-o.top);i.position(null,l.y),i.reConnect(),i.select(),Canvon(".dropable-group").removeClass("dropable-group"),t.data.shadow.remove(),t.data.canvas_body.removeClass("node-dragging"),$("#overlayer").remove(),$(document).off({mousemove:e.canvas.event.gatewaymove,mouseup:e.canvas.event.gatewayup})},asgExpandup:function(t){var n=t.data,r=t.data.target,i=r.attr("id"),s=t.data.target_type,o=n.nodeType,u=$canvas(i),a=$("#svg_canvas"),f=$canvas.offset(),l=Canvon(t.data.shadow).offset(),c=$canvas.scale(),h=e.canvas.pixelToGrid(l.left-f.left,l.top-f.top),p=n.size,d=e.canvas.areaChild(i,s,h.x,h.y,h.x+p[0],h.y+p[1]),v=e.canvas.isMatchPlace(null,s,o,h.x,h.y,p[0],p[1]),m=e.canvas.parentGroup(i,s,h.x,h.y,h.x+p[0],h.y+p[1]);d.length===0&&v.is_matched&&(u.asgExpand(v.target,h.x,h.y),u.select()),Canvon(".dropable-group").removeClass("dropable-group"),t.data.shadow.remove(),t.data.canvas_body.removeClass("node-dragging"),$("#overlayer").remove(),$(document).off(".DRAGABLE_EVENT")}},e.canvas.event.drawConnection={mousedown:function(t){if(t.which===1){var n=$("#svg_canvas"),r=n.offset(),i=$(this),s=Canvon(this).offset(),o=i.parent(),u=o.attr("id"),a=$canvas(u),f=a.type,l=i.data("position"),c=i.data("type"),h=i.data("name"),p=e.canvas.CONNECTION_OPTION[f],d=$canvas.scale(),v={},m=8/d,g=a.connection(),y,b,w,E,S,x,T;switch(l){case"left":v.left=s.left,v.top=s.top+m;break;case"right":v.left=s.left+m,v.top=s.top+m;break;case"top":v.left=s.left+m,v.top=s.top;break;case"bottom":v.left=s.left+m,v.top=s.top+m}$(document.body).append('<div id="overlayer"></div>'),n.append(Canvon.group().attr({"class":"draw-line-wrap line-"+c,id:"draw-line-connection"})),$(document).on({mousemove:e.canvas.event.drawConnection.mousemove,mouseup:e.canvas.event.drawConnection.mouseup},{connect:i.data("connect"),originalTarget:i.parent(),originalX:(v.left-r.left)*d,originalY:(v.top-r.top)*d,option:p,draw_line:$("#draw-line-connection"),port_name:h,canvas_offset:r,scale_ratio:d}),e.canvas.event.clearSelected(),$.each(g,function(e,t){Canvon("#"+t.line).addClass("view-keephover")}),$.each(p,function(e,t){$.type(t)!=="array"&&(t=[t]),$.each(t,function(t,n){n.from===h&&$("."+e.replace(/\./ig,"-")+":not(#"+u+")").each(function(e,t){a.isConnectable(n.from,t.id,n.to)&&(E=this,$(E).find(".port-"+n.to).each(function(){S=$(this),S.css("display")!=="none"&&(Canvon(E).addClass("connectable"),Canvon(S).addClass("connectable-port view-show"))}))})})})}return!1},mousemove:function(e){var t=e.data,n=t.canvas_offset,r=t.scale_ratio,i=(e.pageX-n.left)*r,s=(e.pageY-n.top)*r,o=t.originalX,u=t.originalY,a=Math.atan2(s-u,i-o),f=8,l=.5235987755982988,c=a-l,h=a+l;return t.draw_line.empty().append(Canvon.line(o,u,i,s).attr("class","draw-line"),Canvon.polygon([[i,s],[i-f*Math.cos(c),s-f*Math.sin(c)],[i-f*Math.cos(h),s-f*Math.sin(h)]]).attr("class","draw-line-arrow")),!1},mouseup:function(t){t.data.draw_line.remove();var n=e.canvas.matchPoint(Math.round(t.pageX-t.data.canvas_offset.left),Math.round(t.pageY-t.data.canvas_offset.top)),r=t.data.originalTarget,i=t.data.port_name,s=r.data("class"),o,i,u,a,f,l,c;return(s==="AWS.VPC.RouteTable"||s==="AWS.ELB")&&!n&&(f=e.canvas.pixelToGrid(t.pageX-t.data.canvas_offset.left,t.pageY-t.data.canvas_offset.top),n=null,$.each($canvas.group(),function(e,t){l=t.position(),c=t.size();if(t.type==="AWS.VPC.Subnet"&&l&&l[0]-2<f.x&&l[0]+c[0]+2>f.x&&l[1]<f.y&&l[1]+c[1]>f.y)return n=document.getElementById(t.id),!1})),n&&(o=$(n),$.inArray(r.data("class"),["AWS.EC2.Instance","AWS.AutoScaling.LaunchConfiguration"])>-1&&o.data("class")==="AWS.ELB"?(match_node_offset=n.getBoundingClientRect(),t.pageX>match_node_offset.left+match_node_offset.width/2&&(u="elb-sg-out"),t.pageX<match_node_offset.left+match_node_offset.width/2&&(u="elb-sg-in")):u=o.find(".connectable-port").data("name"),!r.is(o)&&u!==undefined&&$canvas.connect(r.attr("id"),i,o.attr("id"),u)),Canvon("#svg_canvas .connectable").removeClass("connectable"),Canvon("#svg_canvas .view-keephover").removeClass("view-keephover"),Canvon("#svg_canvas .view-show").removeClass("view-show"),Canvon("#svg_canvas .connectable-port").removeClass("connectable-port"),$("#overlayer").remove(),$(document).off({mousemove:e.canvas.event.drawConnection.mousemove,mouseup:e.canvas.event.drawConnection.mouseup}),!1}},e.canvas.event.siderbarDrag={mousedown:function(t){if(t.which===1){var n=$(this),r=n.offset(),i=$("#svg_canvas"),s=$canvas.offset(),o=n.data("type"),u=n.data("component-type"),a=$canvas.platform(),f=$("#changeAmiDropZone"),l,c,h,p,d,v,m,g;if(n.data("enable")===!1)return!1;$(document.body).append('<div id="drag_shadow"></div><div id="overlayer" class="grabbing"></div>'),h=$("#drag_shadow"),u==="group"?(g=e.canvas.GROUP_DEFAULT_SIZE[o],h.addClass(o.replace(/\./ig,"-"))):(p=n.find(".resource-icon").clone(),h.append(p),g=e.canvas.COMPONENT_SIZE[o]),h.css({top:t.pageY-50,left:t.pageX-50,width:g[0]*e.canvas.GRID_WIDTH,height:g[1]*e.canvas.GRID_HEIGHT}).show(),o==="AWS.EC2.EBS.Volume"?(e.canvas.getState()==="appedit"?Canvon(".AWS-EC2-Instance, .AWS-AutoScaling-LaunchConfiguration").addClass("attachable"):Canvon(".AWS-EC2-Instance, .AWS-AutoScaling-LaunchConfiguration").addClass("attachable"),h.addClass("AWS-EC2-EBS-Volume"),$(document).on({mousemove:e.canvas.volume.mousemove,mouseup:e.canvas.volume.mouseup},{target:n,canvas_offset:s,canvas_body:$("#canvas_body"),shadow:h,action:"add"})):(m=e.canvas.MATCH_PLACEMENT[a][o],m&&Canvon("."+m.join(",").replace(/\./ig,"-").replace(/,/ig,",.")).addClass("dropable-group"),o==="AWS.EC2.Instance"&&f.is(":visible")&&(l=f.offset(),c={x1:l.left,x2:l.left+f.width(),y1:l.top,y2:l.top+f.height()}),$(document).on({mousemove:e.canvas.event.siderbarDrag.mousemove,mouseup:e.canvas.event.siderbarDrag.mouseup},{target:n,node_type:u,canvas_offset:s,target_type:o,shadow:h,scale_ratio:$canvas.scale(),component_size:u==="node"?e.canvas.COMPONENT_SIZE[o]:e.canvas.GROUP_DEFAULT_SIZE[o],drop_zone:f,drop_zone_data:c})),$("#canvas_body").addClass("node-dragging")}return e.canvas.volume.close(),e.canvas.event.clearSelected(),!1},mousemove:function(t){var n=t.data,r=n.shadow[0],i=n.canvas_offset,s=n.target[0].id,o=n.node_type,u=n.target_type,a=n.component_size,f=10,l=10,c=n.scale_ratio,h={x:Math.round((t.pageX-i.left-50)/(f/c)),y:Math.round((t.pageY-i.top-50)/(l/c))},p=e.canvas.isMatchPlace(null,u,o,h.x,h.y,a[0],a[1]);return Canvon(".match-dropable-group").removeClass("match-dropable-group"),p.is_matched&&Canvon("#"+p.target).addClass("match-dropable-group"),n.drop_zone_data&&(t.pageX>n.drop_zone_data.x1&&t.pageX<n.drop_zone_data.x2&&t.pageY>n.drop_zone_data.y1&&t.pageY<n.drop_zone_data.y2?n.drop_zone.addClass("hover"):n.drop_zone.removeClass("hover")),r.style.top=t.pageY-50+"px",r.style.left=t.pageX-50+"px",!1},mouseup:function(t){$("#overlayer").remove(),t.data.shadow.hide();var n=document.elementFromPoint(t.pageX,t.pageY);if(n.id==="changeAmiDropZone"||$(n).parents("#changeAmiDropZone").length>0)$("#changeAmiDropZone").removeClass("hover").trigger("drop",$(t.data.target).data("option").imageId),t.data.shadow.remove();else{t.data.shadow.show();if(!$("#canvas_body").hasClass("canvas_zoomed")){var r=$(t.data.target),i=r.attr("id")||"",s=r.data("component-type"),o=r.data("type"),u=$canvas.offset(),a=t.data.shadow.position(),f=r.data("option")||{},l=e.canvas.pixelToGrid(a.left-u.left,a.top-u.top),c,h,p,d,v,m,g,y,b;l.x>0&&l.y>0&&(s==="node"&&(c=e.canvas.COMPONENT_SIZE[o],o==="AWS.VPC.InternetGateway"||o==="AWS.VPC.VPNGateway"?(v=$(".AWS-VPC-VPC").attr("id"),m=$canvas(v),g=m.position(),vpc_size=m.size(),f.groupUId=v,l.y>g[1]+vpc_size[1]-c[1]&&(l.y=g[1]+vpc_size[1]-c[1]),l.y<g[1]&&(l.y=g[1]),o==="AWS.VPC.InternetGateway"&&(l.x=g[0]-c[1]/2),o==="AWS.VPC.VPNGateway"&&(l.x=g[0]+vpc_size[0]-c[1]/2),$canvas.add(o,f,l)):(h=e.canvas.isMatchPlace(null,o,s,l.x,l.y,c[0],c[1]),h.is_matched?(f.groupUId=h.target,b=$canvas.add(o,f,l),b&&e.canvas.select(b)):$canvas.trigger("CANVAS_PLACE_NOT_MATCH",{type:o}))),s==="group"&&(p=e.canvas.GROUP_DEFAULT_SIZE[o],o==="AWS.VPC.Subnet",h=e.canvas.isMatchPlace(null,o,s,l.x,l.y,p[0],p[1]),y=e.canvas.areaChild(null,o,l.x,l.y,l.x+p[0],l.y+p[1]),h.is_matched?e.canvas.isBlank(i,o,"group",l.x-1,l.y-1,p[0]+2,p[1]+2)&&y.length===0?(f.groupUId=h.target,b=$canvas.add(o,f,l),(!$canvas.hasVPC()||o!=="AWS.EC2.AvailabilityZone")&&e.canvas.select(b)):$canvas.trigger("CANVAS_PLACE_OVERLAP"):$canvas.trigger("CANVAS_PLACE_NOT_MATCH",{type:o}))),o==="AWS.VPC.InternetGateway"||o==="AWS.VPC.VPNGateway"?t.data.shadow.show().animate({left:l.x*e.canvas.GRID_WIDTH+u.left,top:l.y*e.canvas.GRID_HEIGHT+u.top,opacity:0},function(){t.data.shadow.remove()}):t.data.shadow.remove()}else $canvas.trigger("CANVAS_ZOOMED_DROP_ERROR"),t.data.shadow.remove()}Canvon(".dropable-group").removeClass("dropable-group"),Canvon(".match-dropable-group").removeClass("match-dropable-group"),$("#canvas_body").removeClass("node-dragging"),$(document).off({mousemove:e.canvas.event.mousemove,mouseup:e.canvas.event.mouseup})}},e.canvas.event.groupResize={mousedown:function(t){if(t.which===1){var n=t.target,r=$(n.parentNode.parentNode),i=$canvas(r.attr("id")),s=r.find(".group"),o=s[0].getBoundingClientRect(),u=$canvas.offset(),a=$canvas.scale(),f=e.canvas.GRID_WIDTH,l=e.canvas.GRID_HEIGHT,c=(o.left-u.left)*a,h=(o.top-u.top)*a,p=i.type,d=document.getElementById("line_layer");p==="AWS.VPC.Subnet"&&$.each(i.connection(),function(e,t){d.removeChild(document.getElementById(t.line))}),r.find(".group-label, .port").hide(),$(document.body).append('<div id="overlayer" style="cursor: '+$(t.target).css("cursor")+'"></div>'),$(document).on({mousemove:e.canvas.event.groupResize.mousemove,mouseup:e.canvas.event.groupResize.mouseup},{parent:r,resizer:n,target:s,originalTarget:s[0],group_child:e.canvas.groupChild(n.parentNode.parentNode),originalX:t.pageX,originalY:t.pageY,originalWidth:o.width,originalHeight:o.height,originalTop:o.top,originalLeft:o.left,originalTranslate:r.attr("transform"),canvas_offset:u,offsetX:t.pageX-u.left,offsetY:t.pageY-u.top,direction:$(n).data("direction"),group_type:p,scale_ratio:a,group_min_padding:e.canvas.GROUP_MIN_PADDING,parentGroup:e.canvas.parentGroup(r.attr("id"),p,Math.ceil(c/f),Math.ceil(h/l),Math.ceil((o.left+o.width)/f),Math.ceil((o.top+o.height)/l)),group_port:p==="AWS.VPC.Subnet"?[r.find(".port-subnet-assoc-in").first(),r.find(".port-subnet-assoc-out").first()]:null})}return!1},mousemove:function(e){var t=e.data,n=t.originalTarget,r=t.direction,i=t.scale_ratio,s=t.group_min_padding,o=Math.ceil((e.pageX-t.originalLeft)/10)*10*i,u=t.originalWidth*i-s,a=Math.ceil((e.pageY-t.originalTop)/10)*10*i,f=t.originalHeight*i-s,l,c;switch(r){case"topleft":l={y:a>f?f:a,x:o>u?u:o,width:t.originalWidth*i-o,height:t.originalHeight*i-a};break;case"topright":l={y:a>f?f:a,width:Math.round((t.originalWidth+e.pageX-t.originalX)/10)*10*i,height:t.originalHeight*i-a};break;case"bottomleft":l={x:o>u?u:o,width:t.originalWidth*i-o,height:Math.round((t.originalHeight+e.pageY-t.originalY)/10)*10*i};break;case"bottomright":l={width:Math.round((t.originalWidth+e.pageX-t.originalX)/10)*10*i,height:Math.round((t.originalHeight+e.pageY-t.originalY)/10)*10*i};break;case"top":l={y:a>f?f:a,height:t.originalHeight*i-a};break;case"right":l={width:Math.round((t.originalWidth+e.pageX-t.originalX)/10)*10*i};break;case"bottom":l={height:Math.round((t.originalHeight+e.pageY-t.originalY)/10)*10*i};break;case"left":l={x:o>u?u:o,width:t.originalWidth*i-o}}l.width!==undefined&&l.width<s&&(l.width=s),l.height!==undefined&&l.height<s&&(l.height=s);for(c in l)n[c].baseVal.value=l[c];return!1},mouseup:function(t){var n=t.data,r=n.parent,i=n.target,s=i[0],o=n.group_type,u=n.direction,a=r[0].getBoundingClientRect(),f=n.canvas_offset,l=$canvas.scale(),c=e.canvas.GRID_WIDTH,h=e.canvas.GRID_HEIGHT,p=s.x.baseVal.value,d=s.y.baseVal.value,v=r.attr("id"),m=Math.round(s.width.baseVal.value/c),g=Math.round(s.height.baseVal.value/h),y=Math.round(((a.left-f.left)*l+p)/c),b=Math.round(((a.top-f.top)*l+d)/h),w=$canvas.size(),E=[],S=[],x=[],T=[],N=e.canvas.GROUP_PADDING,C=n.parentGroup,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,J,K,Q;p<0&&(y=Math.round((a.left-f.left)*l/c));if(u==="top"||u==="topleft"||u==="topright")d<0?b=Math.round((a.top-f.top)*l/h):d>0&&(b=Math.round(((a.top-f.top)*l+d)/c));$.each(n.group_child,function(e,t){t=$canvas(t.id),H=t.size(),P=t.position(),E.push(P[0]),S.push(P[1]),x.push(P[0]+H[0]),T.push(P[1]+H[1])}),B=Math.max.apply(Math,x)+N,j=Math.max.apply(Math,T)+N,F=Math.min.apply(Math,E)-N,I=Math.min.apply(Math,S)-N;switch(u){case"topleft":y>=F&&(m+=y-F,y=F),b>=I&&(g+=b-I,b=I);break;case"topright":m=m+y>=B?m:B-y,b>=I&&(g+=b-I,b=I);break;case"bottomleft":y>=F&&(m+=y-F,y=F),g=g+b>=j?g:j-b;break;case"bottomright":m=m+y>=B?m:B-y,g=g+b>=j?g:j-b;break;case"top":b>=I&&(g+=b-I,b=I);break;case"right":m=m+y>=B?m:B-y;break;case"bottom":g=g+b>=j?g:j-b;break;case"left":y>=F&&(m+=y-F,y=F)}C&&(O=$canvas(C.id),M=O.size(),_=O.position(),y<_[0]+N&&(m=y+m-_[0]-N,y=_[0]+N),b<_[1]+N&&(g=b+g-_[1]-N,b=_[1]+N),m+y>_[0]+M[0]-N&&(m=_[0]+M[0]-N-y),g+b>_[1]+M[1]-N&&(g=_[1]+M[1]-N-b)),o==="AWS.VPC.VPC"?(b<=3&&(g=g+b-3,b=3),y<=5&&(m=m+y-5,y=5)):(b<=2&&(g=g+b-2,b=2),y<=2&&(m=m+y-2,y=2)),m>N&&g>N&&n.group_child.length===e.canvas.areaChild(v,o,y,b,y+m,b+g).length&&y+m<w[0]-3&&b+g<w[1]-3?(o==="AWS.VPC.VPC"&&(q=$(".AWS-VPC-InternetGateway"),W=$(".AWS-VPC-VPNGateway"),q[0]&&(igw_item=$canvas(q[0].id),z=igw_item.position()[1],z>b+g-8&&(z=b+g-8),z<b&&(z=b),igw_item.position(y-4,z),igw_item.reConnect()),W[0]&&(vgw_item=$canvas(W[0].id),J=vgw_item.position()[1],J>b+g-8&&(J=b+g-8),J<b&&(J=b),vgw_item.position(y+m-4,J),vgw_item.reConnect())),k=$canvas(v),k.position(y,b),k.size(m,g),e.canvas.updateResizer(r,m,g)):(m=Math.round(n.originalWidth*l/10),g=Math.round(n.originalHeight*l/10),k=$canvas(v),L=k.position(),k.position(L[0],L[1]),k.size(m,g),e.canvas.updateResizer(r,m,g)),r.find(".group-label, .port").show(),o==="AWS.VPC.Subnet"&&(K=g*e.canvas.GRID_HEIGHT/2-5,n.group_port[0].attr("transform","translate(-12, "+K+")"),n.group_port[1].attr("transform","translate("+(m*e.canvas.GRID_WIDTH+10)+", "+K+")")),k.reConnect(),$("#overlayer").remove(),$(document).off({mousemove:e.canvas.event.groupResize.mousemove,mouseup:e.canvas.event.groupResize.mouseup})}},e.canvas.event.ctrlMove={mousedown:function(t){if(t.which===1&&(t.ctrlKey||t.metaKey)){t.stopImmediatePropagation();var n=$canvas.offset(),r=$("#canvas"),i=r.find(".scroll-content").first()[0];return $(document).on({mousemove:e.canvas.event.ctrlMove.mousemove,mouseup:e.canvas.event.ctrlMove.mouseup},{canvas:r,offsetX:t.pageX,offsetY:t.pageY,originalCoordinate:{left:i.realScrollLeft?i.realScrollLeft:0,top:i.realScrollTop?i.realScrollTop:0}}),$(document.body).append('<div id="overlayer" class="grabbing"></div>'),!1}},mousemove:function(e){var t=e.data;return scrollbar.scrollTo(t.canvas,{left:t.offsetX-e.pageX-t.originalCoordinate.left,top:t.offsetY-e.pageY-t.originalCoordinate.top}),!1},mouseup:function(){return $("#overlayer").remove(),$(document).off({mousemove:e.canvas.event.ctrlMove.mousemove,mouseup:e.canvas.event.ctrlMove.mouseup}),!1}},e.canvas.event.selectLine=function(t){return t.which===1&&(e.canvas.event.clearSelected(),$canvas(this.id).select()),!1},e.canvas.event.selectNode=function(t){if(t.which===1){if(e.canvas.event.dblclick(function(){$canvas.trigger("SHOW_PROPERTY_PANEL")}))return!1;e.canvas.event.clearSelected(),$canvas(this.id).select()}return!1},e.canvas.event.appDrawConnection=function(){return e.canvas.event.drawConnection.mousedown.call(this,event),!1},e.canvas.event.clearList=function(t){return e.canvas.instanceList.close(),e.canvas.eniList.close(),e.canvas.asgList.close(),e.canvas.event.clearSelected(t),!0},e.canvas.event.nodeHover=function(e){var t=$canvas(this.id).connection(),n=[],r=t.length;while(r--)n[r]="#"+t[r].line;return Canvon(n.join(","))[e.type==="mouseenter"?"addClass":"removeClass"]("view-hover"),!0},e.canvas.event.clearSelected=function(e){return e&&$(e.currentTarget).is("#tab-bar li")?!1:(Canvon("#svg_canvas .selected").removeClass("selected"),Canvon("#svg_canvas .view-show").removeClass("view-show"),$("#node-action-wrap").remove(),$canvas.selected_node().length=0,!0)},e.canvas.event.clickBlank=function(e){return e.target.id==="svg_canvas"&&$canvas.trigger("CANVAS_NODE_SELECTED",""),!0},e.canvas.event.keyEvent=function(t){var n=e.canvas.getState(),r=$canvas.selected_node();if($("#modal-wrap")[0]!==undefined||$(".sub-stateeditor").css("display")==="block"&&t.which!==46&&t.which!==8||Tabbar.current==="dashboard")return!0;if($.inArray(n,["new","app","stack","appedit","appview"])>-1){var i=t.which,s=t.target.nodeName.toLowerCase();if(s==="input"||s==="textarea"||t.target.contentEditable==="true")return!0;if(!(i!==46&&i!==8||n!=="stack"&&n!=="appedit")&&r.length>0)return t.ctrlKey||t.metaKey?!0:(e.canvas.volume.close(),$.each(r,function(e,t){$canvas(t).remove()}),!1);if(i===8&&s!=="input"&&s!=="textarea")return!1;if(i===9&&r.length===1){var o=r[0],u=[],a=0,f,l,c,h;return $canvas(o).nodeType!=="node"?!1:($.each($canvas.node(),function(e,t){t.id===o&&(f=e),u.push(t.id),e++}),f===u.length-1?f=0:f++,e.canvas.event.clearSelected(),c=$("#"+u[f]).attr("id"),h=$canvas(c),h.select(),!1)}if($.inArray(i,[37,38,39,40])>-1&&(n==="stack"||n==="appedit"||n==="appview")&&r.length===1&&$("#"+r[0]).data("type")!=="line"){var p=$("#"+r[0]),d=r[0],v=$canvas(d),m=v.nodeType,g=v.type,y=v.position(),b=$canvas.size(),w=$canvas.scale(),y={x:y[0],y:y[1]},E=v.size(),S,x,T,N,C;return m!=="node"?!1:(i===38&&y.y--,i===40&&y.y++,g==="AWS.VPC.InternetGateway"||g==="AWS.VPC.VPNGateway"?(S={},x=$(".AWS-VPC-VPC").attr("id"),T=$canvas(x),C=T.position(),N=T.size(),S.is_matched=y.y<=C[1]+N[1]-E[1]&&y.y>=C[1]):(i===37&&y.x--,i===39&&y.x++,S=e.canvas.isMatchPlace(d,g,m,y.x,y.y,E[0],E[1])),y.x>0&&y.y>0&&S.is_matched&&y.x+E[0]<b[0]-3&&y.y+E[1]<b[1]-3&&(v.position(y.x,y.y),v.reConnect()),!1)}if((t.ctrlKey||t.metaKey)&&i===83&&n==="stack")return $canvas.trigger("CANVAS_SAVE"),!1;if((t.ctrlKey||t.metaKey)&&i===187)return e.canvas.zoomIn(),!1;if((t.ctrlKey||t.metaKey)&&i===189)return e.canvas.zoomOut(),!1;if(i===13&&e.canvas.getState()!=="appview"){var k=$canvas($canvas.selected_node()[0]).type;return(k==="AWS.EC2.Instance"||k==="AWS.AutoScaling.LaunchConfiguration")&&$canvas.trigger("SHOW_STATE_EDITOR",$canvas.selected_node()[0]),!1}if(i===83&&r.length===1&&e.canvas.getState()!=="appview"){var k=$canvas($canvas.selected_node()[0]).type;return(k==="AWS.EC2.Instance"||k==="AWS.AutoScaling.LaunchConfiguration")&&$canvas.trigger("SHOW_STATE_EDITOR",$canvas.selected_node()[0]),!1}if(i===80)return $canvas.trigger("SHOW_PROPERTY_PANEL"),!1}},e.canvas.analysis=function(){function w(t){var r=[],i=d[n[t].type],s,o;return $.each(n,function(u,a){$.inArray(n[u].type,i)>-1&&a.parentId===t&&(o=w(u),s={id:u,coordinate:[0,0],size:[0,0],type:a.type},e.canvas.COMPONENT_SIZE[a.type]!==undefined&&(s.size=e.canvas.COMPONENT_SIZE[a.type]),m[a.type]!==undefined&&(s.size=m[a.type]),o&&(s.children=o),r.push(s))}),r.length<1?!1:r}function E(e){if(e.children!==undefined){var t=0;return $.each(e.children,function(e,n){t+=E(n)}),e.totalChild=t+e.children.length,e.type==="AWS.VPC.Subnet"&&(e.hasELBConnected=!1,$.each(e.children,function(t,n){$.inArray(n.id,i)>-1&&(e.hasELBConnected=!0),n.type==="AWS.AutoScaling.Group"&&n.children!==undefined&&$.inArray(n.children[0].id,i)>-1&&(e.hasELBConnected=!0)})),e.children.length}return e.totalChild=0,e.type==="AWS.VPC.Subnet"&&(e.hasELBConnected=!1),0}function S(e){e.children!==undefined&&(e.type==="AWS.EC2.AvailabilityZone"?e.children.sort(function(e,t){if(e.hasELBConnected===!0&&t.hasELBConnected===!0||e.hasELBConnected===!1&&t.hasELBConnected===!1)return t.totalChild-e.totalChild;if(e.hasELBConnected===!0&&t.hasELBConnected===!1)return-1;if(e.hasELBConnected===!1&&t.hasELBConnected===!0)return 1}):e.children.sort(function(e,t){return t.totalChild-e.totalChild}),$.each(e.children,function(e,t){S(t)}))}function x(r){var s={},u=r.children,a=u.length,f=g[r.type],l=0,c=0,h=2,p=2,d={},m=[],y=[],b=[],w=!1,E=Math.ceil(Math.sqrt(a)),S=a===0?0:Math.ceil(a/E),x=0,T=0,C,k,L;u.sort(function(e,t){return v[e.type]-v[t.type]}),$.each(u,function(e,r){k=!1,L=null,s[r.type]===undefined&&(s[r.type]=[]),s[r.type].push(r),r.type!=="AWS.AutoScaling.Group"&&r.type!=="AWS.EC2.Instance"||r.children===undefined?C=n[r.id].connection():C=n[r.children[0].id].connection(),C?($.each(C,function(e,r){n[r.target].type==="AWS.ELB"&&t[r.line].target[r.target]==="elb-sg-out"&&(k=!0,L=r.target)}),k?(d[L]===undefined&&(d[L]=[]),d[L].push(r)):r.type==="AWS.AutoScaling.Group"&&m.push(r)):r.type==="AWS.AutoScaling.Group"&&m.push(r)});var A=0,O=0,M=0,_=0,T,D=15,P=15,H=11,B=11;m.length>0&&(d.zz=m),$.each(d,function(e,t){M=0,t.sort(function(e,t){return v[e.type]-v[t.type]}),$.each(t,function(e,t){t.type==="AWS.AutoScaling.Group"&&(O=D,t.coordinate=[_+2,M+o],M+=P,t.children!==undefined&&N(t)),t.type==="AWS.EC2.Instance"&&(O=O===D?D:H,t.coordinate=[_+(O===D?4:2),M+o],M+=B)}),A++,_+=O}),s["AWS.EC2.Instance"]!==undefined&&($.each(s["AWS.EC2.Instance"],function(e,t){$.inArray(t.id,i)===-1&&b.push(t)}),b.sort(function(e,t){return $canvas(e.id).getModel().attributes.name.localeCompare($canvas(t.id).getModel().attributes.name)}));if(b.length>0){var j=b.length,F=Math.ceil(Math.sqrt(j)),I=j===0?0:Math.ceil(j/F),x=0,T=0;$.each(b,function(e,t){x>=F&&(x=0,T++),t.coordinate=[x*9+x*h+o,T*9+T*h+o],x++}),$.each(b,function(e,t){t.coordinate[0]+=_}),_+=F*H}if(s["AWS.VPC.NetworkInterface"]!==undefined){var j=s["AWS.VPC.NetworkInterface"].length,F=Math.ceil(Math.sqrt(j)),I=j===0?0:Math.ceil(j/F),q=0,x=0,T=0;$.each(s["AWS.VPC.NetworkInterface"],function(e,t){x>=F&&(x=0,T++),t.coordinate=[x*9+x*h+q+o,T*9+T*h+o],x++})}s["AWS.VPC.NetworkInterface"]!==undefined&&$.each(s["AWS.VPC.NetworkInterface"],function(e,t){t.coordinate[0]+=_});var l=0,c=0,R,U;$.each(u,function(t,n){R=n.coordinate,U=e.canvas.COMPONENT_SIZE[n.type],R[0]+U[0]>l&&(l=R[0]+U[0]),R[1]+U[1]>c&&(c=R[1]+U[1])}),r.size=[l+o,c+o]}function T(e){var t=[],r=[],i=[],s,o,u,a;return $.each(e,function(e,a){s=!1,o=!1,a.children!==undefined&&($.each(a.children,function(e,t){t.type==="AWS.AutoScaling.Group"&&t.children!==undefined&&(t=t.children[0]),node_connection=n[t.id].connection(),node_connection&&$.each(node_connection,function(e,t){n[t.target].type==="AWS.ELB"&&(u=$canvas(t.target).getModel().attributes.internal?"internal":"internet-facing",u==="internet-facing"&&(s=!0),u==="internal"&&(o=!0))})}),s?t.push(a):o&&r.push(a)),!s&&!o&&i.push(a)}),t.sort(function(e,t){return t.totalChild-e.totalChild}),t.sort(function(e,t){return t.totalChild-e.totalChild}),i.sort(function(e,t){if(t.totalChild===e.totalChild&&t.totalChild>0&&e.totalChild>0){var n={a:0,b:0};return $.each({a:e,b:t},function(e,t){$.each(t.children,function(t,r){r.type==="AWS.AutoScaling.Group"&&(n[e]+=3),r.type==="AWS.EC2.Instance"&&(n[e]+=2),r.type==="AWS.VPC.NetworkInterface"&&(n[e]+=1)})}),n.b-n.a}return t.totalChild-e.totalChild}),e=t.concat(r,i),e}function N(e){var t=e.children,n=2,r=t.length,i=g[e.type],s=0,u=0,a=2,f=2;e.type==="AWS.EC2.AvailabilityZone"&&(n=4),i==="matrix"&&x(e),i==="vertical"&&($.each(t,function(e,r){r.coordinate=[0+o,e+o],r.children!==undefined&&N(r),r.size[0]>s&&(s=r.size[0]),u+=r.size[1],e>0&&(b=t[e-1],r.coordinate=[0+o,b.size[1]+b.coordinate[1]+n],u+=n*2)}),e.size=[s+o*2,u+n*(r-1)+o]),i==="horizontal"&&(e.type==="AWS.EC2.AvailabilityZone"&&(t=T(t)),$.each(t,function(e,r){r.coordinate=[e+o,0+o],r.children!==undefined&&N(r),r.size[1]>u&&(u=r.size[1]),s+=r.size[0],e>0&&(b=t[e-1],r.coordinate=[b.size[0]+b.coordinate[0]+n,0+o],s+=n*2)}),e.size=[s-n*(r-1)+o*2,u+o*2]),i==="center"&&($.each(t,function(e,t){t.coordinate=[2,2]}),e.size=[13,13])}function I(e,t,n){var r=e.coordinate;r[0]+=t,r[1]+=n,e.children!==undefined&&$.each(e.children,function(e,t){I(t,r[0],r[1])})}function q(e){var t=n[e.id];$canvas(e.id).position(e.coordinate[0],e.coordinate[1]),e.size!==undefined&&$canvas(e.id).size(e.size[0],e.size[1]),e.children!==undefined&&$.each(e.children,function(e,t){q(t)})}function R(){var e=0,t=0,n=["AWS.VPC.CustomerGateway","AWS.VPC.InternetGateway","AWS.VPC.VPNGateway"],r,i,s,o;$.each($canvas.node(),function(s,o){r=o.position(),i=o.size(),$.inArray(o.type,n)===-1&&(r[0]+i[0]>e&&(e=r[0]+i[0]),r[1]+i[1]>t&&(t=r[1]+i[1]))}),$.each($canvas.group(),function(n,s){r=s.position(),i=s.size(),s.type!=="AWS.AutoScaling.Group"&&(r[0]+i[0]>e&&(e=r[0]+i[0]),r[1]+i[1]>t&&(t=r[1]+i[1]))}),y.size[0]=e-y.coordinate[0]+l,y.size[1]=t-y.coordinate[1]+c,$canvas(y.id).size(e-y.coordinate[0]+l,t-y.coordinate[1]+c)}var t=$canvas.connection(),n={},r={},i=[],s,o=2,u=2,a=20,f=10,l=8,c=5,h=14,p=e.canvas.COMPONENT_SIZE["AWS.ELB"],d={"AWS.VPC.VPC":["AWS.EC2.AvailabilityZone"],"AWS.EC2.AvailabilityZone":["AWS.VPC.Subnet"],"AWS.VPC.Subnet":["AWS.EC2.Instance","AWS.AutoScaling.Group","AWS.VPC.NetworkInterface"],"AWS.AutoScaling.Group":["AWS.AutoScaling.LaunchConfiguration"]},v={"AWS.AutoScaling.Group":1,"AWS.EC2.Instance":2,"AWS.VPC.NetworkInterface":3},m={"AWS.VPC.VPC":[60,60],"AWS.EC2.AvailabilityZone":[17,17],"AWS.VPC.Subnet":[15,15],"AWS.AutoScaling.Group":[13,13]},g={"AWS.VPC.VPC":"vertical","AWS.EC2.AvailabilityZone":"horizontal","AWS.VPC.Subnet":"matrix","AWS.AutoScaling.Group":"center"},y,b;$.each($canvas.node(),function(e,t){n[t.id]=t}),$.each($canvas.group(),function(e,t){n[t.id]=t}),$.each(n,function(e,t){var n=t.type,i=r[n];i===undefined&&(r[n]=[]),r[n].push(e)}),y={id:r["AWS.VPC.VPC"][0],coordinate:[5,3],size:[0,0],type:"AWS.VPC.VPC"},r["AWS.ELB"]!==undefined&&$.each(r["AWS.ELB"],function(e,t){$.each($canvas(t).connection(),function(e,t){t.port==="elb-sg-out"&&i.push(t.target)})}),node_child=w(r["AWS.VPC.VPC"][0]),node_child&&(y.children=node_child),E(y),S(y),y.children&&N(y),y.children&&$.each(y.children,function(e,t){t.coordinate[0]+=a,t.coordinate[1]+=f});if(r["AWS.VPC.RouteTable"]!==undefined){var C=15,k=5,L=4,A=e.canvas.COMPONENT_SIZE["AWS.VPC.RouteTable"],O=[],M=[],D=[],P,H,B;r["AWS.VPC.RouteTable"].length>0&&(r["AWS.VPC.RouteTable"].sort(function(e,t){return $canvas(e).getModel().attributes.name.localeCompare($canvas(t).getModel().attributes.name)}),$.each(r["AWS.VPC.RouteTable"],function(e,t){P=!1,H=$canvas(t).connection(),$.each(H,function(e,n){n.port==="rtb-tgt"&&(B=$canvas(n.target).type,B==="AWS.VPC.InternetGateway"&&(P=!0,O.push(t)),B==="AWS.VPC.VPNGateway"&&(P=!0,M.push(t)))}),P===!1&&D.push(t)}),r["AWS.VPC.RouteTable"]=_.unique(O.concat(M,D)),$.each(r["AWS.VPC.RouteTable"],function(e,t){$canvas(t).position((e+1)*A[0]+(e+1)*L+C,k)}))}var j=y.children,F=0;j!==undefined&&j.length>1&&r["AWS.ELB"]!==undefined&&(F=j[0].coordinate[1]+j[0].size[1],j[2]&&(j[2].size[1]>j[0].size[1]?(j[2].coordinate=[j[0].coordinate[0]+j[0].size[0]+5,j[0].coordinate[1]],j[0].coordinate=[j[0].coordinate[0],j[0].coordinate[1]+(j[2].size[1]-j[0].size[1])/2],F=j[2].coordinate[1]+j[2].size[1]):j[2].coordinate=[j[0].coordinate[0]+j[0].size[0]+5,j[0].coordinate[1]+j[0].size[1]-j[2].size[1]]),j[1]&&(j[1].coordinate[1]=F+15),j[3]&&(j[3].coordinate=[j[1].coordinate[0]+j[1].size[0]+5,j[1].coordinate[1]])),r["AWS.ELB"]!==undefined&&(r["AWS.ELB"].sort(function(e,t){return e=$canvas(e).getModel().attributes.internal?"internal":"internet-facing",t=$canvas(t).getModel().attributes.internal?"internal":"internet-facing",t.localeCompare(e)}),j.length>1?$.each(r["AWS.ELB"],function(e,t){$canvas(t).position(h+e*10+e*10,F+5)}):$.each(r["AWS.ELB"],function(e,t){$canvas(t).position(h,j[0].coordinate[0]+(j[0].size[1]/2-5)+e*10)})),I(y,0,0),q(y),R(),r["AWS.VPC.InternetGateway"]!==undefined&&$canvas(r["AWS.VPC.InternetGateway"][0]).position(y.coordinate[0]-4,y.coordinate[1]+y.size[1]/2-4),r["AWS.VPC.VPNGateway"]!==undefined&&$canvas(r["AWS.VPC.VPNGateway"][0]).position(y.coordinate[0]+y.size[0]-4,y.coordinate[1]+y.size[1]/2-4),r["AWS.VPC.CustomerGateway"]!==undefined&&$.each(r["AWS.VPC.CustomerGateway"],function(e,t){$canvas(t).position(y.coordinate[0]+y.size[0]+8,y.coordinate[1]+e*11+y.size[1]/2-5)});var U=y.size[0]+80,z=y.size[1]+50;return $canvas.size(U<180?180:U,z<150?150:z),!0},e.canvas.benchmark=function(t){var n=2,r=2,i=8,s=8,o=2,u=Math.ceil(Math.sqrt(t)),a=t===0?0:Math.ceil(t/u),f=$canvas.scale(),l=0,c=0,h=0,p=$canvas.add("AWS.EC2.AvailabilityZone",{name:"us-east-1a"},{x:5,y:5});for(;h<t;h++)l>=u&&(l=0,c++),$canvas.add("AWS.EC2.Instance",{imageId:"ami-cde4bca4",cachedAmi:{osType:"amazon",architecture:"i386",rootDeviceType:"ebs"},groupUId:p},{x:i+l*9+l*n+o,y:s+c*9+c*r+o}),l++;$canvas(p).size(u*(9+n)+8,a*(9+r)+8),e.canvas.updateResizer($("#"+p)[0],u*(9+n)+8,a*(9+r)+8),canvas_size=[u*(9+n)+50,a*(9+r)+50],$("#svg_canvas").attr({width:canvas_size[0]*e.canvas.GRID_WIDTH/f,height:canvas_size[1]*e.canvas.GRID_HEIGHT/f}),$("#canvas_container, #canvas_body").css({width:canvas_size[0]*e.canvas.GRID_WIDTH/f,height:canvas_size[1]*e.canvas.GRID_HEIGHT/f}),$canvas.size(canvas_size[0],canvas_size[1])}}),define("MC.canvas.constant",["i18n!nls/lang.js","MC.canvas"],function(e){var t={GRID_WIDTH:10,GRID_HEIGHT:10,COMPONENT_WIDTH:100,COMPONENT_HEIGHT:100,COMPONENT_SIZE:{"AWS.ELB":[9,9],"AWS.EC2.Instance":[9,9],"AWS.EC2.EBS.Volume":[10,10],"AWS.VPC.NetworkInterface":[9,9],"AWS.VPC.CustomerGateway":[17,10],"AWS.VPC.RouteTable":[8,8],"AWS.VPC.InternetGateway":[8,8],"AWS.VPC.VPNGateway":[8,8],"AWS.AutoScaling.LaunchConfiguration":[9,9],"AWS.AutoScaling.Group":[13,13]},COMPONENT_TYPE:{"AWS.ELB":"node","AWS.EC2.Instance":"node","AWS.VPC.NetworkInterface":"node","AWS.VPC.CustomerGateway":"node","AWS.VPC.RouteTable":"node","AWS.VPC.InternetGateway":"node","AWS.VPC.VPNGateway":"node","AWS.AutoScaling.LaunchConfiguration":"node","AWS.EC2.AvailabilityZone":"group","AWS.VPC.Subnet":"group","AWS.VPC.VPC":"group","AWS.EC2.SGPlaceholder":"group","AWS.AutoScaling.Group":"group",node:["AWS.ELB","AWS.EC2.Instance","AWS.VPC.NetworkInterface","AWS.VPC.CustomerGateway","AWS.VPC.RouteTable","AWS.VPC.InternetGateway","AWS.VPC.VPNGateway","AWS.AutoScaling.LaunchConfiguration"],group:["AWS.EC2.AvailabilityZone","AWS.VPC.Subnet","AWS.VPC.VPC","AWS.EC2.SGPlaceholder","AWS.AutoScaling.Group"]},GROUP_DEFAULT_SIZE:{"AWS.VPC.VPC":[60,60],"AWS.EC2.AvailabilityZone":[21,21],"AWS.VPC.Subnet":[17,17],"AWS.AutoScaling.Group":[13,13]},SG_MAX_NUM:5,SG_COLORS:["f26c4f","7dc476","00bef2","615ca8","fcec00","ff9900","ffcc00","ffcc99","ff99ff","00cccc","99cc99","9999ff","ffff99","ff00ff","663300","336600","660066","003300","0000ff","666600"],GROUP_PADDING:2,IMAGE:{INSTANCE_VOLUME_ATTACHED_ACTIVE:MC.IMG_URL+"ide/icon/instance-volume-attached-active.png",INSTANCE_VOLUME_ATTACHED_NORMAL:MC.IMG_URL+"ide/icon/instance-volume-attached-normal.png",INSTANCE_VOLUME_NOT_ATTACHED:MC.IMG_URL+"ide/icon/instance-volume-not-attached.png",EIP_ON:MC.IMG_URL+"ide/icon/eip-on.png",EIP_OFF:MC.IMG_URL+"ide/icon/eip-off.png",ELB_INTERNAL_CANVAS:MC.IMG_URL+"ide/icon/elb-internal-canvas.png",ELB_INTERNET_CANVAS:MC.IMG_URL+"ide/icon/elb-internet-canvas.png",ENI_CANVAS_ATTACHED:MC.IMG_URL+"ide/icon/eni-canvas-attached.png",ENI_CANVAS_UNATTACHED:MC.IMG_URL+"ide/icon/eni-canvas-unattached.png",RT_CANVAS_MAIN:MC.IMG_URL+"ide/icon/rt-main-canvas.png",RT_CANVAS_NOT_MAIN:MC.IMG_URL+"ide/icon/rt-canvas.png"},MINDIST:20,TOL:.1,TOLxTOL:.01,TOGGLE_DIST:5,GROUP_MIN_PADDING:120,STOKE_WIDTH_AZ:2,STOKE_WIDTH_SUBNET:2,STOKE_WIDTH_VPC:4,PATH_PORT_LEFT:"M-8 0.5l6 -5.5l2 0 l0 11 l-2 0z",PATH_PORT_TOP:"M0.5 0l5.5 0l0 -2l-5.5 -6l-5.5 6l0 2z",PATH_PORT_RIGHT:"M8 0.5l-6 -5.5l-2 0 l0 11 l2 0z",PATH_PORT_BOTTOM:"M0.5 0l5.5 0l0 2l-5.5 6l-5.5 -6l0 -2z",PATH_PORT_DIAMOND:"M-5 0.5l5.5 -5.5l5.5 5.5 l-5.5 5.5z",PATH_ASG_TITLE:"M0 21l0 -16a5 5 0 0 1 5 -5l121 0a5 5 0 0 1 5 5l0 16z",PORT_PADDING:4,CORNER_RADIUS:8,PORT_RIGHT_ANGLE:0,PORT_UP_ANGLE:90,PORT_LEFT_ANGLE:180,PORT_DOWN_ANGLE:270,PORT_RIGHT_ROTATE:"",PORT_UP_ROTATE:", rotate(90,4,5)",PORT_LEFT_ROTATE:", rotate(180,4,5.5)",PORT_DOWN_ROTATE:", rotate(270,4,5)",COLOR_BLUE:"#6DAEFE",COLOR_GREEN:"#12CD4F",COLOR_GRAY:"#d8d7d6",COLOR_PURPLE:"#bf7aa5",LINE_COLOR:{sg:"#6DAEFE",attachment:"#12CD4F",association:"#d8d7d6",vpn:"#bf7aa5"},GROUP_LABEL_OFFSET:-6,GROUP_LABEL_COORDINATE:{"AWS.VPC.VPC":[6,16],"AWS.EC2.AvailabilityZone":[4,14],"AWS.VPC.Subnet":[4,14],"AWS.AutoScaling.Group":[4,14]},GROUP_WEIGHT:{"AWS.VPC.VPC":["AWS.EC2.AvailabilityZone","AWS.VPC.Subnet","AWS.AutoScaling.Group"],"AWS.EC2.AvailabilityZone":["AWS.VPC.Subnet","AWS.AutoScaling.Group"],"AWS.VPC.Subnet":["AWS.AutoScaling.Group"],"AWS.AutoScaling.Group":[]},GROUP_PARENT:{"AWS.VPC.VPC":"","AWS.EC2.AvailabilityZone":"AWS.VPC.VPC","AWS.VPC.Subnet":"AWS.EC2.AvailabilityZone","AWS.AutoScaling.Group":"AWS.VPC.Subnet"},PLATFORM_TYPE:{EC2_CLASSIC:"ec2-classic",CUSTOM_VPC:"custom-vpc",DEFAULT_VPC:"default-vpc",EC2_VPC:"ec2-vpc"},MATCH_PLACEMENT:{"ec2-classic":{"AWS.ELB":["Canvas"],"AWS.EC2.AvailabilityZone":["Canvas"],"AWS.EC2.Instance":["AWS.AutoScaling.Group","AWS.EC2.AvailabilityZone"],"AWS.EC2.EBS.Volume":["AWS.EC2.AvailabilityZone"],"AWS.AutoScaling.Group":["AWS.EC2.AvailabilityZone"]},"default-vpc":{"AWS.ELB":["Canvas"],"AWS.EC2.AvailabilityZone":["Canvas"],"AWS.EC2.Instance":["AWS.AutoScaling.Group","AWS.EC2.AvailabilityZone"],"AWS.EC2.EBS.Volume":["AWS.EC2.AvailabilityZone"],"AWS.VPC.NetworkInterface":["AWS.EC2.AvailabilityZone"],"AWS.AutoScaling.Group":["AWS.EC2.AvailabilityZone"]},"custom-vpc":{"AWS.ELB":["AWS.VPC.VPC"],"AWS.EC2.Instance":["AWS.AutoScaling.Group","AWS.VPC.Subnet"],"AWS.EC2.EBS.Volume":["AWS.VPC.Subnet"],"AWS.VPC.NetworkInterface":["AWS.VPC.Subnet"],"AWS.VPC.CustomerGateway":["Canvas"],"AWS.VPC.RouteTable":["AWS.VPC.VPC"],"AWS.VPC.InternetGateway":["AWS.VPC.VPC"],"AWS.VPC.VPNGateway":["AWS.VPC.VPC"],"AWS.EC2.AvailabilityZone":["AWS.VPC.VPC"],"AWS.VPC.Subnet":["AWS.EC2.AvailabilityZone"],"AWS.VPC.VPC":["Canvas"],"AWS.AutoScaling.Group":["AWS.VPC.Subnet"]},"ec2-vpc":{"AWS.ELB":["AWS.VPC.VPC"],"AWS.EC2.Instance":["AWS.AutoScaling.Group","AWS.VPC.Subnet"],"AWS.EC2.EBS.Volume":["AWS.VPC.Subnet"],"AWS.VPC.NetworkInterface":["AWS.VPC.Subnet"],"AWS.VPC.CustomerGateway":["Canvas"],"AWS.VPC.RouteTable":["AWS.VPC.VPC"],"AWS.VPC.InternetGateway":["AWS.VPC.VPC"],"AWS.VPC.VPNGateway":["AWS.VPC.VPC"],"AWS.EC2.AvailabilityZone":["AWS.VPC.VPC"],"AWS.VPC.Subnet":["AWS.EC2.AvailabilityZone"],"AWS.VPC.VPC":["Canvas"],"AWS.AutoScaling.Group":["AWS.VPC.Subnet"]}},CONNECTION_OPTION:{"AWS.EC2.Instance":{"AWS.AutoScaling.LaunchConfiguration":{type:"sg",from:"instance-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.AutoScaling.Group":[{type:"sg",from:"instance-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}],"AWS.EC2.Instance":{type:"sg",from:"instance-sg",to:"instance-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.ELB":[{type:"elb-sg",from:"instance-sg",to:"elb-sg-out",direction:{from:"horizontal"},relation:"multiple"},{type:"sg",from:"instance-sg",to:"elb-sg-in",direction:{from:"horizontal"},relation:"multiple"}],"AWS.VPC.NetworkInterface":[{type:"attachment",from:"instance-attach",to:"eni-attach",relation:"multiple"},{type:"sg",from:"instance-sg",to:"eni-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}],"AWS.VPC.RouteTable":{type:"rtb-target",from:"instance-rtb",to:"rtb-tgt",direction:{to:"horizontal"},relation:"multiple",dash_line:!0}},"AWS.ELB":{"AWS.EC2.Instance":[{type:"elb-sg",from:"elb-sg-out",to:"instance-sg",direction:{to:"horizontal"},relation:"multiple"},{type:"sg",from:"elb-sg-in",to:"instance-sg",direction:{to:"horizontal"},relation:"multiple"}],"AWS.VPC.NetworkInterface":[{type:"sg",from:"elb-sg-in",to:"eni-sg",direction:{to:"horizontal"},relation:"multiple"}],"AWS.AutoScaling.LaunchConfiguration":[{type:"elb-sg",from:"elb-sg-out",to:"launchconfig-sg",direction:{to:"horizontal"},relation:"multiple"},{type:"sg",from:"elb-sg-in",to:"launchconfig-sg",direction:{to:"horizontal"},relation:"multiple"}],"AWS.AutoScaling.Group":[{type:"elb-sg",from:"elb-sg-out",to:"launchconfig-sg",direction:{to:"horizontal"},relation:"multiple"},{type:"sg",from:"elb-sg-in",to:"launchconfig-sg",direction:{to:"horizontal"},relation:"multiple"}],"AWS.VPC.Subnet":{type:"association",from:"elb-assoc",to:"subnet-assoc-in",relation:"multiple"}},"AWS.VPC.NetworkInterface":{"AWS.ELB":[{type:"sg",from:"eni-sg",to:"elb-sg-in",direction:{from:"horizontal"},relation:"multiple"}],"AWS.AutoScaling.LaunchConfiguration":{type:"sg",from:"eni-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.AutoScaling.Group":[{type:"sg",from:"eni-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}],"AWS.EC2.Instance":[{type:"sg",from:"eni-sg",to:"instance-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},{type:"attachment",from:"eni-attach",to:"instance-attach",relation:"unique"}],"AWS.VPC.NetworkInterface":[{type:"sg",from:"eni-sg",to:"eni-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}],"AWS.VPC.RouteTable":{type:"rtb-target",from:"eni-rtb",to:"rtb-tgt",direction:{to:"horizontal"},relation:"multiple",dash_line:!0}},"AWS.VPC.RouteTable":{"AWS.VPC.Subnet":{type:"association",from:"rtb-src",to:"subnet-assoc-out",direction:{from:"vertical"},relation:"multiple"},"AWS.EC2.Instance":{type:"rtb-target",from:"rtb-tgt",to:"instance-rtb",direction:{from:"horizontal"},relation:"multiple",dash_line:!0},"AWS.VPC.NetworkInterface":{type:"rtb-target",from:"rtb-tgt",to:"eni-rtb",direction:{from:"horizontal"},relation:"multiple",dash_line:!0},"AWS.VPC.InternetGateway":{type:"rtb-target",from:"rtb-tgt",to:"igw-tgt",direction:{from:"horizontal"},relation:"multiple",dash_line:!0},"AWS.VPC.VPNGateway":{type:"rtb-target",from:"rtb-tgt",to:"vgw-tgt",direction:{from:"horizontal"},relation:"multiple",dash_line:!0}},"AWS.VPC.InternetGateway":{"AWS.VPC.RouteTable":{type:"rtb-target",from:"igw-tgt",to:"rtb-tgt",direction:{to:"horizontal"},dash_line:!0,relation:"multiple"}},"AWS.VPC.VPNGateway":{"AWS.VPC.RouteTable":{type:"rtb-target",from:"vgw-tgt",to:"rtb-tgt",direction:{to:"horizontal"},dash_line:!0,relation:"multiple"},"AWS.VPC.CustomerGateway":{type:"vpn",from:"vgw-vpn",to:"cgw-vpn",relation:"multiple"}},"AWS.VPC.CustomerGateway":{"AWS.VPC.VPNGateway":{type:"vpn",from:"cgw-vpn",to:"vgw-vpn",relation:"unique"}},"AWS.VPC.Subnet":{"AWS.VPC.RouteTable":{type:"association",from:"subnet-assoc-out",to:"rtb-src",direction:{to:"vertical"},relation:"multiple"},"AWS.ELB":{type:"association",from:"subnet-assoc-in",to:"elb-assoc",relation:"multiple"}},"AWS.AutoScaling.LaunchConfiguration":{"AWS.AutoScaling.LaunchConfiguration":{type:"sg",from:"launchconfig-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.EC2.Instance":{type:"sg",from:"launchconfig-sg",to:"instance-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.VPC.NetworkInterface":{type:"sg",from:"launchconfig-sg",to:"eni-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.ELB":[{type:"elb-sg",from:"launchconfig-sg",to:"elb-sg-out",direction:{from:"horizontal"},relation:"multiple"},{type:"sg",from:"launchconfig-sg",to:"elb-sg-in",direction:{from:"horizontal"},relation:"multiple"}]},"AWS.AutoScaling.Group":{"AWS.AutoScaling.LaunchConfiguration":{type:"sg",from:"launchconfig-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.AutoScaling.Group":{type:"sg",from:"launchconfig-sg",to:"launchconfig-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"},"AWS.ELB":[{type:"elb-sg",from:"launchconfig-sg",to:"elb-sg-out",direction:{from:"horizontal"},relation:"multiple"},{type:"sg",from:"launchconfig-sg",to:"elb-sg-in",direction:{from:"horizontal"},relation:"multiple"}],"AWS.EC2.Instance":[{type:"sg",from:"launchconfig-sg",to:"instance-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}],"AWS.VPC.NetworkInterface":[{type:"sg",from:"launchconfig-sg",to:"eni-sg",direction:{from:"horizontal",to:"horizontal"},relation:"multiple"}]}},STACK_PROPERTY:{original_json:"",selected_node:[]},STACK_JSON:{id:"",name:"",description:"",region:"",platform:"ec2-vpc",state:"Enabled",username:"",owner:"",version:"2013-09-04",tag:"",usage:"",component:{},layout:{size:[240,240],component:{group:{},node:{}},connection:{}},history:{time:{created:0,updatd:0}},property:{stoppable:"true",schedule:{stop:{run:null,when:null,during:null},backup:{day:null,when:null},start:{when:null}},policy:{ha:""},lease:{length:null,action:"",due:null}}},DESIGN_INIT_LAYOUT:{size:[240,240]},DESIGN_INIT_LAYOUT_VPC:{size:[240,240],component:{group:{VPC:{coordinate:[5,3],size:[60,60]}},node:{RTB:{coordinate:[50,5]}}}},DESIGN_INIT_DATA:{KP:{type:"AWS.EC2.KeyPair",name:"DefaultKP",resource:{KeyName:"DefaultKP"}},SG:{type:"AWS.EC2.SecurityGroup",name:"DefaultSG",resource:{IpPermissions:[{IpProtocol:"tcp",IpRanges:"0.0.0.0/0",FromPort:"22",ToPort:"22",Groups:[{GroupId:"",UserId:"",GroupName:""}]}],IpPermissionsEgress:[{FromPort:"0",IpProtocol:"-1",IpRanges:"0.0.0.0/0",ToPort:"65535"}],Default:"true",GroupName:"DefaultSG",GroupDescription:"Default Security Group"}}},DESIGN_INIT_DATA_VPC:{KP:{type:"AWS.EC2.KeyPair",name:"DefaultKP",resource:{KeyName:"DefaultKP"}},SG:{type:"AWS.EC2.SecurityGroup",name:"DefaultSG",resource:{IpPermissions:[{IpProtocol:"tcp",IpRanges:"0.0.0.0/0",FromPort:"22",ToPort:"22",Groups:[{GroupId:"",UserId:"",GroupName:""}]}],IpPermissionsEgress:[{FromPort:"0",IpProtocol:"-1",IpRanges:"0.0.0.0/0",ToPort:"65535"}],Default:"true",GroupName:"DefaultSG",GroupDescription:"Default Security Group"}},ACL:{type:"AWS.VPC.NetworkAcl",name:"DefaultACL",resource:{RouteTableId:"",NetworkAclId:"",VpcId:"",Default:"true",EntrySet:[{RuleAction:"allow",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:!0,IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"100"},{RuleAction:"deny",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:!0,IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"32767"},{RuleAction:"allow",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:!1,IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"100"},{RuleAction:"deny",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:!1,IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"32767"}],AssociationSet:[]}},VPC:{type:"AWS.VPC.VPC",name:"vpc",resource:{}},RTB:{type:"AWS.VPC.RouteTable",resource:{PropagatingVgwSet:[],RouteSet:[{State:"active",Origin:"CreateRouteTable",GatewayId:"local",DestinationCidrBlock:"10.0.0.0/16"}],AssociationSet:[{Main:"true"}]}}},AZ_JSON:{layout:{uid:"",type:"AWS.EC2.AvailabilityZone",coordinate:[0,0],size:[480,240],name:"",groupUId:""}},INSTANCE_JSON:{layout:{uid:"",type:"AWS.EC2.Instance",coordinate:[0,0],osType:"",architecture:"",rootDeviceType:"",virtualizationType:"",groupUId:"",connection:[],instanceList:[],volumeList:{},eipList:null,eniList:[]},data:{uid:"",type:"AWS.EC2.Instance",name:"",serverGroupUid:"",serverGroupName:"",number:1,index:0,state:"",software:{},resource:{RamdiskId:"",InstanceId:"",DisableApiTermination:"false",ShutdownBehavior:"terminate",SecurityGroupId:[],SecurityGroup:[],UserData:{Base64Encoded:"false",Data:""},ImageId:"",Placement:{Tenancy:"",AvailabilityZone:"",GroupName:""},PrivateIpAddress:"",BlockDeviceMapping:[],KernelId:"",SubnetId:"",KeyName:"",VpcId:"",InstanceType:"",Monitoring:"disabled",EbsOptimized:"false",NetworkInterface:[]}}},KP_JSON:{data:{uid:"",type:"AWS.EC2.KeyPair",name:"DefaultKP",resource:{KeyFingerprint:"",KeyName:"DefaultKP"}}},SG_JSON:{data:{uid:"",type:"AWS.EC2.SecurityGroup",name:"DefaultSG",resource:{IpPermissions:[{IpProtocol:"tcp",IpRanges:"0.0.0.0/0",FromPort:"22",ToPort:"22",Groups:[{GroupId:"",UserId:"",GroupName:""}]}],IpPermissionsEgress:[{FromPort:"0",IpProtocol:"-1",IpRanges:"0.0.0.0/0",ToPort:"65535"}],GroupId:"",Default:"true",VpcId:"",GroupName:"DefaultSG",OwnerId:"",GroupDescription:"Default Security Group"}}},EIP_JSON:{data:{uid:"",type:"AWS.EC2.EIP",name:"",resource:{InstanceId:"",PrivateIpAddress:"",NetworkInterfaceId:"",NetworkInterfaceOwnerId:"",AllowReassociation:"",Domain:"standard",AssociationId:"",PublicIp:"",AllocationId:""}}},VOLUME_JSON:{data:{uid:"",type:"AWS.EC2.EBS.Volume",name:"/dev/sdf",serverGroupUid:"",serverGroupName:"",number:1,index:0,resource:{VolumeId:"",CreateTime:"",AvailabilityZone:"",Size:"1",Status:"",SnapshotId:"",Iops:"",AttachmentSet:{VolumeId:"",Status:"",AttachTime:"",InstanceId:"",DeleteOnTermination:"true",Device:"/dev/sdf"},VolumeType:"standard"}}},ELB_JSON:{layout:{uid:"",type:"AWS.ELB",coordinate:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.ELB",name:"",resource:{HealthCheck:{Timeout:"5",Target:"HTTP:80/index.html",HealthyThreshold:"9",UnhealthyThreshold:"4",Interval:"30"},Policies:{AppCookieStickinessPolicies:[{CookieName:"",PolicyName:""}],OtherPolicies:[],LBCookieStickinessPolicies:[{CookieExpirationPeriod:"",PolicyName:""}]},BackendServerDescriptions:[{InstantPort:"",PoliciyNames:""}],SecurityGroups:[],CreatedTime:"",CanonicalHostedZoneNameID:"",ListenerDescriptions:[{PolicyNames:"",Listener:{LoadBalancerPort:"80",InstanceProtocol:"HTTP",Protocol:"HTTP",SSLCertificateId:"",InstancePort:"80"}}],DNSName:"",Scheme:"",CanonicalHostedZoneName:"",Instances:[],SourceSecurityGroup:{OwnerAlias:"",GroupName:""},Subnets:[],VpcId:"",LoadBalancerName:"",AvailabilityZones:[],CrossZoneLoadBalancing:"false"}}},VPC_JSON:{layout:{uid:"",type:"AWS.VPC.VPC",coordinate:[0,0],size:[0,0],connection:[]},data:{uid:"",type:"AWS.VPC.VPC",name:"vpc",resource:{EnableDnsHostnames:"false",DhcpOptionsId:"",CidrBlock:"10.0.0.0/16",State:"",InstanceTenancy:"default",VpcId:"",IsDefault:"false",EnableDnsSupport:"true"}}},SUBNET_JSON:{layout:{uid:"",type:"AWS.VPC.Subnet",coordinate:[0,0],size:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.VPC.Subnet",name:"subnet1",resource:{AvailabilityZone:"",CidrBlock:"10.0.0.0/24",SubnetId:"",VpcId:"",AvailableIpAddressCount:"",State:""}}},IGW_JSON:{layout:{uid:"",type:"AWS.VPC.InternetGateway",coordinate:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.VPC.InternetGateway",name:"IGW",resource:{InternetGatewayId:"",AttachmentSet:[{VpcId:"",State:"available"}]}}},ROUTETABLE_JSON:{layout:{uid:"",type:"AWS.VPC.RouteTable",coordinate:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.VPC.RouteTable",name:"",resource:{VpcId:"",PropagatingVgwSet:[],RouteSet:[{State:"active",Origin:"CreateRouteTable",InstanceId:"",InstanceOwnerId:"",GatewayId:"local",NetworkInterfaceId:"",DestinationCidrBlock:"10.0.0.0/16"}],RouteTableId:"",AssociationSet:[]}}},VGW_JSON:{layout:{uid:"",type:"AWS.VPC.VPNGateway",coordinate:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.VPC.VPNGateway",name:"VGW",resource:{Attachments:[{VpcId:"",State:"attached"}],Type:"ipsec.1",AvailabilityZone:"",VpnGatewayId:"",State:"available"}}},CGW_JSON:{layout:{uid:"",type:"AWS.VPC.CustomerGateway",networkName:"",coordinate:[0,0],groupUId:"",connection:[]},data:{uid:"",type:"AWS.VPC.CustomerGateway",name:"CustomerNetwork1",resource:{Type:"ipsec.1",BgpAsn:"",CustomerGatewayId:"",State:"available",IpAddress:""}}},ENI_JSON:{layout:{uid:"",type:"AWS.VPC.NetworkInterface",coordinate:[0,0],groupUId:"",connection:[],eniList:[],eipList:{}},data:{uid:"",type:"AWS.VPC.NetworkInterface",name:"eni1",serverGroupUid:"",serverGroupName:"",number:1,index:0,resource:{PrivateIpAddressSet:[{Association:{AssociationID:"",PublicDnsName:"",AllocationID:"",InstanceId:"",IpOwnerId:"",PublicIp:""},PrivateIpAddress:"10.0.0.1",AutoAssign:"true",Primary:"true"}],Status:"",GroupSet:[],PrivateDnsName:"",SourceDestCheck:"true",RequestId:"",MacAddress:"",OwnerId:"",RequestManaged:"",SecondPriIpCount:"",Attachment:{InstanceId:"",AttachmentId:"",DeviceIndex:"1",AttachTime:""},AvailabilityZone:"",SubnetId:"",Description:"",VpcId:"",PrivateIpAddress:"",NetworkInterfaceId:""}}},DHCP_JSON:{data:{uid:"",type:"AWS.VPC.DhcpOptions",name:"default",resource:{VpcId:"",DhcpOptionsId:"",DhcpConfigurationSet:[{Key:"domain-name-servers",ValueSet:[{Value:"AmazonProvidedDNS"}]}]}}},VPN_JSON:{data:{uid:"",type:"AWS.VPC.VPNConnection",name:"VPN",resource:{CustomerGatewayConfiguration:"",Routes:[],State:"",VgwTelemetry:{StatusMessage:"",LastStatusChange:"",OutsideIpAddress:"",Status:"",AcceptRouteCount:""},Type:"ipsec.1",VpnGatewayId:"",Options:{StaticRoutesOnly:"true"},CustomerGatewayId:"",VpnConnectionId:""}}},ACL_JSON:{data:{uid:"",type:"AWS.VPC.NetworkAcl",name:"DefaultACL",resource:{RouteTableId:"",NetworkAclId:"",VpcId:"",Default:"false",EntrySet:[{RuleAction:"allow",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:"true",IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"100"},{RuleAction:"deny",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:"true",IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"32767"},{RuleAction:"allow",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:"false",IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"100"},{RuleAction:"deny",Protocol:"-1",CidrBlock:"0.0.0.0/0",Egress:"false",IcmpTypeCode:{Type:"",Code:""},PortRange:{To:"",From:""},RuleNumber:"32767"}],AssociationSet:[]}}},SRVCERT_JSON:{data:{uid:"",type:"AWS.IAM.ServerCertificate",name:"iam-name",resource:{PrivateKey:"private-key",ServerCertificateMetadata:{UploadDate:"",ServerCertificateName:"iam-name",ServerCertificateId:"",Arn:"",Path:""},CertificateBody:"public-key",CertificateChain:""}}},ASG_JSON:{layout:{uid:"",type:"AWS.AutoScaling.Group",coordinate:[0,0],size:[13,13],groupUId:"",originalId:"",connection:[]},data:{type:"AWS.AutoScaling.Group",name:"",uid:"",resource:{AutoScalingGroupARN:"",AutoScalingGroupName:"",AvailabilityZones:[],CreatedTime:"",DefaultCooldown:"300",DesiredCapacity:"",EnabledMetrics:[{Granularity:"",Metric:""}],HealthCheckGracePeriod:"300",HealthCheckType:"EC2",Instances:[],LaunchConfigurationName:"",LoadBalancerNames:[],MaxSize:"2",MinSize:"1",PlacementGroup:"",Status:"",SuspendedProcesses:[{ProcessName:"",SuspensionReason:""}],Tags:"",TerminationPolicies:["Default"],VPCZoneIdentifier:"",InstanceId:"",ShouldDecrementDesiredCapacity:""}}},ASL_LC_JSON:{layout:{uid:"",type:"AWS.AutoScaling.LaunchConfiguration",coordinate:[0,0],osType:"",architecture:"",rootDeviceType:"",groupUId:"",originalId:"",connection:[]},data:{name:"",uid:"",type:"AWS.AutoScaling.LaunchConfiguration",resource:{BlockDeviceMapping:[],CreatedTime:"",EbsOptimized:"",IamInstanceProfile:"",ImageId:"",InstanceMonitoring:"",InstanceType:"",KernelId:"",KeyName:"",LaunchConfigurationARN:"",LaunchConfigurationName:"",RamdiskId:"",SecurityGroups:[],SpotPrice:"",UserData:""}}},ASL_VOL_JSON:{DeviceName:"",Ebs:{VolumeSize:0}},ASL_NC_JSON:{data:{type:"AWS.AutoScaling.NotificationConfiguration",name:"",uid:"",resource:{AutoScalingGroupName:"",NotificationType:[],TopicARN:""}}},ASL_SP_JSON:{data:{type:"AWS.AutoScaling.ScalingPolicy",name:"",uid:"",resource:{AdjustmentType:"",Alarms:[{AlarmARN:"",AlarmName:""}],AutoScalingGroupName:"",Cooldown:"",MinAdjustmentStep:"",PolicyARN:"",PolicyName:"",ScalingAdjustment:""}}},ASL_SA_JSON:{data:{type:"AWS.AutoScaling.ScheduledActions",name:"",uid:"",resource:{AutoScalingGroupName:"",DesiredCapacity:"",EndTime:"",MaxSize:"",MinSize:"",Recurrence:"",ScheduledActionName:"",StartTime:""}}},CLW_JSON:{data:{type:"AWS.CloudWatch.CloudWatch",name:"",uid:"",resource:{ActionEnabled:"",AlarmActions:[],AlarmArn:"",AlarmConfigurationUpdatedTimestamp:"",AlarmDescription:"",AlarmName:"",ComparisonOperator:"",Dimensions:[{name:"",value:""}],EvaluationPeriods:"",InsufficientDataActions:[],MetricName:"",Namespace:"AWS/AutoScaling",OKAction:[],Period:"",StateReason:"",StateReasonData:"",StateUpdateTimestamp:"",StateValue:"",Statistic:"Average",Threshold:"",Unit:""}}},SNS_SUB_JSON:{data:{type:"AWS.SNS.Subscription",name:"",uid:"",resource:{Endpoint:"",TopicArn:"",Protocol:"",DeliveryPolicy:"",SubscriptionArn:""}}},SNS_TOPIC_JSON:{data:{type:"AWS.SNS.Topic",name:"",uid:"",resource:{Name:"",TopicArn:"",Policy:"",DisplayName:"",DeliveryPolicy:""}}}};for(var n in t)MC.canvas[n]=t[n]}),define("MC.validate",["MC"],function(e){var t=function(e,t,n){return Function.call.apply(Array.prototype.slice,arguments)},n={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,alphanum:/^\w+$/,digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,awsName:/^[a-zA-Z0-9][a-zA-Z0-9-]*$/,phone:/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/,usPhone:/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/,ipv4:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,cidr:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(\d|[1-2]\d|3[0-2]))$/,awsCidr:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([1][6-9]|[2][0-8]))$/,ipaddress:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(\d|[1-2]\d|3[0-2]))?$/,url:/^(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,urlstrict:/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,arn:/^arn:aws:sns:[\w-]+:.+$/,sqs:/^arn:aws:sqs:[\w-]+:\d{12}:.+$/,deviceLinux:/^\/dev\/(hd[a-z]([1-9]|1[0-5])|(sd[a-z]|sd[b-z]([1-9]|1[0-5])))$/,deviceWindows:/^xvd[f-p]$/};e.validate=function(){var r=arguments[0];if(r in e.validate)return e.validate[r].apply(e.validate,t(arguments,1));if(r in n)return n[r].test(t(arguments,1,2));throw"the validate method: ["+r+"] doesn't exist"},e.validate.required=function(e){return!!e},e.validate.equal=function(e,t){return e===t},e.validate.exist=function(e,t){if(Array.prototype.indexOf&&Array.prototype.indexOf===t.indexOf)return t.indexOf(e)!==-1;var n=0;for(;n<t.length;n++)if(t[n]===e)break;return n!==t.length},e.validate.range=function(e,t){return e>=t[0]&&e<=t[1]},e.validate.http=function(e){return n.urlstrict.test(e)&&e.slice(0,4)==="http"},e.validate.https=function(e){return n.urlstrict.test(e)&&e.slice(0,5)==="https"},e.validate.deviceName=function(e,t,r){return t==="linux"?(r&&(e="/dev/"+e),n.deviceLinux.test(e)):t==="windows"?(r&&(e="xvd"+e),n.deviceWindows.test(e)):!1},e.validate.preventDupname=function(t,n,r,i){$target=t instanceof $?t:$(t),arguments.length===3&&(i=r),$target.parsley("custom",function(t){if(t&&!e.validate("awsName",t))return"This value should be a valid "+i+" name.";if(!e.aws.aws.checkIsRepeatName(n,t))return i+' name " '+t+' " is already in using. Please use another one.'})},e.validate.portRange=function(e){var t=[];if(e.indexOf("-")===-1){if(!e||isNaN(Number(e)))return!1;t[0]=Number(e)}else{valueAry=e.split("-");if(valueAry.length!==2||!valueAry[0]||!valueAry[1])return!1;if(isNaN(Number(valueAry[0]))||isNaN(Number(valueAry[1])))return!1;t[0]=Number(valueAry[0]),t[1]=Number(valueAry[1])}return t},e.validate.portValidRange=function(e){if(e.length===1){port1=e[0];if(port1<0||port1>65535)return!1}else{port1=e[0],port2=e[1];if(port1<0||port1>65535||port2<0||port2>65535)return!1;if(port2<=port1)return!1}return!0},e.validate.port=function(e){var t=null;return!e||isNaN(Number(e))?!1:(t=Number(e),t)}}),function(){define("event",["underscore","backbone"],function(){var e,t;return e=function(){function e(){_.extend(this,Backbone.Events)}return e.prototype.NAVIGATION_COMPLETE="NAVIGATION_COMPLETE",e.prototype.HEADER_COMPLETE="HEADER_COMPLETE",e.prototype.DASHBOARD_COMPLETE="DASHBOARD_COMPLETE",e.prototype.DESIGN_COMPLETE="DESIGN_COMPLETE",e.prototype.RESOURCE_COMPLETE="RESOURCE_COMPLETE",e.prototype.DESIGN_SUB_COMPLETE="DESIGN_SUB_COMPLETE",e.prototype.IDE_AVAILABLE="IDE_AVAILABLE",e.prototype.LOGOUT_IDE="LOGOUT_IDE",e.prototype.OPEN_DESIGN="OPEN_DESIGN",e.prototype.OPEN_SUB_DESIGN="OPEN_SUB_DESIGN",e.prototype.CREATE_DESIGN_OBJ="CREATE_DESIGN_OBJ",e.prototype.OPEN_PROPERTY="OPEN_PROPERTY",e.prototype.FORCE_OPEN_PROPERTY="FORCE_OPEN_PROPERTY",e.prototype.REFRESH_PROPERTY="REFRESH_PROPERTY",e.prototype.RELOAD_AZ="RELOAD_AZ",e.prototype.RESOURCE_API_COMPLETE="RESOURCE_API_COMPLETE",e.prototype.SHOW_DESIGN_OVERLAY="SHOW_DESIGN_OVERLAY",e.prototype.HIDE_DESIGN_OVERLAY="HIDE_DESIGN_OVERLAY",e.prototype.UPDATE_RESOURCE_STATE="UPDATE_RESOURCE_STATE",e.prototype.SWITCH_TAB="SWITCH_TAB",e.prototype.SWITCH_DASHBOARD="SWITCH_DASHBOARD",e.prototype.SWITCH_PROCESS="SWITCH_PROCESS",e.prototype.SWITCH_LOADING_BAR="SWITCH_LOADING_BAR",e.prototype.SWITCH_WAITING_BAR="SWITCH_WAITING_BAR",e.prototype.SWITCH_MAIN="SWITCH_MAIN",e.prototype.ADD_TAB_DATA="ADD_TAB_DATA",e.prototype.DELETE_TAB_DATA="DELETE_TAB_DATA",e.prototype.UPDATE_TAB_DATA="UPDATE_TAB_DATA",e.prototype.OPEN_DESIGN_TAB="OPEN_DESIGN_TAB",e.prototype.CLOSE_DESIGN_TAB="CLOSE_DESIGN_TAB",e.prototype.UPDATE_DESIGN_TAB="UPDATE_DESIGN_TAB",e.prototype.UPDATE_DESIGN_TAB_ICON="UPDATE_DESIGN_TAB_ICON",e.prototype.UPDATE_DESIGN_TAB_TYPE="UPDATE_DESIGN_TAB_TYPE",e.prototype.HIDE_STATUS_BAR="HIDE_STATUS_BAR",e.prototype.UPDATE_STATUS_BAR="UPDATE_STATUS_BAR",e.prototype.UPDATE_TA_MODAL="UPDATE_TA_MODAL",e.prototype.UNLOAD_TA_MODAL="UNLOAD_TA_MODAL",e.prototype.TA_SYNC_START="TA_SYNC_START",e.prototype.TA_SYNC_FINISH="TA_SYNC_FINISH",e.prototype.RESULT_APP_LIST="RESULT_APP_LIST",e.prototype.RESULT_STACK_LIST="RESULT_STACK_LIST",e.prototype.RESULT_EMPTY_REGION_LIST="RESULT_EMPTY_REGION_LIST",e.prototype.UPDATE_DASHBOARD="UPDATE_DASHBOARD",e.prototype.UPDATE_REGION_THUMBNAIL="UPDATE_REGION_THUMBNAIL",e.prototype.RETURN_OVERVIEW_TAB="RETURN_OVERVIEW_TAB",e.prototype.RETURN_REGION_TAB="RETURN_REGION_TAB",e.prototype.APPEDIT_2_APP="APPEDIT_2_APP",e.prototype.RESTORE_CANVAS="RESTORE_CANVAS",e.prototype.ENABLE_RESOURCE_ITEM="ENABLE_RESOURCE_ITEM",e.prototype.DISABLE_RESOURCE_ITEM="DISABLE_RESOURCE_ITEM",e.prototype.SHOW_PROPERTY_PANEL="SHOW_PROPERTY_PANEL",e.prototype.PROPERTY_REFRESH_ENI_IP_LIST="PROPERTY_REFRESH_ENI_IP_LIST",e.prototype.PROPERTY_DISABLE_USER_DATA_INPUT="PROPERTY_DISABLE_USER_DATA_INPUT",e.prototype.UNDELEGATE_PROPERTY_DOM_EVENTS="UNDELEGATE_PROPERTY_DOM_EVENTS",e.prototype.CANVAS_CREATE_LINE="CANVAS_CREATE_LINE",e.prototype.CANVAS_DELETE_OBJECT="CANVAS_DELETE_OBJECT",e.prototype.CANVAS_UPDATE_APP_RESOURCE="CANVAS_UPDATE_APP_RESOURCE",e.prototype.CREATE_LINE_TO_CANVAS="CREATE_LINE_TO_CANVAS",e.prototype.DELETE_LINE_TO_CANVAS="DELETE_LINE_TO_CANVAS",e.prototype.REDRAW_SG_LINE="REDRAW_SG_LINE",e.prototype.UPDATE_SG_LINE="UPDATE_SG_LINE",e.prototype.START_APP="START_APP",e.prototype.STOP_APP="STOP_APP",e.prototype.TERMINATE_APP="TERMINATE_APP",e.prototype.DELETE_STACK="DELETE_STACK",e.prototype.DUPLICATE_STACK="DUPLICATE_STACK",e.prototype.SAVE_STACK="SAVE_STACK",e.prototype.UPDATE_APP_LIST="UPDATE_APP_LIST",e.prototype.UPDATE_STACK_LIST="UPDATE_STACK_LIST",e.prototype.UPDATE_STATUS_BAR_SAVE_TIME="UPDATE_STATUS_BAR_SAVE_TIME",e.prototype.UPDATE_APP_STATE="UPDATE_APP_STATE",e.prototype.CANVAS_SAVE="CANVAS_SAVE",e.prototype.NAVIGATION_TO_DASHBOARD_REGION="NAVIGATION_TO_DASHBOARD_REGION",e.prototype.RECONNECT_WEBSOCKET="RECONNECT_WEBSOCKET",e.prototype.WS_COLLECTION_READY_REQUEST="WS_COLLECTION_READY_REQUEST",e.prototype.UPDATE_REQUEST_ITEM="UPDATE_REQUEST_ITEM",e.prototype.UPDATE_IMPORT_ITEM="UPDATE_IMPORT_ITEM",e.prototype.RESOURCE_QUICKSTART_READY="RESOURCE_QUICKSTART_READY",e.prototype.SAVE_APP_THUMBNAIL="SAVE_APP_THUMBNAIL",e.prototype.UPDATE_PROCESS="UPDATE_PROCESS",e.prototype.UPDATE_HEADER="UPDATE_HEADER",e.prototype.UPDATE_REGION_RESOURCE="UPDATE_REGION_RESOURCE",e.prototype.UPDATE_AWS_CREDENTIAL="UPDATE_AWS_CREDENTIAL",e.prototype.ACCOUNT_DEMONSTRATE="ACCOUNT_DEMONSTRATE",e.prototype.UPDATE_APP_RESOURCE="UPDATE_APP_RESOURCE",e.prototype.UPDATE_APP_INFO="UPDATE_APP_INFO",e.prototype.UPDATE_STATE_STATUS_DATA="STATE_STATUS_DATA_UPDATE",e.prototype.UPDATE_STATE_STATUS_DATA_TO_EDITOR="UPDATE_STATE_STATUS_DATA_TO_EDITOR",e.prototype.STATE_EDITOR_SAVE_DATA="STATE_EDITOR_SAVE_DATA",e.prototype.GET_STATE_MODULE="GET_STATE_MODULE",e.prototype.SHOW_STATE_EDITOR="SHOW_STATE_EDITOR",e.prototype.STATE_EDITOR_DATA_UPDATE="STATE_EDITOR_DATA_UPDATE",e.prototype.onListen=function(e,t,n){return this.once(e,t,n)},e.prototype.onLongListen=function(e,t,n){return this.on(e,t,n)},e.prototype.offListen=function(e,t){return t?this.off(e,t):this.off(e)},e}(),t=new e,t})}.call(this),define("canvas_layout",["event","jquery","MC.canvas","MC.canvas.constant","canvon"],function(e){var t=function(){var e=MC.canvas.getState(),t=$("#canvas_container"),n=".CANVAS_EVENT";MC.paper=Canvon("#svg_canvas"),t.off(n).removeClass("canvas_state_app canvas_state_appedit canvas_state_stack canvas_state_appview").addClass("canvas_state_"+e),e==="app"&&t.on("mousedown"+n,".instance-volume, .instanceList-item-volume, .asgList-item-volume",MC.canvas.volume.show).on("click"+n,".line",MC.canvas.event.selectLine).on("mousedown"+n,MC.canvas.event.clearSelected).on("mousedown"+n,"#svg_canvas",MC.canvas.event.clickBlank).on("mouseenter"+n+" mouseleave"+n,".node",MC.canvas.event.nodeHover).on("selectstart"+n,!1).on("mousedown"+n,".dragable",MC.canvas.event.selectNode).on("mousedown"+n,".AWS-AutoScaling-LaunchConfiguration .instance-number-group",MC.canvas.asgList.show).on("mousedown"+n,".AWS-EC2-Instance .instance-number-group",MC.canvas.instanceList.show).on("mousedown"+n,".AWS-VPC-NetworkInterface .eni-number-group",MC.canvas.eniList.show).on("mousedown"+n,MC.canvas.event.ctrlMove.mousedown).on("mousedown"+n,"#node-action-wrap",MC.canvas.nodeAction.popup),e==="appedit"&&t.on("mousedown"+n,".instance-volume, .instanceList-item-volume, .asgList-item-volume",MC.canvas.volume.show).on("mousedown"+n,".port",MC.canvas.event.appDrawConnection).on("mousedown"+n,".dragable",MC.canvas.event.dragable.mousedown).on("mousedown"+n,".group-resizer",MC.canvas.event.groupResize.mousedown).on("click"+n,".line",MC.canvas.event.selectLine).on("mousedown"+n,MC.canvas.event.clearSelected).on("mousedown"+n,"#svg_canvas",MC.canvas.event.clickBlank).on("mouseenter"+n+" mouseleave"+n,".node",MC.canvas.event.nodeHover).on("selectstart"+n,!1).on("mousedown"+n,MC.canvas.event.ctrlMove.mousedown).on("mousedown"+n,"#node-action-wrap",MC.canvas.nodeAction.popup),e==="stack"&&t.on("mousedown"+n,".port",MC.canvas.event.drawConnection.mousedown).on("mousedown"+n,".dragable",MC.canvas.event.dragable.mousedown).on("mousedown"+n,".group-resizer",MC.canvas.event.groupResize.mousedown).on("mouseenter"+n+" mouseleave"+n,".node",MC.canvas.event.nodeHover).on("click"+n,".line",MC.canvas.event.selectLine).on("mousedown"+n,MC.canvas.event.clearSelected).on("mousedown"+n,"#svg_canvas",MC.canvas.event.clickBlank).on("selectstart"+n,!1).on("mousedown"+n,MC.canvas.event.ctrlMove.mousedown).on("mousedown"+n,"#node-action-wrap",MC.canvas.nodeAction.popup),e==="appview"&&t.on("mousedown"+n,".instance-volume, .instanceList-item-volume, .asgList-item-volume",MC.canvas.volume.show).on("mousedown"+n,".dragable",MC.canvas.event.dragable.mousedown).on("mousedown"+n,".group-resizer",MC.canvas.event.groupResize.mousedown).on("mouseenter"+n+" mouseleave"+n,".node",MC.canvas.event.nodeHover).on("click"+n,".line",MC.canvas.event.selectLine).on("mousedown"+n,".AWS-AutoScaling-LaunchConfiguration .instance-number-group",MC.canvas.asgList.show).on("mousedown"+n,MC.canvas.event.clearSelected).on("mousedown"+n,"#svg_canvas",MC.canvas.event.clickBlank).on("selectstart"+n,!1).on("mousedown"+n,MC.canvas.event.ctrlMove.mousedown),$("#tab-content-design").on("click","#canvas-panel, #resource-panel",MC.canvas.volume.close)},n=function(){$(document).on("keydown",MC.canvas.event.keyEvent),$("#header, #navigation, #tab-bar").on("click",MC.canvas.volume.close),$("#tab-content-design").on("mousedown",".resource-item",MC.canvas.event.siderbarDrag.mousedown),$(document.body).on("mousedown","#instance_volume_list a",MC.canvas.volume.mousedown)},r=function(){};return{listen:t,canvas_initialize:n,connect:r}}),function(){var e=[].slice;define("WS",["Meteor","underscore","MC"],function(t,n){var r,i,s;return i=""+MC.API_HOST+"/ws/",s=function(){var e;n.extend(t,{default_connection:null,refresh:e=function(e){}}),t._debug=function(e){return console.log.call(console,e)};if(t.isClient)return t.default_connection=t.connect(i,!0),n.each(["subscribe","methods","call","apply","status","reconnect"],function(e){t[e]=n.bind(t.default_connection[e],t.default_connection)})},r=function(){function n(){this.collection={request:new t.Collection("request"),request_detail:new t.Collection("request_detail"),stack:new t.Collection("stack"),app:new t.Collection("app"),status:new t.Collection("status"),imports:new t.Collection("imports")}}return n.prototype.status=function(e,n){var r;return e==null&&(e=!1),n==null&&(n=null),n?Deps.autorun(r=function(){if(t.status().connected===e)return n()}):t.status().connected},n.prototype.sub=function(){var n,r,i,s,o,u;return i=arguments[0],n=4<=arguments.length?e.call(arguments,1,u=arguments.length-2):(u=1,[]),s=arguments[u++],r=arguments[u++],o=t.subscribe.apply(t,[i].concat(e.call(n),[{onReady:s,onError:r}])),o},n.prototype.unsub=function(e){var t;void 0;try{return e.stop()}catch(n){return t=n,void 0}},n}(),{websocketInit:s,WebSocket:r}})}.call(this),define("lib/lib",function(){});