(function(){define(["ApiRequestRDefs","api/ApiRequestErrors","MC"],function(e,t){var n,r,i,s,o;return s={},o=function(e){throw e},r=function(e,n,r){!r&&e.status!==200&&o(McError(-e.status,"Network Error")),o(McError(t.XhrFailure,n,r))},n=function(){this.ajax.abort()},i=function(t,i){var o,u,a,f,l,c,h,p,d;o=e[t],i=i||s;if(!o){void 0;return}c=o.url+App.user.get("usercode")+"/"+App.user.get("session");if(o.params){f=[],d=o.params;for(h=0,p=d.length;h<p;h++)a=d[h],i.hasOwnProperty(a)&&f.push(i[a]);f.length&&(c+="/"+f.join("/"))}return u=$.ajax({url:MC.API_HOST+c,dataType:"json",type:o.method||"GET",jsonp:!1,cache:!1}),l=Q(u).fail(r),l.abort=n,l.ajax=u,l},i.Errors=t,i})}).call(this);