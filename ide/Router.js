(function(){define(["scenes/ProjectScene","scenes/Settings","scenes/StackStore","scenes/Cheatsheet","backbone"],function(e,t,n,r){return Backbone.Router.extend({routes:{"":"openProject","workspace(/:project)":"openProject","workspace/:project/ops(/:ops)":"openProject",settings:"openSettings","settings/:projectId(/:tab)":"openSettings","store/:sampleId":"openStore",cheatsheet:"openCheatsheet"},openStore:function(e){return new n({id:e})},openSettings:function(e,n){return new t({tab:n,projectId:e})},openProject:function(t,n){return new e(t,n)},openCheatsheet:function(){return new r},start:function(){var e;Backbone.history.start({pushState:!0})||(void 0,this.navigate("/",{replace:!0,trigger:!0})),e=this,$(document).on("click","a.route",function(t){return e.onRouteClicked(t)}),this.route("workspace/:project/unsaved(/:ops)","openProject")},onRouteClicked:function(e){var t,n,r,i;n=$(e.currentTarget).attr("href"),t=Backbone.history.fragment,r=n[n.length-1];if(r==="/"||r==="\\")n=n.substring(0,n.length-1);return i=this.navigate(n,{replace:!0,trigger:!0}),i===!0?$(document).trigger("urlroute"):i===!1&&(void 0,this.navigate(t,{replace:!0})),!1}})})}).call(this);