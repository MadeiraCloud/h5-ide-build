(function(){define(["MC","event","handlebars","i18n!nls/lang.js","./view","canvas_layout","navigation","tabbar","dashboard","design_module","process","constant","base_model","common_handle","validation","aws_handle"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){return{initialize:function(){var n,p,v,m,g,y,b,w,E,S,x,T,N,C,k,L;_.delay(function(){void 0;if(!e.data.is_loading_complete&&$("#loading-bar-wrapper").html().trim()!=="")return t.trigger(t.SWITCH_MAIN),notification("error",r.ide.IDE_MSG_ERR_CONNECTION,!0)},5e4),e.data.current_tab_id="dashboard",e.data.config={},T=c.REGION_KEYS;for(p=0,y=T.length;p<y;p++)n=T[p],e.data.config[n]={};e.data.dict_ami={},e.data.stack_list={},N=c.REGION_KEYS;for(v=0,b=N.length;v<b;v++)n=N[v],e.data.stack_list[n]=[];e.data.app_list={},C=c.REGION_KEYS;for(m=0,w=C.length;m<w;m++)n=C[m],e.data.app_list[n]=[];e.data.nav_new_stack_list={},e.data.nav_app_list={},e.data.nav_stack_list={},e.data.resource_list={},k=c.REGION_KEYS;for(g=0,E=k.length;g<E;g++)n=k[g],e.data.resource_list[n]={};e.data.untitled=0,e.tab={},e.process={},e.data.process={},e.storage.remove("process"),e.data.loading_wrapper_html=null,e.data.is_loading_complete=!1,e.data.resouceapi=[],e.data.ide_available_count=0,e.data.account_attribute={},L=c.REGION_KEYS;for(x=0,S=L.length;x<S;x++)n=L[x],e.data.account_attribute[n]={support_platform:"",default_vpc:"",default_subnet:{}};return e.data.demo_stack_list=c.DEMO_STACK_NAME_LIST,e.open_failed_list={},e.ta={},e.ta=d,e.ta.list=[],e.ta.state_list={},e.data.state={},e.data.stateClipboard=[],e.data.running_app_list={},e.data.open_tab_data={},t.onLongListen(t.RETURN_OVERVIEW_TAB,function(){return i.showOverviewTab()}),t.onLongListen(t.RETURN_REGION_TAB,function(){return i.showRegionTab()}),t.onLongListen(t.SWITCH_TAB,function(){return i.showTab()}),t.onLongListen(t.SWITCH_DASHBOARD,function(){return i.showDashbaordTab()}),t.onLongListen(t.SWITCH_PROCESS,function(){return i.showProcessTab()}),t.onLongListen(t.SWITCH_MAIN,function(){return i.showMain()}),t.onLongListen(t.SWITCH_LOADING_BAR,function(e,t){return i.showLoading(e,t)}),t.onLongListen(t.SWITCH_WAITING_BAR,function(){return i.toggleWaiting()}),t.onLongListen(t.HIDE_STATUS_BAR,function(){return i.hideStatubar()}),t.onLongListen(t.IDE_AVAILABLE,function(){void 0,e.data.ide_available_count=e.data.ide_available_count+1,void 0;if(e.data.ide_available_count===4)return t.trigger(t.SWITCH_MAIN)}),u.loadModule(),a.loadModule(),t.onListen(t.DASHBOARD_COMPLETE,function(){return void 0,o.loadModule()}),t.onListen(t.NAVIGATION_COMPLETE,function(){return void 0,f.loadModule(),setTimeout(function(){return void 0,s.canvas_initialize()},2e3)}),t.onListen(t.DESIGN_COMPLETE,function(){return void 0,l.loadModule()}),h.sub(function(e){var n,i,s;void 0;if(e.return_code===c.RETURN_CODE.E_SESSION)App.acquireSession(),e.param[0].method==="info"&&((s=e.param[0].url)==="/stack/"||s==="/app/")&&t.trigger(t.CLOSE_DESIGN_TAB,e.param[4][0]);else{i="ERROR_CODE_"+e.return_code+"_MESSAGE",void 0;if(e.error_message.indexOf("AWS was not able to validate the provided access credentials")!==-1)return;if(e.param[0].url==="/session/"&&e.param[0].method==="login")return;if(e.return_code===-1&&e.error_message==="200")return e.param[0].url==="/aws/"&&e.param[0].method==="resource"?notification("warning",r.service["ERROR_CODE_-1_MESSAGE_AWS_RESOURCE"]):notification("warning",r.service[i]),null;r.service[i]?n=r.service[i]+"("+e.return_code+")":n="unknown error ("+e.return_code+")",n&&$(".error_item").text().indexOf(n)===-1&&notification("error",n,!1)}return null}),null}}})}).call(this);