window.FileVersions={"api/api.js":"5d1f95e1","cloudres/CrBundle.js":"1218033e","component/AppAction.js":"7e229f6e","component/AwsComps.js":"058b72bc","component/Common.js":"f1dc5fe6","component/Exporter.js":"f21158c4","component/OsComps.js":"48b99d5c","component/ResDiff.js":"490cf657","component/StateEditor.js":"b30d960b","component/StateStatus.js":"ec1f188b","component/Validation.js":"31df7443","component/jsonviewer/JsonDiffLib.js":"6a66427a","component/jsonviewer/JsonViewer.js":"c8260fb9","component/jsonviewer/diff.js":"27b14b3a","component/jsonviewer/jqUi.js":"7b023dd7","component/jsonviewer/view.js":"21e1fd8e","ide/AppBundle.js":"905ffde0","ide/Router.js":"03986b5a","ide/config.js":"0cbab72f","lib/aws.js":"1106f1aa","lib/lib.js":"7219e667","nls/en-us/lang.js":"0b8e6acb","nls/zh-cn/lang.js":"6619d08f","scenes/Debugger.js":"8aac26bb","scenes/DebuggerTpl.js":"ee3c877d","scenes/Scenes.js":"ed3053e1","scenes/settings/template/TplMember.js":"47485ed9","ui/ui.js":"106b5840","user/main.js":"5f150615","vender/crypto-js/hmac-sha256.js":"c822cfb1","vender/handlebars/handlebars.js":"bec7085c","vender/jquery/jquery.1.0.js":"a202c669","vender/jquery/jquery.cookie.min.js":"35af54d1","vender/qunit/qunit.js":"302545f4","vender/requirejs/require.js":"56cbcc51","vender/requirejs/requirelib.js":"ffec281f","vender/vender.js":"43d100a4","wspace/awseditor/EditorAws.js":"1855035f","wspace/awseditor/property/acl/template/app.js":"11542df4","wspace/awseditor/property/sgrule/template/app.js":"49ec84df","wspace/coreeditor/CoreEditorBundle.js":"7f0c2151","wspace/dashboard/Dashboard.js":"dd0033e2","wspace/mesoseditor/MarathonDeps.js":"708ec0e7","wspace/mesoseditor/MarathonEditorApp.js":"e1210baf","wspace/mesoseditor/MarathonEditorStack.js":"877a9c9e","wspace/mesoseditor/MarathonViewApp.js":"ea6d2710","wspace/mesoseditor/MarathonViewStack.js":"9bee65aa","wspace/mesoseditor/canvas/CanvasViewMarathon.js":"ebe13e54","wspace/mesoseditor/canvas/CeMarathonApp.js":"17de40c7","wspace/mesoseditor/canvas/CeMarathonDep.js":"ff97a32d","wspace/mesoseditor/canvas/CeMarathonGroup.js":"cf7eb2f4","wspace/mesoseditor/model/DesignMarathon.js":"5304ec6c","wspace/mesoseditor/model/MarathonApp.js":"16ac67cb","wspace/mesoseditor/model/MarathonDepIn.js":"1152e508","wspace/mesoseditor/model/MarathonDepOut.js":"603203f1","wspace/mesoseditor/model/MarathonGroup.js":"8a4c20ba","wspace/mesoseditor/property/app/app_view.js":"2e4b3851","wspace/mesoseditor/property/app/container.js":"158f332d","wspace/mesoseditor/property/app/main.js":"14191550","wspace/mesoseditor/property/app/template/app.js":"f91c2d0f","wspace/mesoseditor/property/app/template/container.js":"617d5692","wspace/mesoseditor/property/app/template/containerApp.js":"0069160d","wspace/mesoseditor/property/app/template/stack.js":"ab3446aa","wspace/mesoseditor/property/app/view.js":"5eb306f5","wspace/mesoseditor/property/base/main.js":"0b2e2146","wspace/mesoseditor/property/base/model.js":"e85044b7","wspace/mesoseditor/property/base/view.js":"fdba33bb","wspace/mesoseditor/property/dependency/main.js":"49505319","wspace/mesoseditor/property/dependency/template.js":"4266a813","wspace/mesoseditor/property/dependency/view.js":"86fcccd7","wspace/mesoseditor/property/deployment/main.js":"835ddfb4","wspace/mesoseditor/property/deployment/template.js":"072a7152","wspace/mesoseditor/property/deployment/view.js":"a02998e8","wspace/mesoseditor/property/group/main.js":"179d180e","wspace/mesoseditor/property/group/template.js":"be1cce11","wspace/mesoseditor/property/group/view.js":"c241741f","wspace/mesoseditor/subviews/PropertyPanel.js":"683c3551","wspace/mesoseditor/subviews/ResourcePanel.js":"5f44f242","wspace/mesoseditor/subviews/Toolbar.js":"d5082fe6","wspace/mesoseditor/template/TplLeftPanel.js":"3fb7619a","wspace/mesoseditor/template/TplOpsEditor.js":"d46c4b5f","wspace/mesoseditor/template/TplRightPanel.js":"7b3cbd37","wspace/osdashboard/DashboardModel.js":"10a29a3b","wspace/osdashboard/DashboardOs.js":"ac60aa6e","wspace/osdashboard/DashboardTpl.js":"c3b73d48","wspace/osdashboard/DashboardTplData.js":"e4ccf5b5","wspace/osdashboard/DashboardView.js":"ea0d52fd","wspace/osdashboard/ImportAppTpl.js":"cf8a7349","wspace/oseditor/EditorOs.js":"b720e091","wspace/oseditor/OsEditorApp.js":"6080241a","wspace/oseditor/OsEditorStack.js":"66bd8c1c","wspace/oseditor/OsViewApp.js":"6648c0ec","wspace/oseditor/OsViewStack.js":"8a57d6c1","wspace/oseditor/canvas/CanvasViewOs.js":"331ec041","wspace/oseditor/canvas/CanvasViewOsLayout.js":"04240866","wspace/oseditor/canvas/CeElb.js":"de99da88","wspace/oseditor/canvas/CeListener.js":"200608bd","wspace/oseditor/canvas/CeNetwork.js":"b86348e6","wspace/oseditor/canvas/CeOsLine.js":"2e1b29d3","wspace/oseditor/canvas/CePool.js":"9b8e2892","wspace/oseditor/canvas/CePort.js":"bcdfdb2a","wspace/oseditor/canvas/CeRt.js":"7567418f","wspace/oseditor/canvas/CeServer.js":"800d0dd2","wspace/oseditor/canvas/CeSubnet.js":"47973f8e","wspace/oseditor/canvas/CpVolume.js":"9eae19be","wspace/oseditor/canvas/TplPopup.js":"161452f2","wspace/oseditor/model/DesignOs.js":"24c5701b","wspace/oseditor/model/OsModelElb.js":"cb22e83f","wspace/oseditor/model/OsModelExtNetwork.js":"b54e466e","wspace/oseditor/model/OsModelFloatIp.js":"47ad9fa9","wspace/oseditor/model/OsModelHealthMonitor.js":"591e046c","wspace/oseditor/model/OsModelKeypair.js":"d726c843","wspace/oseditor/model/OsModelListener.js":"853f46a5","wspace/oseditor/model/OsModelNetwork.js":"21f03cf4","wspace/oseditor/model/OsModelPool.js":"080ecc08","wspace/oseditor/model/OsModelPort.js":"6cfb2e1c","wspace/oseditor/model/OsModelRt.js":"462361d5","wspace/oseditor/model/OsModelServer.js":"dc35c05e","wspace/oseditor/model/OsModelSg.js":"47229fb9","wspace/oseditor/model/OsModelSgRule.js":"79238d26","wspace/oseditor/model/OsModelSubnet.js":"e46f29f3","wspace/oseditor/model/OsModelVolume.js":"3cc7a48f","wspace/oseditor/model/connection/OsFloatIpUsage.js":"51aa361a","wspace/oseditor/model/connection/OsListenerAsso.js":"5137e941","wspace/oseditor/model/connection/OsPoolMembership.js":"ecfa78a1","wspace/oseditor/model/connection/OsPortUsage.js":"2d100c36","wspace/oseditor/model/connection/OsRouterAsso.js":"409de4c9","wspace/oseditor/model/connection/OsSgAsso.js":"04d7f064","wspace/oseditor/model/connection/OsVolumeUsage.js":"7247f672","wspace/oseditor/model/seVisitors/AppToStack.js":"7a617a4b","wspace/oseditor/property/OsPropertyBundle.js":"0be5ccb1","wspace/oseditor/property/OsPropertyView.js":"31a64718","wspace/oseditor/property/default/template.js":"ac7e039f","wspace/oseditor/property/default/view.js":"1941b709","wspace/oseditor/property/globalconfig/app.js":"80a91c35","wspace/oseditor/property/globalconfig/stack.js":"c3a26da3","wspace/oseditor/property/globalconfig/view.js":"a995f751","wspace/oseditor/property/oshm/app.js":"0dae3743","wspace/oseditor/property/oshm/stack.js":"04e2b29e","wspace/oseditor/property/oshm/view.js":"afa1fd74","wspace/oseditor/property/oshmlist/app.js":"6d80151c","wspace/oseditor/property/oshmlist/stack.js":"dc7d099f","wspace/oseditor/property/oshmlist/view.js":"981d8c6e","wspace/oseditor/property/oslistener-asso/template.js":"3960cffb","wspace/oseditor/property/oslistener-asso/view.js":"4be033f8","wspace/oseditor/property/oslistener/appView.js":"beae0e8c","wspace/oseditor/property/oslistener/template/app.js":"68513245","wspace/oseditor/property/oslistener/template/stack.js":"ed30c01a","wspace/oseditor/property/oslistener/view.js":"200ce9f5","wspace/oseditor/property/osnetwork/template.js":"06d94366","wspace/oseditor/property/osnetwork/view.js":"0fabbe68","wspace/oseditor/property/ospool-membership/template.js":"84073140","wspace/oseditor/property/ospool-membership/view.js":"24e2ef8f","wspace/oseditor/property/ospool/appView.js":"f4fa5d47","wspace/oseditor/property/ospool/template/app.js":"02338b54","wspace/oseditor/property/ospool/template/stack.js":"fd980879","wspace/oseditor/property/ospool/view.js":"dd3e07bd","wspace/oseditor/property/osport-usage/template.js":"82c57fa5","wspace/oseditor/property/osport-usage/view.js":"9f790ef9","wspace/oseditor/property/osport/template.js":"b87f9734","wspace/oseditor/property/osport/view.js":"bc5981f1","wspace/oseditor/property/osrouter-asso/template.js":"327ed4ac","wspace/oseditor/property/osrouter-asso/view.js":"819de2b6","wspace/oseditor/property/osrouter/template.js":"19ecd9bd","wspace/oseditor/property/osrouter/view.js":"df67d511","wspace/oseditor/property/osserver/appView.js":"a0c64028","wspace/oseditor/property/osserver/template.js":"3037ef39","wspace/oseditor/property/osserver/view.js":"ed7ce4bd","wspace/oseditor/property/ossg/template.js":"c34d1026","wspace/oseditor/property/ossg/view.js":"11525ae7","wspace/oseditor/property/ossglist/template.js":"48314cb2","wspace/oseditor/property/ossglist/view.js":"b0ad82c5","wspace/oseditor/property/ossubnet/template.js":"9ae76e73","wspace/oseditor/property/ossubnet/view.js":"3ad0bf60","wspace/oseditor/property/osvol/appView.js":"515b5d8d","wspace/oseditor/property/osvol/template.js":"95184c10","wspace/oseditor/property/osvol/view.js":"7a8c5d3c","wspace/oseditor/property/validation/ValidationBase.js":"4772d422","wspace/oseditor/property/validation/ValidationBundle.js":"f8794e58","wspace/oseditor/property/validation/oselb.js":"6d2fc28a","wspace/oseditor/property/validation/osnetwork.js":"9ae9e1d4","wspace/oseditor/property/validation/osport.js":"d0217a7e","wspace/oseditor/property/validation/osrouter.js":"c7fd0db1","wspace/oseditor/property/validation/osserver.js":"b0c37b46","wspace/oseditor/property/validation/ossg.js":"12ceddb4","wspace/oseditor/property/validation/ossubnet.js":"6065eee7","wspace/oseditor/property/validation/volume.js":"21c92f7c","wspace/oseditor/subviews/Panel.js":"2c70b24c","wspace/oseditor/subviews/Statusbar.js":"d506013f","wspace/oseditor/subviews/Toolbar.js":"e992dc33","wspace/oseditor/subviews/panels/ConfigPanel.js":"408eed00","wspace/oseditor/subviews/panels/PropertyPanel.js":"4dd5bd98","wspace/oseditor/subviews/panels/ResourcePanel.js":"c508c21c","wspace/oseditor/subviews/panels/template/TplPropertyPanel.js":"dd473940","wspace/oseditor/subviews/panels/template/TplResourcePanel.js":"7572bb54","wspace/oseditor/template/TplOsEditor.js":"18437baf","wspace/oseditor/template/TplPanel.js":"b9c2073c","wspace/oseditor/template/TplStatusbar.js":"56066970","wspace/oseditor/template/TplToolbar.js":"d257a6d1","wspace/progress/ProgressViewer.js":"5c96ee36"};
(function() {
  (function() {
    var getCookie, hosts, location, p, s, scripts, version, _i, _len;
    if (!window) {
      return;
    }
    location = window.location;
    if (/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.exec(location.hostname)) {
      console.error("VisualOps IDE can not be browsed with IP address.");
      return;
    }
    hosts = location.hostname.split(".");
    if (hosts.length >= 3) {
      window.MC_DOMAIN = hosts[hosts.length - 2] + "." + hosts[hosts.length - 1];
    } else {
      window.MC_DOMAIN = location.hostname;
    }
    window.MC_API_HOST = location.protocol + "//api." + window.MC_DOMAIN;
    window.language = window.version = "";
    if (location.hostname.toLowerCase().indexOf("visualops.io") >= 0 && location.protocol === "http:") {
      window.location = location.href.replace("http:", "https:");
      return;
    }
    getCookie = function(sKey) {
      return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(sKey).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null;
    };
    if (!(getCookie('usercode') && getCookie('session_id'))) {
      p = window.location.pathname;
      if (p === "/") {
        p = window.location.hash.replace("#", "/");
      }
      if (p && p !== "/") {
        window.location.href = "/login?ref=" + p;
      } else {
        window.location.href = "/login";
      }
      return;
    }
    scripts = document.getElementsByTagName("script");
    for (_i = 0, _len = scripts.length; _i < _len; _i++) {
      s = scripts[_i];
      version = s.getAttribute("data-main");
      if (version) {
        window.version = version.split("?")[1];
        break;
      }
    }
    if (window.version === '#{version}') {
      window.version = "dev";
    }
    window.language = document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + "lang\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1") || (navigator.language && navigator.language.toLowerCase() === "zh-cn" ? "zh-cn" : "en-us");
    return null;
  })();

  require.config({
    baseUrl: '/',
    waitSeconds: 30,
    locale: language,
    urlArgs: "v=" + version,

    /* env:dev                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              env:dev:end */
    shim: {
      'underscore': {
        exports: '_'
      },
      'Meteor': {
        deps: ['underscore'],
        exports: 'Meteor'
      }
    },

    /* env:prod */
    bundles: {
      "vender/requirejs/requirelib": ["i18n"],
      "vender/vender": ["jquery", "backbone", "underscore", "handlebars", "sprintf", "Meteor", "crypto", "q", "svg"],
      "lib/lib": ["MC", "constant", 'MC.validate', "lib/handlebarhelpers", "event"],
      "ui/ui": ['UI.tooltip', 'UI.scrollbar', 'UI.bubble', 'UI.modal', 'UI.table', 'UI.tablist', 'UI.selectbox', 'UI.notification', 'UI.multiinputbox', 'UI.canvg', 'UI.sortable', 'UI.parsley', 'UI.errortip', 'UI.dnd', "jqpagination", 'jquerysort', "jqtimepicker", "jqdatetimepicker", "UI.modalplus", "UI.nanoscroller", "UI.selectize", "UI.selection", "UI.bubblepopup", "UI.select2"],
      "api/api": ["ApiRequest", "ApiRequestR", "ApiRequestOs"],
      "cloudres/CrBundle": ["CloudResources"],
      "component/Exporter": ["ThumbnailUtil", "JsonExporter"],
      "component/Validation": ["validation", "TaHelper", "TaGui"],
      "component/StateStatus": ["state_status"],
      "component/StateEditor": ["StateEditor", "StateEditorView"],
      "ide/AppBundle": ["ide/Application", "OpsModel", "Project", "Credential", "Scene", "ProjectLog"],
      "component/ResDiff": ["ResDiff", "DiffTree"],
      "component/Common": ["combo_dropdown", "toolbar_modal", "credentialFormView"],
      "component/AwsComps": ['dhcp', 'kp_dropdown', 'kp_manage', 'kp_upload', 'sns_dropdown', 'sns_manage', 'dhcp_manage', 'snapshotManager', 'rds_pg', 'rds_snapshot', 'sslcert_manage', 'sslcert_dropdown', 'og_manage', 'og_manage_app', 'og_dropdown', 'SGRulePopup', 'DbSubnetGPopup'],
      "component/OsComps": ['OsKp', 'OsSnapshot'],
      "component/AppAction": ["AppAction"],
      "scenes/Scenes": ["scenes/Router", "scenes/ProjectScene", "scenes/Settings", "scenes/StackStore", "scenes/Cheatsheet", "Workspace"],
      "wspace/dashboard/Dashboard": [],
      "wspace/progress/ProgressViewer": [],
      "wspace/coreeditor/CoreEditorBundle": ["Design", "ResourceModel", "ComplexResModel", "ConnectionModel", "GroupModel", "CoreEditor", "CoreEditorView", "CoreEditorApp", "CoreEditorViewApp", "CanvasElement", "CanvasLine", "CanvasView", "CanvasViewLayout", "CanvasManager", "CanvasPopup"],
      "wspace/awseditor/EditorAws": ["wspace/awseditor/AwsEditorStack", "wspace/awseditor/AwsEditorApp"]
    },
    bundleExcludes: {
      "component/StateEditor": ["Design", "OpsModel"],
      "component/Validation": ["Design"],
      "component/AwsComps": ["Design", "OpsModel"],
      "component/OsComps": ["Design", "OpsModel"],
      "component/AppAction": ["Design"],
      "wspace/dashboard/Dashboard": ["Design"],
      "wspace/osdashboard/DashboardOs": ["Design"]
    }

    /* env:prod:end */
  });

  requirejs.onError = function(err) {
    var i, _i, _len, _ref;
    err = err || {
      requireType: "timeout"
    };
    if (err.requireType === "timeout") {
      _ref = err.requireModules || [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        i = _ref[_i];
        requirejs.undef(i);
      }
      return require(err.requireModules || [], function() {});
    } else {
      return console.error("[RequireJS Error]", err, err.stack);
    }
  };

  if (window.define) {
    define("/nls/lang.js", [], {
      'en-us': true,
      'zh-cn': true
    });
  }


  /* env:dev                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              env:dev:end */

  require(['ide/Application', "scenes/Router", "cloudres/CrBundle", "MC", 'lib/aws', "wspace/dashboard/Dashboard", "wspace/progress/ProgressViewer", "wspace/awseditor/AwsEditorStack", "wspace/awseditor/AwsEditorApp", "wspace/mesoseditor/MarathonEditorStack", "wspace/mesoseditor/MarathonEditorApp"], function(Application, Router, CrBundle) {
    window.Router = new Router();
    (new Application()).initialize().then(function() {
      return window.Router.start();
    });

    /* env:dev                                                   env:dev:end */

    /* env:debug */
    return require(["./scenes/Debugger"], function() {});

    /* env:debug:end */
  }, function(err) {
    err = err || {
      requireType: "timeout"
    };
    if (err.requireType === "timeout") {
      requirejs.onError = function() {};
      console.error("[RequireJS timeout] Reloading, error modules :", err.requireModules);
      window.location.reload();
    } else {
      console.error("[RequireJS Error]", err, err.stack);
    }
  });

}).call(this);
