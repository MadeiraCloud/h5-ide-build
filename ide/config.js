window.FileVersions={"api/api.js":"77c57b4d","cloudres/CrBundle.js":"1987ac5b","component/AppAction.js":"8b481c4c","component/AwsComps.js":"9f9ca6e4","component/Common.js":"9d995577","component/Exporter.js":"74c9d482","component/OsComps.js":"9927a36a","component/ResDiff.js":"50efe93e","component/StateEditor.js":"deac9ba9","component/StateStatus.js":"8f361d88","component/Validation.js":"cb5c304b","component/jsonviewer/JsonDiffLib.js":"6a66427a","component/jsonviewer/JsonViewer.js":"46f43297","component/jsonviewer/diff.js":"fcd67a0e","component/jsonviewer/jqUi.js":"7b023dd7","component/jsonviewer/view.js":"fe1636a2","ide/AppBundle.js":"49335280","ide/Router.js":"eef3073c","ide/config.js":"fcc316de","lib/aws.js":"0959a8c4","lib/lib.js":"0e0b1469","nls/en-us/lang.js":"7ac9fd6c","nls/zh-cn/lang.js":"4ee728bb","scenes/Debugger.js":"b66a0d2b","scenes/DebuggerTpl.js":"ee3c877d","scenes/Scenes.js":"06fc810f","scenes/settings/template/TplMember.js":"ab93aa82","ui/ui.js":"adbda3ee","user/main.js":"0f9ac73c","vender/crypto-js/hmac-sha256.js":"c822cfb1","vender/handlebars/handlebars.js":"bec7085c","vender/jquery/jquery.1.0.js":"a202c669","vender/jquery/jquery.cookie.min.js":"35af54d1","vender/qunit/qunit.js":"302545f4","vender/requirejs/require.js":"56cbcc51","vender/requirejs/requirelib.js":"ffec281f","vender/vender.js":"f9a2dc29","wspace/awseditor/EditorAws.js":"2e584231","wspace/awseditor/property/acl/template/app.js":"53d60869","wspace/awseditor/property/sgrule/template/app.js":"141a213e","wspace/coreeditor/CoreEditorBundle.js":"63ee1afc","wspace/dashboard/Dashboard.js":"29903655","wspace/mesoseditor/MarathonDeps.js":"8711121d","wspace/mesoseditor/MarathonEditorApp.js":"d3e8ae36","wspace/mesoseditor/MarathonEditorStack.js":"ae40d226","wspace/mesoseditor/MarathonViewApp.js":"12159cc3","wspace/mesoseditor/MarathonViewStack.js":"2d3c7199","wspace/mesoseditor/canvas/CanvasViewMarathon.js":"c852666f","wspace/mesoseditor/canvas/CeMarathonApp.js":"75dcb7a9","wspace/mesoseditor/canvas/CeMarathonDep.js":"7a394f02","wspace/mesoseditor/canvas/CeMarathonGroup.js":"755cf362","wspace/mesoseditor/model/DesignMarathon.js":"baa4e6d6","wspace/mesoseditor/model/MarathonApp.js":"05718dec","wspace/mesoseditor/model/MarathonDepIn.js":"76b53b4e","wspace/mesoseditor/model/MarathonDepOut.js":"2beab134","wspace/mesoseditor/model/MarathonGroup.js":"49f0c904","wspace/mesoseditor/property/app/app_view.js":"383b8d82","wspace/mesoseditor/property/app/container.js":"44fb49c9","wspace/mesoseditor/property/app/main.js":"14dfc0f0","wspace/mesoseditor/property/app/template/app.js":"fa3f9918","wspace/mesoseditor/property/app/template/container.js":"610e0196","wspace/mesoseditor/property/app/template/containerApp.js":"938661f4","wspace/mesoseditor/property/app/template/stack.js":"1340418d","wspace/mesoseditor/property/app/view.js":"f77dbedb","wspace/mesoseditor/property/base/main.js":"24e7e59e","wspace/mesoseditor/property/base/model.js":"0431b615","wspace/mesoseditor/property/base/view.js":"8c99e2c1","wspace/mesoseditor/property/dependency/main.js":"a58d6450","wspace/mesoseditor/property/dependency/template.js":"4266a813","wspace/mesoseditor/property/dependency/view.js":"1dc6f745","wspace/mesoseditor/property/deployment/main.js":"18a2e73e","wspace/mesoseditor/property/deployment/template.js":"072a7152","wspace/mesoseditor/property/deployment/view.js":"8b8d21d7","wspace/mesoseditor/property/group/main.js":"b40ae11b","wspace/mesoseditor/property/group/template.js":"be1cce11","wspace/mesoseditor/property/group/view.js":"ebd88c54","wspace/mesoseditor/subviews/PropertyPanel.js":"97cc162a","wspace/mesoseditor/subviews/ResourcePanel.js":"9f8cd7ec","wspace/mesoseditor/subviews/Toolbar.js":"5230bb93","wspace/mesoseditor/template/TplLeftPanel.js":"3fb7619a","wspace/mesoseditor/template/TplOpsEditor.js":"910a50a7","wspace/mesoseditor/template/TplRightPanel.js":"553e3f73","wspace/osdashboard/DashboardModel.js":"9270c181","wspace/osdashboard/DashboardOs.js":"fd3f121b","wspace/osdashboard/DashboardTpl.js":"c3b73d48","wspace/osdashboard/DashboardTplData.js":"e4ccf5b5","wspace/osdashboard/DashboardView.js":"92f33161","wspace/osdashboard/ImportAppTpl.js":"969647fa","wspace/oseditor/EditorOs.js":"3a112ec9","wspace/oseditor/OsEditorApp.js":"8ca8ef9b","wspace/oseditor/OsEditorStack.js":"f4c3fa38","wspace/oseditor/OsViewApp.js":"28ea4337","wspace/oseditor/OsViewStack.js":"30d318d8","wspace/oseditor/canvas/CanvasViewOs.js":"aba57f9d","wspace/oseditor/canvas/CanvasViewOsLayout.js":"a3ecaecb","wspace/oseditor/canvas/CeElb.js":"c10606a8","wspace/oseditor/canvas/CeListener.js":"fb2f0bdf","wspace/oseditor/canvas/CeNetwork.js":"cb7e88fc","wspace/oseditor/canvas/CeOsLine.js":"79c5eaf4","wspace/oseditor/canvas/CePool.js":"18adc541","wspace/oseditor/canvas/CePort.js":"823c8771","wspace/oseditor/canvas/CeRt.js":"d67fcdb1","wspace/oseditor/canvas/CeServer.js":"0ba5edaa","wspace/oseditor/canvas/CeSubnet.js":"4072a3de","wspace/oseditor/canvas/CpVolume.js":"bd701c00","wspace/oseditor/canvas/TplPopup.js":"161452f2","wspace/oseditor/model/DesignOs.js":"3c3a7206","wspace/oseditor/model/OsModelElb.js":"47ff7dae","wspace/oseditor/model/OsModelExtNetwork.js":"1f992674","wspace/oseditor/model/OsModelFloatIp.js":"daf970b9","wspace/oseditor/model/OsModelHealthMonitor.js":"b78eed90","wspace/oseditor/model/OsModelKeypair.js":"3e0b7aec","wspace/oseditor/model/OsModelListener.js":"00b1d857","wspace/oseditor/model/OsModelNetwork.js":"d2931649","wspace/oseditor/model/OsModelPool.js":"2ff06cf2","wspace/oseditor/model/OsModelPort.js":"a06b54c1","wspace/oseditor/model/OsModelRt.js":"11ee3f75","wspace/oseditor/model/OsModelServer.js":"221ed394","wspace/oseditor/model/OsModelSg.js":"a0196573","wspace/oseditor/model/OsModelSgRule.js":"174536c4","wspace/oseditor/model/OsModelSubnet.js":"01c269b0","wspace/oseditor/model/OsModelVolume.js":"c0799203","wspace/oseditor/model/connection/OsFloatIpUsage.js":"c1c225ba","wspace/oseditor/model/connection/OsListenerAsso.js":"22a84360","wspace/oseditor/model/connection/OsPoolMembership.js":"b34774eb","wspace/oseditor/model/connection/OsPortUsage.js":"eca2c699","wspace/oseditor/model/connection/OsRouterAsso.js":"68fdbf83","wspace/oseditor/model/connection/OsSgAsso.js":"94f1c307","wspace/oseditor/model/connection/OsVolumeUsage.js":"5179488b","wspace/oseditor/model/seVisitors/AppToStack.js":"64662028","wspace/oseditor/property/OsPropertyBundle.js":"649d529a","wspace/oseditor/property/OsPropertyView.js":"b09e2a98","wspace/oseditor/property/default/template.js":"ac7e039f","wspace/oseditor/property/default/view.js":"b7e6df64","wspace/oseditor/property/globalconfig/app.js":"21cc71f7","wspace/oseditor/property/globalconfig/stack.js":"18dac60d","wspace/oseditor/property/globalconfig/view.js":"d3c59626","wspace/oseditor/property/oshm/app.js":"bf5d0fab","wspace/oseditor/property/oshm/stack.js":"975183ce","wspace/oseditor/property/oshm/view.js":"93f48f54","wspace/oseditor/property/oshmlist/app.js":"6d80151c","wspace/oseditor/property/oshmlist/stack.js":"dc7d099f","wspace/oseditor/property/oshmlist/view.js":"92963655","wspace/oseditor/property/oslistener-asso/template.js":"d458576e","wspace/oseditor/property/oslistener-asso/view.js":"fea31174","wspace/oseditor/property/oslistener/appView.js":"12ffdda8","wspace/oseditor/property/oslistener/template/app.js":"dbb9a7d3","wspace/oseditor/property/oslistener/template/stack.js":"c1e50f60","wspace/oseditor/property/oslistener/view.js":"6d88ed1f","wspace/oseditor/property/osnetwork/template.js":"eb570b84","wspace/oseditor/property/osnetwork/view.js":"33e05f84","wspace/oseditor/property/ospool-membership/template.js":"cf5435dc","wspace/oseditor/property/ospool-membership/view.js":"3ee3903b","wspace/oseditor/property/ospool/appView.js":"6de707df","wspace/oseditor/property/ospool/template/app.js":"93e37198","wspace/oseditor/property/ospool/template/stack.js":"4d77b1d7","wspace/oseditor/property/ospool/view.js":"23d6fa11","wspace/oseditor/property/osport-usage/template.js":"9545c486","wspace/oseditor/property/osport-usage/view.js":"6f0a9d7f","wspace/oseditor/property/osport/template.js":"68825be4","wspace/oseditor/property/osport/view.js":"6b512a4f","wspace/oseditor/property/osrouter-asso/template.js":"b20ac4bb","wspace/oseditor/property/osrouter-asso/view.js":"658e8ace","wspace/oseditor/property/osrouter/template.js":"19ecd9bd","wspace/oseditor/property/osrouter/view.js":"aae25d31","wspace/oseditor/property/osserver/appView.js":"33649c8b","wspace/oseditor/property/osserver/template.js":"b7fd0e1f","wspace/oseditor/property/osserver/view.js":"0cb5b9b9","wspace/oseditor/property/ossg/template.js":"c34d1026","wspace/oseditor/property/ossg/view.js":"a8f69a3a","wspace/oseditor/property/ossglist/template.js":"48314cb2","wspace/oseditor/property/ossglist/view.js":"ae8f595a","wspace/oseditor/property/ossubnet/template.js":"9ae76e73","wspace/oseditor/property/ossubnet/view.js":"df5ab6fd","wspace/oseditor/property/osvol/appView.js":"3091ba1c","wspace/oseditor/property/osvol/template.js":"95184c10","wspace/oseditor/property/osvol/view.js":"416d6efd","wspace/oseditor/property/validation/ValidationBase.js":"38258cfa","wspace/oseditor/property/validation/ValidationBundle.js":"5fb5a71b","wspace/oseditor/property/validation/oselb.js":"60d963c7","wspace/oseditor/property/validation/osnetwork.js":"95c75e4d","wspace/oseditor/property/validation/osport.js":"2fe2191a","wspace/oseditor/property/validation/osrouter.js":"e672c304","wspace/oseditor/property/validation/osserver.js":"a35d899e","wspace/oseditor/property/validation/ossg.js":"3e7d96dd","wspace/oseditor/property/validation/ossubnet.js":"7995b3e8","wspace/oseditor/property/validation/volume.js":"efdf5a99","wspace/oseditor/subviews/Panel.js":"cb71ca55","wspace/oseditor/subviews/Statusbar.js":"688b6b5f","wspace/oseditor/subviews/Toolbar.js":"119019a0","wspace/oseditor/subviews/panels/ConfigPanel.js":"926e980b","wspace/oseditor/subviews/panels/PropertyPanel.js":"0575edb9","wspace/oseditor/subviews/panels/ResourcePanel.js":"4cb1b88a","wspace/oseditor/subviews/panels/template/TplPropertyPanel.js":"dd473940","wspace/oseditor/subviews/panels/template/TplResourcePanel.js":"7572bb54","wspace/oseditor/template/TplOsEditor.js":"194d0c49","wspace/oseditor/template/TplPanel.js":"63d6d0d7","wspace/oseditor/template/TplStatusbar.js":"56066970","wspace/oseditor/template/TplToolbar.js":"67ebd598","wspace/progress/ProgressViewer.js":"8ded065e"};
(function() {
  var getCookie, hosts, location, p, s, scripts, version, _i, _len;
  if (!window) {
    return;
  }
  location = window.location;
  if (/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.exec(location.hostname)) {
    console.error("VisualOps IDE can not be browsed with IP address.");
    return;
  }
  hosts = location.hostname.split(".");
  if (hosts.length >= 3) {
    window.MC_DOMAIN = hosts[hosts.length - 2] + "." + hosts[hosts.length - 1];
  } else {
    window.MC_DOMAIN = location.hostname;
  }
  window.MC_API_HOST = location.protocol + "//api." + window.MC_DOMAIN;
  window.language = window.version = "";
  if (location.hostname.toLowerCase().indexOf("visualops.io") >= 0 && location.protocol === "http:") {
    window.location = location.href.replace("http:", "https:");
    return;
  }
  getCookie = function(sKey) {
    return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(sKey).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null;
  };
  if (!(getCookie('usercode') && getCookie('session_id'))) {
    p = window.location.pathname;
    if (p === "/") {
      p = window.location.hash.replace("#", "/");
    }
    if (p && p !== "/") {
      window.location.href = "/login?ref=" + p;
    } else {
      window.location.href = "/login";
    }
    return;
  }
  scripts = document.getElementsByTagName("script");
  for (_i = 0, _len = scripts.length; _i < _len; _i++) {
    s = scripts[_i];
    version = s.getAttribute("data-main");
    if (version) {
      window.version = version.split("?")[1];
      break;
    }
  }
  if (window.version === '#{version}') {
    window.version = "dev";
  }
  window.language = document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + "lang\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1") || (navigator.language && navigator.language.toLowerCase() === "zh-cn" ? "zh-cn" : "en-us");
  return null;
})();

require.config({
  baseUrl: '/',
  waitSeconds: 30,
  locale: language,
  urlArgs: "v=" + version,

  /* env:dev                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          env:dev:end */
  shim: {
    'underscore': {
      exports: '_'
    },
    'Meteor': {
      deps: ['underscore'],
      exports: 'Meteor'
    }
  },

  /* env:prod */
  bundles: {
    "vender/requirejs/requirelib": ["i18n"],
    "vender/vender": ["jquery", "backbone", "underscore", "handlebars", "sprintf", "Meteor", "crypto", "q", "svg"],
    "lib/lib": ["MC", "constant", 'MC.validate', "lib/handlebarhelpers", "event"],
    "ui/ui": ['UI.tooltip', 'UI.scrollbar', 'UI.bubble', 'UI.modal', 'UI.table', 'UI.tablist', 'UI.selectbox', 'UI.notification', 'UI.multiinputbox', 'UI.canvg', 'UI.sortable', 'UI.parsley', 'UI.errortip', 'UI.dnd', "jqpagination", 'jquerysort', "jqtimepicker", "jqdatetimepicker", "UI.modalplus", "UI.nanoscroller", "UI.selectize", "UI.selection", "UI.bubblepopup", "UI.select2"],
    "api/api": ["ApiRequest", "ApiRequestR", "ApiRequestOs"],
    "cloudres/CrBundle": ["CloudResources"],
    "component/Exporter": ["ThumbnailUtil", "JsonExporter"],
    "component/Validation": ["validation", "TaHelper", "TaGui"],
    "component/StateStatus": ["state_status"],
    "component/StateEditor": ["StateEditor", "StateEditorView"],
    "ide/AppBundle": ["ide/Application", "OpsModel", "Project", "Credential", "Scene", "ProjectLog"],
    "component/ResDiff": ["ResDiff", "DiffTree"],
    "component/Common": ["combo_dropdown", "toolbar_modal", "credentialFormView"],
    "component/AwsComps": ['dhcp', 'kp_dropdown', 'kp_manage', 'kp_upload', 'sns_dropdown', 'sns_manage', 'dhcp_manage', 'snapshotManager', 'rds_pg', 'rds_snapshot', 'eip_manager', 'eip_selector', 'sslcert_manage', 'sslcert_dropdown', 'og_manage', 'og_manage_app', 'og_dropdown', 'SGRulePopup', 'DbSubnetGPopup'],
    "component/OsComps": ['OsKp', 'OsSnapshot'],
    "component/AppAction": ["AppAction"],
    "scenes/Scenes": ["scenes/Router", "scenes/ProjectScene", "scenes/Settings", "scenes/StackStore", "scenes/Cheatsheet", "Workspace"],
    "wspace/dashboard/Dashboard": [],
    "wspace/progress/ProgressViewer": [],
    "wspace/coreeditor/CoreEditorBundle": ["Design", "ResourceModel", "ComplexResModel", "ConnectionModel", "GroupModel", "CoreEditor", "CoreEditorView", "CoreEditorApp", "CoreEditorViewApp", "CanvasElement", "CanvasLine", "CanvasView", "CanvasViewLayout", "CanvasManager", "CanvasPopup"],
    "wspace/awseditor/EditorAws": ["wspace/awseditor/AwsEditorStack", "wspace/awseditor/AwsEditorApp"]
  },
  bundleExcludes: {
    "component/StateEditor": ["Design", "OpsModel"],
    "component/Validation": ["Design"],
    "component/AwsComps": ["Design", "OpsModel"],
    "component/OsComps": ["Design", "OpsModel"],
    "component/AppAction": ["Design"],
    "wspace/dashboard/Dashboard": ["Design"],
    "wspace/osdashboard/DashboardOs": ["Design"]
  }

  /* env:prod:end */
});

requirejs.onError = function(err) {
  var i, _i, _len, _ref;
  err = err || {
    requireType: "timeout"
  };
  if (err.requireType === "timeout") {
    _ref = err.requireModules || [];
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      i = _ref[_i];
      requirejs.undef(i);
    }
    return require(err.requireModules || [], function() {});
  } else {
    return console.error("[RequireJS Error]", err, err.stack);
  }
};

if (window.define) {
  define("/nls/lang.js", [], {
    'en-us': true,
    'zh-cn': true
  });
}


/* env:dev                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              env:dev:end */

require(['ide/Application', "scenes/Router", "cloudres/CrBundle", "MC", 'lib/aws', "wspace/dashboard/Dashboard", "wspace/progress/ProgressViewer", "wspace/awseditor/AwsEditorStack", "wspace/awseditor/AwsEditorApp", "wspace/mesoseditor/MarathonEditorStack", "wspace/mesoseditor/MarathonEditorApp"], function(Application, Router, CrBundle) {
  window.Router = new Router();
  (new Application()).initialize().then(function() {
    window.Router.start();
    console.log("IDE inited.");
    window.__IDE__INITED = true;
  });

  /* env:dev                                                 env:dev:end */

  /* env:debug */
  return require(["./scenes/Debugger"], function() {});

  /* env:debug:end */
}, function(err) {
  err = err || {
    requireType: "timeout"
  };
  if (err.requireType === "timeout") {
    requirejs.onError = function() {};
    console.error("[RequireJS timeout] Reloading, error modules :", err.requireModules);
    window.location.reload();
  } else {
    console.error("[RequireJS Error]", err, err.stack);
  }
});
