(function(){define(["event","constant","i18n!nls/lang.js","./module/navigation/template","./module/navigation/template_data","backbone","jquery","handlebars","UI.notification"],function(e,t,n,r,i){var s;return s=Backbone.View.extend({el:$("#navigation"),events:{"click .stack-list li":"stackListItemsClick","click .app-list li":"appListItemsClick","click .show-unused-region":"showEmptyRegionClick","click .create-new-stack":"createNewStackClick","click .create-new-empty-stack":"createNewEmptyStackClick","click #off-canvas-app":"showOffCanvasApp","click #off-canvas-stack":"showOffCanvasStack"},initialize:function(){this.listenTo(e,"SWITCH_TAB",this.hideNavigation),$("#off-canvas-menu").click(function(){if($("#wrapper").hasClass("off-canvas"))return $("wrapper").removeClass("off-canvas");$("#nav-app-region").children(".nav-empty").length?$("#off-canvas-stack").click():$("#off-canvas-app").click(),$("#wrapper").addClass("off-canvas")}),$("#off-canvas-overlay").click(function(){$("#wrapper").removeClass("off-canvas")})},hideOffCanvas:function(){$("#wrapper").removeClass("off-canvas")},showOffCanvasApp:function(){$("#nav-app-region").show(),$("#nav-stack").hide(),$("#off-canvas-app").toggleClass("selected",!0),$("#off-canvas-stack").toggleClass("selected",!1)},showOffCanvasStack:function(){$("#nav-app-region").hide(),$("#nav-stack").show(),$("#off-canvas-app").toggleClass("selected",!1),$("#off-canvas-stack").toggleClass("selected",!0)},render:function(){return void 0,$(this.el).html(r()),e.trigger(e.NAVIGATION_COMPLETE),null},appListRender:function(){return $(this.el).find("#nav-app-region").html(i.app_list_data(this.model.attributes)),null},stackListRender:function(){return $(this.el).find("#nav-stack-region").html(i.stack_list_data(this.model.attributes)),null},regionEmtpyListRender:function(){return $(this.el).find("#nav-region-empty-list").html(i.region_empty_list(this.model.attributes)),null},regionListRender:function(){return null},stackListItemsClick:function(e){var t,n;return void 0,n=e.currentTarget,t=$(n).text(),this.hideOffCanvas(),this.openDesignTab("OPEN_STACK",t,$(n).attr("data-region-name"),$(n).attr("data-stack-id"))},appListItemsClick:function(e){var t,n;return void 0,n=e.currentTarget,t=$(n).text(),this.hideOffCanvas(),this.openDesignTab("OPEN_APP",$.trim(t),$(n).attr("data-region-name"),$(n).attr("data-app-id"))},showEmptyRegionClick:function(){$("#nav-region-empty-list").addClass("show")},createNewStackClick:function(e){var t;t=$(e.currentTarget).closest("li").children("ul").children().eq(0).attr("data-region-name"),t&&(this.hideOffCanvas(),this.openDesignTab("NEW_STACK",null,t,null))},createNewEmptyStackClick:function(e){var n,r;return r=$(e.currentTarget).parent().attr("data-empty-region-label"),n=null,_.map(t.REGION_SHORT_LABEL,function(e,t){if(e===r)return n=t,n}),this.hideOffCanvas(),this.openDesignTab("NEW_STACK",null,n,null)},regionNameClick:function(t){var n;return void 0,void 0,n=$(t.target).attr("data-region-name")===void 0?$(t.currentTarget).attr("data-region-name"):$(t.target).attr("data-region-name"),e.trigger(e.NAVIGATION_TO_DASHBOARD_REGION,n)},dashboardGlobal:function(){return void 0,e.trigger(e.NAVIGATION_TO_DASHBOARD_REGION,"global")},openDesignTab:function(t,r,i,s){return void 0,MC.data.design_submodule_count!==-1?notification("warning",n.ide.NAV_DESMOD_NOT_FINISH_LOAD,!1):e.trigger(e.OPEN_DESIGN_TAB,t,r,i,s)}}),s})}).call(this);