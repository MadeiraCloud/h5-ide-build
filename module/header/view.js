(function(){define(["event","./module/header/template/header","./module/header/template/notifyitem","backbone","jquery","handlebars"],function(e,t,n){var r;return r=Backbone.View.extend({el:"#header",template:t,events:{"click #btn-logout":"clickLogout","click #awscredential-modal":"clickOpenAWSCredential","DROPDOWN_CLOSE #header--notification":"dropdownClosed","click .dropdown-app-name":"clickAppName"},render:function(){return void 0,this.$el.html(this.template(this.model.attributes)),e.trigger(e.HEADER_COMPLETE)},update:function(){return $("#header").find(".no-credential").toggle(!this.model.get("has_cred")),$("#header--user").data("tooltip",this.model.get("user_email")),$("#header--user--name").text(this.model.get("user_name")),this.setAlertCount(this.model.get("unread_num")),null},updateNotification:function(){var e,t,r,i,s;this.setAlertCount(this.model.get("unread_num")),e="",s=this.model.attributes.info_list;for(r=0,i=s.length;r<i;r++)t=s[r],e+=n(t);return $("#notification-panel-wrapper").find(".scroll-content").html(e),$("#notification-panel-wrapper").css("max-height",Math.ceil(window.innerHeight*.8)),null},clickLogout:function(){return this.trigger("BUTTON_LOGOUT_CLICK")},dropdownClosed:function(){return $("#notification-panel-wrapper").find(".scroll-content").children().removeClass("unread"),this.setAlertCount(),this.trigger("DROPDOWN_MENU_CLOSED"),null},clickAppName:function(e){return void 0,this.trigger("DROPDOWN_APP_NAME_CLICK",e.currentTarget.id)},clickOpenAWSCredential:function(){return this.trigger("AWSCREDENTIAL_CLICK")},setAlertCount:function(e){return $("#header--notification").find("span").text(e||""),null}}),r})}).call(this);