(function(){define(["Design"],function(e){return e.debug=function(){var t,n,r,i;n={line:{},node:{},group:{},otherResource:{},otherConnection:{}},i=e.instance().__componentMap;for(r in i)t=i[r],t.node_group?n.group[t.id]=t:t.node_line?t.isVisual()?n.line[t.id]=t:n.otherConnection[t.id]=t:t.isVisual()?n.node[t.id]=t:n.otherResource[t.id]=t;return n},e.debug.selectedComp=function(){return App.workspaces.getAwakeSpace().getSelectedComponent()},e.debug.selectedCompState=function(){var t,n;return t=(n=e.debug.selectedComp())!=null?n.serialize()[1]:void 0,t&&t.component&&t.component.state?'{\n	"component": {\n		"init" : {\n			"state": '+JSON.stringify(t.component.state)+"\n		}\n	}\n}\n":"no state for selected component"},e.debug.diff=function(t){return require(["component/jsonviewer/JsonViewer"],function(t){var n;return n=e.instance(),t.showDiffDialog(n.__opsModel.getJsonData(),n.serialize())}),null},e.debug.json=function(){var t;return t=e.instance().serialize(),void 0,JSON.stringify(t)},e.debug["export"]=function(){var t,n,r,i,s;return s="CanvasData.json",r=e.debug.json(),n=new Blob([r],{type:"text/json"}),i=document.createEvent("MouseEvents"),t=document.createElement("a"),t.download=s,t.href=window.URL.createObjectURL(n),t.dataset.downloadurl=["text/json",t.download,t.href].join(":"),i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i),null},e.debug.view=function(t){var n;return t&&t.preventDefault&&t.preventDefault(),n=e.instance().serialize(),require(["component/jsonviewer/JsonViewer"],function(e){return e.showViewDialog(n)}),null},e.debug.checkValidDesign=function(){return dd().eachComponent(function(e){return e.design()===D.instance()?void 0:void 0,null}),null},e.debug.autoLayout=function(){return App.workspaces.getAwakeSpace().view.canvas.autoLayout()},e.debug.getDataFromLocal=function(e){return JSON.parse(localStorage.getItem("get_resource/"+e))},e.debug.setDataToLocal=function(e){return localStorage.setItem("get_resource/"+e.app_json.id,JSON.stringify(e))},window.d=function(){return e.instance()},window.dd=e.debug,window.dget=function(t){return e.instance().get(t)},window.dset=function(t,n){return e.instance().set(t,n)},window.dds=function(){return e.debug.json()},window.man="d()          Return the current Design instance \n dd()         Print all components in current Design \n dget(a)      Design att getter \n dset(a,b)    Design att setter \n dds()        Print JSON \n copy(dds())  Copy JSON",null})}).call(this);