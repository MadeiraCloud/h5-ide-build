(function(){define(["Design","event"],function(e,t){var n,r,i,s;e.debug=function(){var t,n,r,i,s,o,u;o=e.instance().__componentMap,r=e.instance().__canvasNodes,n=e.instance().__canvasGroups,s={line:{},node:{},group:{},otherResource:{},otherConnection:{}},i={};for(u in r)t=r[u],i[u]=!0,s.node[t.id]=t;for(u in n)t=n[u],i[u]=!0,s.group[t.id]=t;for(u in o){t=o[u];if(i[u])continue;t.node_line?t.isVisual()?s.line[t.id]=t:s.otherConnection[t.id]=t:s.otherResource[t.id]=t}return s},e.debug.selectedComp=function(){return App.workspaces.getAwakeSpace().getSelectedComponent()},e.debug.selectedCompState=function(){var t,n;return t=(n=e.debug.selectedComp())!=null?n.serialize()[1]:void 0,t&&t.component&&t.component.state?'{\n	"component": {\n		"init" : {\n			"state": '+JSON.stringify(t.component.state)+"\n		}\n	}\n}\n":"no state for selected component"},e.debug.diff=function(t){return require(["component/jsonviewer/JsonViewer"],function(t){var n;return n=e.instance(),t.showDiffDialog(n.__opsModel.getJsonData(),n.serialize())}),null},e.debug.json=function(){var t;return t=e.instance().serialize(),void 0,JSON.stringify(t)},e.debug["export"]=function(){var t,n,r,i,s;return s="CanvasData.json",r=e.debug.json(),n=new Blob([r],{type:"text/json"}),i=document.createEvent("MouseEvents"),t=document.createElement("a"),t.download=s,t.href=window.URL.createObjectURL(n),t.dataset.downloadurl=["text/json",t.download,t.href].join(":"),i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i),null},e.debug.view=function(t){var n;return t&&t.preventDefault&&t.preventDefault(),n=e.instance().serialize(),require(["component/jsonviewer/JsonViewer"],function(e){return e.showViewDialog(n)}),null},e.debug.checkValidDesign=function(){return dd().eachComponent(function(e){return e.design()===D.instance()?void 0:void 0,null}),null},e.debug.autoLayout=function(){return App.workspaces.getAwakeSpace().view.canvas.autoLayout()},window.d=function(){return e.instance()},window.dd=e.debug,window.dget=function(t){return e.instance().get(t)},window.dset=function(t,n){return e.instance().set(t,n)},window.dds=function(){return e.debug.json()},window.man="d()          Return the current Design instance \n dd()         Print all components in current Design \n dget(a)      Design att getter \n dset(a,b)    Design att setter \n dds()        Print JSON \n copy(dds())  Copy JSON",n=e.DesignImpl.prototype,e.DesignImpl.prototype=r={};for(s in n){i=n[s];if(!n.hasOwnProperty(s))continue;if(!s.match(/refreshAppUpdate|cacheComponent|getCost|diff|onAwsResourceUpdated/)){r[s]=n[s];continue}r[s]=function(){var t;return t=s,function(){return this!==e.instance()&&(void 0,void 0),n[t].apply(this,arguments)}}()}return null})}).call(this);