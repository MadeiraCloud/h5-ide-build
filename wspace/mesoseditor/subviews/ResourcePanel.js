define(["CloudResources","Design","../template/TplLeftPanel","constant","i18n!/nls/lang.js","ApiRequest","OpsModel","backbone","UI.nanoscroller","UI.dnd"],function(e,t,n,r,i,s,o){return MC.template.resPanelImageDocker=n.resourcePanelBubble,Backbone.View.extend({events:{"mousedown .resource-item":"startDrag"},initialize:function(e){return _.extend(this,e),this.setElement(this.parent.$el.find(".OEPanelLeft")),this.render()},render:function(){this.$el.html(n.panel()),this.renderDockerImageList(),this.$el.find(".nano").nanoScroller()},renderDockerImageList:function(){var t,i;return i=e(this.workspace.design.credentialId(),r.RESTYPE.DOCKERIMAGE,this.workspace.design.region()),t=i.toJSON(),_.each(t,function(e){return e.bubble=JSON.stringify(e)}),this.$el.find(".resource-list-docker-image").html(n.docker_image(t))},toggleLeftPanel:function(){return this.__leftPanelHidden=this.$el.toggleClass("hidden").hasClass("hidden"),null},toggleResourcePanel:function(){return this.toggleLeftPanel()},startDrag:function(e){var t,n,i,s;return e.button!==0?!1:(t=$(e.currentTarget),s=r.RESTYPE[t.attr("data-type")],n="#OpsEditor .OEPanelCenter",i=$.extend(!0,{},t.data("option")||{}),i.type=s,t.dnd(e,{dropTargets:$(n),dataTransfer:i,eventPrefix:"addItem_"}),!1)},remove:function(){_.invoke(this.subViews,"remove"),this.subViews=null,Backbone.View.prototype.remove.call(this)}})});