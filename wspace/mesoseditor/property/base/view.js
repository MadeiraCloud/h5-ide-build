var __indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};define(["constant","i18n!/nls/lang.js","backbone","jquery","handlebars","UI.selectbox","UI.notification","UI.multiinputbox","UI.modal","UI.selectbox","MC.validate","UI.parsley","UI.tooltip","UI.sortable","UI.tablist"],function(e,t){var n,r,i;return i=[],r=[],n=Backbone.View.extend({__addToTrash:function(e){if(__indexOf.call(i,e)<0)return i.push(e)},__clearTrash:function(){var e,t,n;for(t=0,n=i.length;t<n;t++)e=i[t],_.isObject(e)&&e.remove&&e.__removeSubView();return i=[],this},__removeSubView:function(){var e,t,n;for(t=0,n=r.length;t<n;t++)e=r[t],_.isObject(e)&&_.isFunction(e.remove)&&e.remove();return r=[]},addSubView:function(e){if(__indexOf.call(r,e)<0)return r.push(e)},setTitle:function(e){$("#OEPanelRight").find(this._isSub?".property-second-title":".property-title").text(e)},prependTitle:function(e){$("#OEPanelRight").find(this._isSub?".property-second-title":".property-title").prepend(e)},forceShow:function(){return $("#OEPanelRight").trigger("FORCE_SHOW"),null},disabledAllOperabilityArea:function(e){var t;if(e){if($("#OpsEditor").children(".disabled-event-layout").length)return;return t='<div class="disabled-event-layout"></div>',$("#OpsEditor").append(t),$("#tabbar-wrapper").append(t)}return $(".disabled-event-layout").remove()},_load:function(){var e,t;return this.__clearTrash(),this.__addToTrash(this),t=$("#OEPanelRight").find(".property-first-panel").find(".property-details"),e=$("<div class='scroll-content property-content property-details'></div>").insertAfter(t),t.empty().remove(),this._resetImmediatelySection(),this.setElement(e),this.render(),this.focusImportantInput(),null},_resetImmediatelySection:function(){return $(".apply-immediately-section").remove(),$(".property-panel-wrapper").removeClass("immediately")},_loadAsSub:function(e){var t;return this.__restore?$("#OEPanelRight").trigger("OPEN_SUBPANEL_IMM"):$("#OEPanelRight").trigger("OPEN_SUBPANEL"),this.setElement($("#OEPanelRight").find(".property-second-panel .property-content")),this.render(),t=this,setTimeout(function(){return t.focusImportantInput()},200),null},_render:function(){var t,n,r;r=this._originalRender(),selectbox.init();if(!_.isString(r))return r;n=this.model.get("uid");if(n){t=Design.instance().component(n);if(t&&(t.type===e.RESTYPE.SG||t.type===e.RESTYPE.DBINSTANCE))return null}return this.setTitle(r),null},focusImportantInput:function(){var e,t;return t=this,e=t.$el.find("input[data-empty-remove]").filter(function(){return!this.value.length}),e.length&&setTimeout(function(){return t.forceShow(),e.focus(),t.disabledAllOperabilityArea(!0)},0),null}}),n.extend=function(e,t){return e.render&&(e._originalRender=e.render,e.render=n.prototype._render),Backbone.View.extend.call(this,e,t)},n});