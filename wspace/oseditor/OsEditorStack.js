var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define(["CoreEditor","./OsViewStack","./model/DesignOs","CloudResources","constant"],function(e,t,n,r,i){var s;return s=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return __extends(s,e),s.prototype.viewClass=t,s.prototype.designClass=n,s.prototype.title=function(){return(this.design||this.opsModel).get("name")+" - stack"},s.prototype.isReady=function(){var e,t;return this.__hasAdditionalData?!0:!this.opsModel.hasJsonData()||!this.opsModel.isPersisted()?!1:(e=this.opsModel.get("region"),t=this.opsModel.getJsonData().agent.module,r(i.RESTYPE.OSFLAVOR,e).isReady()&&r(i.RESTYPE.OSIMAGE,e).isReady()&&r(i.RESTYPE.OSKP,e).isReady()&&r(i.RESTYPE.OSNETWORK,e).isReady()&&r(i.RESTYPE.OSSNAP,e).isReady()&&!!App.model.getStateModule(t.repo,t.tag))},s.prototype.fetchData=function(){var e,t,n;return t=this.opsModel.get("region"),n=this.opsModel.getJsonData().agent.module,e=[App.model.fetchStateModule(n.repo,n.tag),r(i.RESTYPE.OSFLAVOR,t).fetch(),r(i.RESTYPE.OSIMAGE,t).fetch(),r(i.RESTYPE.OSKP,t).fetch(),r(i.RESTYPE.OSSNAP,t).fetch(),r(i.RESTYPE.OSNETWORK,t).fetch()],this.opsModel.isPersisted()||e.unshift(this.opsModel.save()),Q.all(e)},s.prototype.isModified=function(){return this.opsModel.isPersisted()?this.design&&this.design.isModified():!0},s}(e),s});