(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["CoreEditor","./OsViewStack","./model/DesignOs","CloudResources","constant"],function(e,n,r,i,s){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.viewClass=n,o.prototype.designClass=r,o.prototype.title=function(){return(this.design||this.opsModel).get("name")+" - stack"},o.prototype.isReady=function(){var e,t;return this.__hasAdditionalData?!0:!this.opsModel.hasJsonData()||!this.opsModel.isPersisted()?!1:(e=this.opsModel.get("region"),t=this.opsModel.getJsonData().agent.module,i(s.RESTYPE.OSFLAVOR,e).isReady()&&i(s.RESTYPE.OSIMAGE,e).isReady()&&i(s.RESTYPE.OSKP,e).isReady()&&i(s.RESTYPE.OSNETWORK,e).isReady()&&i(s.RESTYPE.OSSNAP,e).isReady()&&!!App.model.getStateModule(t.repo,t.tag))},o.prototype.fetchData=function(){var e,t,n;return t=this.opsModel.get("region"),n=this.opsModel.getJsonData().agent.module,e=[App.model.fetchStateModule(n.repo,n.tag),i(s.RESTYPE.OSFLAVOR,t).fetch(),i(s.RESTYPE.OSIMAGE,t).fetch(),i(s.RESTYPE.OSKP,t).fetch(),i(s.RESTYPE.OSSNAP,t).fetch(),i(s.RESTYPE.OSNETWORK,t).fetch()],this.opsModel.isPersisted()||e.unshift(this.opsModel.save()),Q.all(e)},o.prototype.isModified=function(){return this.opsModel.isPersisted()?this.design&&this.design.isModified():!0},o}(e),o})}).call(this);