define(["ConnectionModel","constant"],function(e,t){return e.extend({type:"OsVolumeUsage",initialize:function(){var e,n,r,i,s,o;r=this.getTarget(t.RESTYPE.OSVOL),o=r.connections("OsVolumeUsage");for(i=0,s=o.length;i<s;i++)n=o[i],n!==this&&n.remove();e=this.getTarget(t.RESTYPE.OSSERVER),_.defer(function(){if(!e.isRemoved())return e.trigger("change:volume")})},remove:function(n){e.prototype.remove.call(this,n),this.getTarget(t.RESTYPE.OSSERVER).isRemoved()?this.getTarget(t.RESTYPE.OSVOL).remove():this.getTarget(t.RESTYPE.OSSERVER).trigger("change:volume")}})});