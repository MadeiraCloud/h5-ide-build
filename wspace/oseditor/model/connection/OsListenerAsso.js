(function(){define(["ConnectionModel","constant"],function(e,t){return e.extend({type:"OsListenerAsso",portDefs:[{port1:{name:"elb",type:t.RESTYPE.OSLISTENER},port2:{name:"elb",type:t.RESTYPE.OSPOOL}}],constructor:function(t,n){var r,i;return i={reason:this},r=t.connections("OsListenerAsso")[0],r&&r.remove(i),r=n.connections("OsListenerAsso")[0],r&&r.remove(i),e.apply(this,arguments)},isRemovable:function(){return{error:"Listener must keep connected to Pool"}},remove:function(n){var r,i;e.prototype.remove.apply(this,arguments);if(n&&n.reason&&n.reason.type==="OsListenerAsso")return;r=this.getTarget(t.RESTYPE.OSLISTENER),i=this.getTarget(t.RESTYPE.OSPOOL),r.isRemoved()&&!i.isRemoved()&&i.remove(),i.isRemoved()&&!r.isRemoved()&&r.remove()}})})}).call(this);