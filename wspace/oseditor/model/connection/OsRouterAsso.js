define(["ConnectionModel","constant"],function(e,t){return e.extend({type:"OsRouterAsso",oneToMany:t.RESTYPE.OSRT,portDefs:[{port1:{name:"route",type:t.RESTYPE.OSRT},port2:{name:"route",type:t.RESTYPE.OSSUBNET}}],initialize:function(){var e;e=this.getTarget(t.RESTYPE.OSRT),this.listenTo(e,"change:extNetworkId",this.onRtPublicityChanged),this.getTarget(t.RESTYPE.OSSUBNET).set("public",e.isPublic())},remove:function(){var n,r;return r=this.getTarget(t.RESTYPE.OSSUBNET),n=e.prototype.remove.apply(this,arguments),r.set("public",!1),n},onRtPublicityChanged:function(){this.getTarget(t.RESTYPE.OSSUBNET).set("public",this.getTarget(t.RESTYPE.OSRT).isPublic())}})});