(function(){define(["constant","../OsPropertyView","./template","CloudResources"],function(e,t,n,r){return t.extend({events:{"change .selection[data-target]":"updateAttribute"},render:function(){var t,i,s,o,u;return(o=this.mode())==="stack"||o==="appedit"?(void 0,s=this.model.connectionTargets("OsRouterAsso"),t=this.model.toJSON(),t.subnets=_.map(s,function(e){return e.toJSON()}),this.mode()==="appedit"&&(i=this.getRenderData(),i&&_.extend(t,i),t.status=i!=null?(u=i.app)!=null?u.status:void 0:void 0),void 0,t.extnetworks=r(e.RESTYPE.OSNETWORK,Design.instance().region()).getExtNetworks().map(function(e){return e.id}),this.$el.html(n.stackTemplate(t))):this.$el.html(n.appTemplate(this.getRenderData())),this},updateAttribute:function(e){var t,n,r,i;t=$(e.currentTarget),n=t.data("target"),i=t.getValue(),n==="extNetworkId"&&(i==="none"&&(i=""),r=this.$el.find('.selection[data-target="nat"]'),i?this.model.get(n)||r.setValue(!0):r.setValue(!1),this.$el.find(".os-property-router-nat").toggleClass("hide",!i)),this.model.set(n,i);if(n==="name")return this.setTitle(i)}},{handleTypes:[e.RESTYPE.OSRT],handleModes:["stack","appedit","app"]})})}).call(this);