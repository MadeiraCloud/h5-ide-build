define(["constant","../OsPropertyView","../osport/view","../oshmlist/view","./template/app","CloudResources"],function(e,t,n,r,i,s){return t.extend({initialize:function(){var t,n;t=Design.instance().region(),this.hmList=_.map((n=this.appModel)!=null?n.get("health_monitors"):void 0,function(n){return s(e.RESTYPE.OSHM,t).get(n)}),this.hmlistView=this.reg(new r({targetModel:this.hmList,isApp:!0}))},render:function(){return this.$el.html(i(this.getRenderData())),this.renderHmlist(),this},getModelJson:function(){var t,n,r;return n=((r=this.appModel)!=null?r.toJSON():void 0)||{},n=$.extend(!0,{},n),t=Design.modelClassForType(e.RESTYPE.OSPORT),_.each(n.members,function(e){var n;n=t.find(function(t){return t.get("ip")===e.address});if(!n)return;return e.name=n.isEmbedded()?n.owner().get("name"):n.get("name"),null}),n},renderHmlist:function(){return this.$(".pool-details").after(this.hmlistView.render().el)}},{handleTypes:[e.RESTYPE.OSPOOL],handleModes:["app"]})});