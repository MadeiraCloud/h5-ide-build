define(["constant","backbone","i18n!/nls/lang.js"],function(e,t,n){var r,i;return i={},r=t.Model.extend({initialize:function(e){return _.extend(this,e)},init:function(){},limits:{name:"^[a-zA-Z0-9][a-zA-Z0-9-]*$"},name:function(e){var t,r,i,s;s=this.model;if(!s)return;return i=s.get("name"),r=e,r===""?"":(t=!1,i!==r&&Design.instance().eachComponent(function(e){return e!==s&&e.get("name")===r&&(t=!0),null}),t===!0?sprintf(n.PARSLEY.TYPE_NAME_CONFLICT,"The",r):r==="self"||r==="this"||r==="global"||r==="meta"||r==="madeira"?sprintf(n.PARSLEY.TYPE_NAME_CONFLICT,"The",r):null)},port:function(e){return 1<=+e&&+e<=65535?null:r.commonTip("port")}},{extend:function(e,n){var r,i;return r=t.Model.extend.apply(this,arguments),delete r.register,delete r.getClass,n&&(i=n.handleTypes,this.register(i,r)),e.limits&&(r.prototype.limits=_.extend(e.limits,this.prototype.limits)),r},register:function(e,t){var n,r,s;for(r=0,s=e.length;r<s;r++)n=e[r],i[n]=t;return null},getClass:function(e){return i[e]},commonTip:function(e){return sprintf(n.PARSLEY.THIS_VALUE_SHOULD_BE_A_VALID_XXX,e)},greaterTip:function(e){return sprintf(n.PARSLEY.THIS_VALUE_SHOULD_BE_GREATER_THAN_XXX,e)},lowerTip:function(e){return sprintf(n.PARSLEY.THIS_VALUE_SHOULD_BE_LOWER_THAN_XXX,e)},geTip:function(e){return sprintf(n.PARSLEY.THIS_VALUE_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO_XXX,e)},leTip:function(e){return sprintf(n.PARSLEY.THIS_VALUE_SHOULD_BE_LOWER_THAN_OR_EQUAL_TO_XXX,e)},rangeTip:function(e,t){return sprintf(n.PARSLEY.THIS_VALUE_MUST_BETWEEN_XXX_XXX(e,t))},validation:{range4G:function(e){return r.validation.range(null,2147483647,e)},range:function(e,t,n){if(_.isNumber(e)&&_.isNumber(t))return function(i){return i<e||i>t?r.rangeTip(e,t):!n&&i===""?"":null};if(_.isNumber(e))return function(t){return t<e?r.greaterTip(e-1):!n&&t===""?"":null};if(_.isNumber(t))return function(e){return e>t?r.lowerTip(t+1):!n&&e===""?"":null}}},limit:{positive:"^[1-9]+[0-9]*$",nonnegative:"^[0-9]*$",portRange:"^[0-9-]*$",portICMPRange:"^[0-9/-]*$",ipv4:"^[0-9.]*$",cidrv4:"^[0-9/.]*$",number:"^-?[0-9]*$|^-?[0-9]+\\.[0-9]*$",osname:"^[a-zA-Z0-9][a-zA-Z0-9-]*$"}}),r});