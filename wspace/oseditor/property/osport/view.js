(function(){define(["constant","../OsPropertyView","./template","CloudResources","../ossglist/view"],function(e,t,n,r,i){return t.extend({events:{"change .selection[data-target]":"updateAttribute"},initialize:function(){return this.sgListView=this.reg(new i({targetModel:this.model})),this.listenTo(this.model,"change:fip",this.render)},render:function(){var t,i,s,o,u,a;return(a=this.mode())==="stack"||a==="appedit"?this.model.isAttached()?(u=_.extend({hasFloatIP:this.model.getFloatingIp(),isPurePort:this.model.type===e.RESTYPE.OSPORT},this.model.toJSON()),this.mode()==="appedit"&&(u=_.extend(u,this.getRenderData())),this.$el.html(n.stack(u))):this.$el.html(n.unattached(u)):(t={},s=this.model.getFloatingIp(),s&&(i=r(e.RESTYPE.OSFIP,Design.instance().region()).get(s.get("appId")),i&&(o=i.get("floating_ip_address")),t.float_ip=o),this.$el.html(n.app(_.extend(this.getRenderData(),t)))),this.model.isAttached()&&this.$el.append(this.sgListView.render().el),this},updateAttribute:function(e){var t,n,r;t=$(e.currentTarget),n=t.data("target"),r=t.getValue(),n==="float_ip"?this.model.setFloatingIp(r):this.model.set(n,r);if(n==="name")return this.setTitle(r)}},{handleTypes:[e.RESTYPE.OSPORT],handleModes:["stack","app","appedit"]})})}).call(this);