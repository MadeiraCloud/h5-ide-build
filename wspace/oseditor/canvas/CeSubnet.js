define(["CanvasElement","constant","CanvasManager","CanvasView","i18n!/nls/lang.js"],function(e,t,n,r,i){return e.extend({type:t.RESTYPE.OSSUBNET,parentType:[t.RESTYPE.OSNETWORK],defaultSize:[19,19],portDirMap:{route:"vertical"},listenModelEvents:function(){this.listenTo(this.model,"change:public",this.render),this.listenTo(this.model,"change:cidr",this.render)},portPosition:function(t,n){var i,s;return i=this.model,s=i.width()*r.GRID_WIDTH/2,t==="route-top"?[s,-5,e.constant.PORT_UP_ANGLE]:[s,i.height()*r.GRID_HEIGHT+5,e.constant.PORT_DOWN_ANGLE]},create:function(){var e,t,n;return t=this.canvas.svg,n=this.canvas.appendSubnet(this.createGroup()),n.add([this.createPortElement().attr({"class":"port port-gray tooltip","data-name":"route","data-alias":"route-top","data-tooltip":i.IDE.PORT_TIP_T}),this.createPortElement().attr({"class":"port port-gray tooltip","data-name":"route","data-alias":"route-bottom","data-tooltip":i.IDE.PORT_TIP_T}),t.image(MC.IMG_URL+"ide/icon-os/cvs-subnet.png",12,12).move(5,5).classes("public tooltip").attr({"data-tooltip":"Public subnet"})]),e=this.model,this.initNode(n,e.x(),e.y()),n},label:function(){return""+this.model.get("name")+" ("+this.model.get("cidr")+")"},labelWidth:function(t){var n;return n=e.prototype.labelWidth.call(this,t),this.model.get("public")&&(n-=16),n},render:function(){var e;return e=this.model,n.setLabel(this,this.$el.children("text")),this.$el[0].instance.move(e.x()*r.GRID_WIDTH,e.y()*r.GRID_WIDTH),this.$el.children("text")[0].setAttribute("x",e.get("public")?21:5),n.toggle(this.$el.children(".public"),e.get("public"))}})});