(function(){define(["jquery","event","./view","./model"],function(e,t,n,r){var i,s;return i=function(e,i){var o,u,a,f;return f=new n,o=new r,f.model=o,f.on("CLOSE_POPUP",function(){return s(f,o)}),u=function(){return t.onLongListen(t.UPDATE_TA_MODAL,function(){return void 0}),o.createList(),f.render(e,i)},a=function(){var n;return n=Q.defer(),t.onListen(t.TA_SYNC_FINISH,function(){return void 0,o.createList(),f.render(e,i),o.get("error_list").length===0?n.resolve():n.reject()}),MC.ta.validRun(),n.promise},t.onLongListen(t.UNLOAD_TA_MODAL,function(){return void 0,s(f,o)}),e==="stack"?(f.closedPopup(),a()):u()},s=function(e,n){return void 0,e.off(),n.off(),e.undelegateEvents(),e=null,n=null,t.offListen(t.UPDATE_TA_MODAL),t.offListen(t.UNLOAD_TA_MODAL)},{loadModule:i,unLoadModule:s}})}).call(this);