define([],function(){function e(e){return e&&typeof e=="object"&&e.constructor===Array}function t(t){return e(t)?"array":t===null?"null":typeof t}function n(n){return n?(n.uid&&(c=Design.instance().component(n.uid),c&&(n=c)),n.type?n.type.replace("AWS.","").replace("EC2.","").replace("VPC.","").replace("AutoScaling.LaunchConfiguration","LC"):e(n)?n.length?"Array":"EmptyArray":n===null?"Null":"Object"):t(n)}var r=0,i={version:"0.0.1",a:[],b:[],feedback:function(e){},swap:function(e){this.a=[this.b,this.b=this.a][0],e(this.a,this.b)},clear:function(e){this.a=this.b={},e(this.a,this.b)},compare:function(e,i,s,o,u){r=0;var a=this,f=t(e),l=t(i),c=document.createElement("span");c.appendChild(document.createTextNode(n(e))),c.setAttribute("class","typeName");var h=document.createElement("span");h.appendChild(document.createTextNode(n(i))),h.setAttribute("class","typeName");var p=f==="object"||f==="array"?"":String(e)+"",d=l==="object"||l==="array"?"":String(i)+"";f=="string"&&(p='"'+p+'"'),l=="string"&&(d='"'+d+'"');var v="span";if(p.indexOf("\n")>-1||d.indexOf("\n")>-1)v="pre";var m=document.createElement("span");spanNode=document.createElement("span"),spanNode.appendChild(document.createTextNode(s+": ")),m.appendChild(spanNode),e===undefined&&i!==undefined?(m.setAttribute("class","added"),valueNode=document.createTextNode(d),l=="number"||l=="string"||l=="boolean"?(spanNode=document.createElement(v),spanNode.setAttribute("class",l),spanNode.appendChild(valueNode),m.appendChild(spanNode)):(m.appendChild(valueNode),m.appendChild(h)),a.feedback(m)):i===undefined&&e!==undefined?(m.setAttribute("class","removed"),valueNode=document.createTextNode(p),f=="number"||f=="string"||f=="boolean"?(spanNode=document.createElement(v),spanNode.setAttribute("class",f),spanNode.appendChild(valueNode),m.appendChild(spanNode)):(m.appendChild(valueNode),m.appendChild(c)),a.feedback(m)):f!==l||f!=="object"&&f!=="array"&&e!==i?(m.setAttribute("class","changed"),valueNode=document.createTextNode(p),f=="number"||f=="string"||f=="boolean"?(spanNode=document.createElement(v),spanNode.setAttribute("class",f),spanNode.appendChild(valueNode),m.appendChild(spanNode)):(m.appendChild(valueNode),m.appendChild(c)),m.appendChild(document.createTextNode(" => ")),valueNode=document.createTextNode(d),l=="number"||l=="string"||l=="boolean"?(spanNode=document.createElement(v),spanNode.setAttribute("class",l),spanNode.appendChild(valueNode),m.appendChild(spanNode)):(m.appendChild(valueNode),m.appendChild(h)),s==="key"?m.setAttribute("class","changed key"):a.feedback(m)):(valueNode=document.createTextNode(p),f=="number"||f=="string"||f=="boolean"?(spanNode=document.createElement(v),spanNode.setAttribute("class",f),spanNode.appendChild(valueNode),m.appendChild(spanNode)):(m.appendChild(valueNode),m.appendChild(c)));if(f==="object"||f==="array"||l==="object"||l==="array"){var g=[];for(var y in e)g.push(y);for(var y in i)g.push(y);g.sort();var b=document.createElement("ul");b.setAttribute("class","closed"),b.appendChild(m);for(var y=0;y<g.length;y++){if(g[y]===g[y-1])continue;var w=document.createElement("li");b.appendChild(w),a.compare(e&&e[g[y]],i&&i[g[y]],g[y],w)}o.appendChild(b)}else o.appendChild(m)}};return i});