define("component/session/template",["handlebars"],function(e){var t=function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<section style="width:400px;" class="invalid-session">\n  <div class="confirmSession">\n  <div class="modal-header"><h3>Invalid Session</h3></div>\n\n  <article class="modal-body">\n    <div class="modal-text-major"> <p>Your account has signed in from other location or you last login has timed out.</p> <p>Would you like to reconnect this session or close it?</p> </div>\n    <div class="modal-text-minor">If you have unsaved changes, close this session will cause all your change to lose.</div>\n  </article>\n\n  <footer class="modal-footer">\n    <button id="SessionReconnect" class="btn btn-blue">Reconnect</button>\n    <button id="SessionClose" class="btn btn-silver">Close Session</button>\n  </footer>\n  </div>\n\n  <div class="reconnectSession" style="display:none;">\n  <div class="modal-header"><h3>Reconnect Session</h3></div>\n  <article class="modal-body">\n    <div class="modal-text-major">Please provide your password to reconnect:</div>\n    <div class="modal-input">\n      <input type="password" id="SessionPassword" class="input" placeholder="Password" style="width:200px;" autofocus>\n    </div>\n  </article>\n  <footer class="modal-footer">\n    <button id="SessionConnect" class="btn btn-blue" disabled>Connect</button>\n    <button id="SessionClose2" class="btn btn-red">Close Session</button>\n  </footer>\n  </div>\n</section>\n'};return e.template(t)}),function(){define("component/session/SessionDialogView",["./template","i18n!nls/lang.js"],function(e,t){var n;return n=Backbone.View.extend({events:{"click #SessionReconnect":"showReconnect","click #SessionClose":"closeSession","click #SessionClose2":"closeSession","click #SessionConnect":"connect","keypress #SessionPassword":"passwordChanged"},render:function(){modal(e(),!1),this.setElement($("#modal-wrap"))},showReconnect:function(){$(".invalid-session .confirmSession").hide(),$(".invalid-session .reconnectSession").show()},closeSession:function(){return this.model.closeSession()},connect:function(){if($("#SessionConnect").is(":disabled"))return;return $("#SessionConnect").attr("disabled","disabled"),this.model.connect($("#SessionPassword").val()).then(function(){},function(e){$("#SessionConnect").removeAttr("disabled"),notification("error",t.ide.NOTIFY_MSG_WARN_AUTH_FAILED),$("#SessionPassword").toggleClass("parsley-error",!0)})},passwordChanged:function(e){$("#SessionPassword").toggleClass("parsley-error",!1),($("#SessionPassword").val()||"").length>=6?$("#SessionConnect").removeAttr("disabled"):$("#SessionConnect").attr("disabled","disabled"),e.which===13&&this.connect()}}),n})}.call(this),function(){define("component/session/SessionDialog",["./SessionDialogView","ApiRequest","common_handle","event"],function(e,t,n,r){var i,s,o;return o=Backbone.Model.extend({closeSession:function(){n.cookie.deleteCookie(),window.location.href="/login/"},connect:function(e){return t("login",{username:$.cookie("username"),password:e}).then(function(e){return function(t){n.cookie.setCookie(t),e.trigger("CONNECTED"),r.trigger(r.UPDATE_APP_LIST),r.trigger(r.UPDATE_DASHBOARD),App.WS.subscribe(),MC.data.is_loading_complete||(window.location.href="/")}}(this))}}),i=null,s=function(){var t,n;if(i)return;i=this,t=new o,n=new e({model:t}),n.render(),t.on("CONNECTED",function(){return i=null,t.off(),n.remove()})},s})}.call(this);